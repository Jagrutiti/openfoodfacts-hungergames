{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/NutritionView.vue?147c","webpack:///./src/views/LogoAnnotationView.vue?3752","webpack:///./src/components/AnnotationCounter.vue?5977","webpack:///./src/App.vue?1e3a","webpack:///./src/components/Menu.vue?428c","webpack:///./src/settings.js","webpack:///./src/components/Helper.vue?e94d","webpack:///src/components/Helper.vue","webpack:///./src/components/Helper.vue?9af1","webpack:///./src/components/Helper.vue?4dc9","webpack:///src/components/Menu.vue","webpack:///./src/components/Menu.vue?797a","webpack:///./src/components/Menu.vue?e6a6","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/views/QuestionView.vue?a77e","webpack:///./src/const.js","webpack:///./src/utils.js","webpack:///./src/robotoff.js","webpack:///./src/components/Product.vue?99a1","webpack:///./src/countries.js","webpack:///./src/off.js","webpack:///src/components/Product.vue","webpack:///./src/components/Product.vue?7a9f","webpack:///./src/components/Product.vue?1a61","webpack:///./src/components/LoadingSpinner.vue?1ce3","webpack:///src/components/LoadingSpinner.vue","webpack:///./src/components/LoadingSpinner.vue?4010","webpack:///./src/components/LoadingSpinner.vue?09c7","webpack:///./src/components/AnnotationCounter.vue?aaed","webpack:///src/components/AnnotationCounter.vue","webpack:///./src/components/AnnotationCounter.vue?7bc9","webpack:///./src/components/AnnotationCounter.vue?8f36","webpack:///src/views/QuestionView.vue","webpack:///./src/views/QuestionView.vue?560f","webpack:///./src/views/QuestionView.vue?9dd7","webpack:///./src/views/NutritionView.vue?fe31","webpack:///src/views/NutritionView.vue","webpack:///./src/views/NutritionView.vue?9eef","webpack:///./src/views/NutritionView.vue?a735","webpack:///./src/views/TableAnnotation.vue?5755","webpack:///./src/utils/tableAnotation.js","webpack:///src/views/TableAnnotation.vue","webpack:///./src/views/TableAnnotation.vue?9b0c","webpack:///./src/views/TableAnnotation.vue?cbe5","webpack:///./src/views/SettingsView.vue?ed41","webpack:///./src/i18n/messages.js","webpack:///src/views/SettingsView.vue","webpack:///./src/views/SettingsView.vue?c247","webpack:///./src/views/SettingsView.vue","webpack:///./src/views/InsightListView.vue?d002","webpack:///./src/components/Pagination.vue?cc3d","webpack:///src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?b5ee","webpack:///./src/components/Pagination.vue?7538","webpack:///src/views/InsightListView.vue","webpack:///./src/views/InsightListView.vue?6dc3","webpack:///./src/views/InsightListView.vue?5399","webpack:///./src/views/LogoSearchView.vue?ab07","webpack:///./src/components/LogoCardGrid.vue?4fa4","webpack:///src/components/LogoCardGrid.vue","webpack:///./src/components/LogoCardGrid.vue?8fa3","webpack:///./src/components/LogoCardGrid.vue?38c5","webpack:///src/views/LogoSearchView.vue","webpack:///./src/views/LogoSearchView.vue?134f","webpack:///./src/views/LogoSearchView.vue?6101","webpack:///./src/views/LogoAnnotationView.vue?a518","webpack:///src/views/LogoAnnotationView.vue","webpack:///./src/views/LogoAnnotationView.vue?2f15","webpack:///./src/views/LogoAnnotationView.vue?87ab","webpack:///./src/views/LogoUpdateView.vue?7a1f","webpack:///src/views/LogoUpdateView.vue","webpack:///./src/views/LogoUpdateView.vue?564c","webpack:///./src/views/LogoUpdateView.vue","webpack:///./src/main.js","webpack:///./src/assets/questionsScreenshot.png","webpack:///./src/assets/logoNameLabel.png","webpack:///./src/components/LoadingSpinner.vue?a616","webpack:///./src/assets sync nonrecursive \\.png$","webpack:///./src/assets/logoGeneral.png","webpack:///./src/views/TableAnnotation.vue?fe61","webpack:///./src/views/LogoSearchView.vue?04c8","webpack:///./src/assets/memLogo.png","webpack:///./src/components/Pagination.vue?712a","webpack:///./src/components/Menu.vue?2606","webpack:///./src/views/InsightListView.vue?33ec","webpack:///./src/App.vue?c1e5","webpack:///./src/assets/logo.png","webpack:///./src/components/LogoCardGrid.vue?34a8","webpack:///./src/components/Helper.vue?c430","webpack:///./src/views/QuestionView.vue?5994","webpack:///./src/components/Product.vue?37ac"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","staticClass","_l","item","to","_e","label","_v","_s","on","openHelper","helperIsOpen","closeHelper","STORAGE_KEY","localSettings","fetch","JSON","parse","localStorage","getItem","save","settings","setItem","stringify","update","getLang","urlParams","URLSearchParams","location","search","urlLanguage","has","lang","navigator","language","userLanguage","split","open","close","$t","helpInformations","pageKey","imageSize","imgUrl","title","text","pageRatio","pageIndex","nativeOn","$event","prev","arguments","keys","next","welcome","page1","page2","image","page3","logos","explanations","forEach","urlKey","console","debug","translatedExplanations","currentPathKey","translations","rep","texts","props","log","watch","$route","computed","Math","floor","methods","$emit","max","min","component","menu","intialSettings","components","menuItems","filter","insightType","class","selected","selectedInsightType","selectInsightType","directives","rawName","expression","domProps","target","composing","valueTagInput","clearValueTagInput","staticStyle","Array","isArray","sortByPopularity","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","currentQuestion","question","valueTagQuestionsURL","imageZoomOptions","imageRotationClassName","currentQuestionImageUrl","annotate","loading","currentQuestionBarcode","remainingQuestionCount","lastAnnotations","sessionAnnotatedCount","ROBOTOFF_API_URL","OFF_URL","OFF_API_URL","OFF_IMAGE_URL","getURLParam","removeEmptyKeys","obj","undefined","insightId","annotation","axios","post","withCredentials","questions","sortBy","insightTypes","valueTag","brands","country","count","params","insight_types","value_tag","then","source_image_url","loadLogo","logoId","updateLogo","type","put","searchLogos","barcode","annotated","getLogoAnnotations","index","url","annotateLogos","annotations","getInsights","page","getUserStatistics","username","getCroppedImageUrl","imageUrl","boundingBox","y_min","x_min","y_max","x_max","getLogosImages","logoIds","join","productName","productUrl","productEditUrl","imagesPreview","model","callback","hideImage","ingredientsText","countries","countryMap","id","getCookie","cookies","document","cookie","trim","startsWith","getUsername","sessionCookie","isNext","el","getProduct","getProductUrl","getProductEditUrl","getImageUrl","imagePath","combineURLs","match","splittedBarcode","off","countriesTags","images","loaded","toolbar","rotateLeft","rotateRight","map","isNaN","imagesDisplayUrl","mounted","centered","size","show","Boolean","required","default","String","remainingCount","annotatedCount","insight_id","insight_type","Number","historyAnnotatedCount","sortedLastAnnotations","reverse","robotoff","set","history","pushState","newRelativePathQuery","delete","category","brand","product_weight","urlParamValue","getRandomInsightType","à","â","ä","é","è","ê","ë","î","ï","ô","ö","û","ù","ü","output","replace","RegExp","valueTagTimeout","questionBuffer","insightTypesNames","getInitialInsightType","imageRotation","seenInsightIds","Set","brandFilter","countryFilter","clearTimeout","deleteURLParam","setTimeout","updateURLParam","loadQuestions","updateInsightTypeUrlParam","rotateImage","updateLastAnnotations","updateCurrentQuestion","noRemainingQuestion","error","availableInsightTypes","append","addEventListener","event","nodeName","vm","imageRotationClass","productBuffer","nutritiveValue","visible","isInvalid","currentProductData","$set","getNutrimentUnits","deleteProduct","skipProduct","validate","product_name","bufferIsEmpty","addProducts","nutrimentId","quantity","unit","resetProductData","newProductBuffer","messages","currentState","click","urlImg","desactivateListenersInside","isDraggingCropRectangle","imageWidth","imageHeight","moveAt","stopPropagation","stopDragging","box","toDelete","selectable","path","mouseover","currentLinks","getCenter","boxes","points","x","y","neighbours","nodeKey","neighbourKey","noPointerEvent","keyIsDown","youWantToDelete","clickLink","youWantToDeleteBoxCenter","clickNode","unfill","canValidate","line","lineId","center","column","columnId","cursor","lastElement","group","groupId","cropRectangle","start","end","startDraggingStart","startDraggingEnd","previousStep","nextStep","dataQuality","skip","disabled","points2Path","point","points2Key","sort","pA","pB","compare3points","pC","getConvexPoints","sortedPoints","enveloppe","a","b","bord","pointIndex","sum","reduce","getBoxes","textAnnotations","boxIndex","boundingPoly","vertices","description","getGraphConnexComponents","graph","node2component","neighbors","minComponentId","includes","getHullPaths","component2nodes","node","componentId","accumulateur","nodeId","componentKey","nodeId1","nodeId2","sortKeys","node1Key","node2Key","isInRectangle","x1","y1","x2","y2","Xmin","Ymin","Xmax","Ymax","0","1","2","3","batchOfInsights","annnotated","currentPath","memorizedGraph","currentlyDragged","convexHalls","lineIterator","savedLines","columnIterator","savedColumns","savedCellsGraph","visibleBoxes","showSavedLines","showSavedColumns","canNotValidate","showCorppingRectangle","isSaved","savingDict","dicKey","findIndex","reset","alert","cellId","lines","boxId","boxId2cellId","columns","lineIds","columnIds","row_index","column_index","cell_id","loadOCR","boxKey","offsetX","offsetY","pop","newTextAnnotations","preventDefault","saveLang","$$selectedVal","options","val","_value","selectedLang","multiple","toUpperCase","en","it","fr","de","es","$i18n","locale","langs","barcodeFilter","valueTagFilter","insightTypeFilter","annotationFilter","loadInsights","resultCount","insight","formatDatetime","timestamp","completed_at","pageCount","updatedPage","currentPage","paginationLabels","hasFirst","first","active","goto","hasLast","last","labels","items","disable","dotsBefore","dotsAfter","insights","pageSize","datetime","modifiers","$forceUpdate","logo","annotation_type","toggleSelectLogo","editLogoURL","externalLogoURL","distance","toFixed","annotation_value","sendAnnotations","valueInput","typeInput","isValidAnnotation","selectLogos","selectedLogos","unselectedLogos","defaultValue","parseInt","noLogoAvailable","targetLogoId","annCount","loadLogos","select","imageURL","cropURL","annotationValue","annotationType","Vue","use","SuiVue","VueRouter","Viewer","VueI18n","config","productionTip","routes","redirect","InsightListView","QuestionView","NutritionView","TableAnnotation","SettingsView","LogoAnnotationView","LogoSearchView","LogoUpdateView","router","i18n","fallbackLocale","render","h","App","$mount","webpackContext","req","webpackContextResolve","e","Error","code","resolve"],"mappings":"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","file":"js/app.6343266a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/openfoodfacts-hungergames/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NutritionView.vue?vue&type=style&index=0&id=5dbd3b68&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogoAnnotationView.vue?vue&type=style&index=0&id=2b92e4f2&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCounter.vue?vue&type=style&index=0&id=11ffedee&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Menu'),_c('sui-segment',{attrs:{\"attached\":\"bottom\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('sui-menu',{attrs:{\"attached\":\"top\"}},[_c('sui-dropdown',{staticClass:\"mobile only\",attrs:{\"item\":\"\",\"icon\":\"bars\",\"simple\":\"\"}},[_c('sui-dropdown-menu',[_vm._l((_vm.menu),function(item){return [(!item.to)?_c('sui-dropdown-header',{key:item.label},[_vm._v(\" \"+_vm._s(item.label)+\" \")]):_vm._e(),(!item.label)?_c('sui-dropdown-divider',{key:item.label}):_vm._e(),(item.to)?_c('router-link',{key:item.label,staticClass:\"item\",attrs:{\"active-class\":\"active\",\"to\":item.to}},[_vm._v(\" \"+_vm._s(item.label)+\" \")]):_vm._e()]})],2)],1),_c('sui-menu-item',{staticClass:\"item mobile hidden\"},[_c('img',{attrs:{\"src\":require(\"../assets/logo.png\")}})]),_vm._l((_vm.menuItems),function(item){return _c('router-link',{key:item.to,staticClass:\"item mobile hidden\",attrs:{\"active-class\":\"active\",\"to\":item.to}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])}),_c('sui-menu-menu',{attrs:{\"position\":\"right\"}},[_c('sui-menu-item',{staticClass:\"helpButton\",on:{\"click\":_vm.openHelper}},[_c('sui-icon',{attrs:{\"name\":\"help\"}})],1)],1),_c('Helper',{attrs:{\"open\":_vm.helperIsOpen},on:{\"close-helper\":_vm.closeHelper}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const STORAGE_KEY = 'hunger-game-settings';\n\nexport const localSettings = {\n    fetch: function () {\n        return JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}')\n    },\n    save: function (settings) {\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(settings))\n    },\n    update: function (key, value) {\n        const settings = this.fetch();\n        settings[key] = value\n        this.save(settings);\n    }\n}\n\nexport const getLang = () => {\n    const settings = localSettings.fetch();\n\n    const urlParams = new URLSearchParams(window.location.search)\n    const urlLanguage = urlParams.has(\"language\") && urlParams.get(\"language\")\n\n    return (\n        urlLanguage ||\n        settings.lang ||\n        (navigator.language || navigator.userLanguage).split('-')[0]\n    )\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('sui-modal',{attrs:{\"open\":_vm.open},on:{\"changed\":_vm.close}},[_c('sui-modal-header',[_vm._v(\" \"+_vm._s(_vm.$t(\"helper.title\"))+\" \")]),_c('sui-modal-content',{attrs:{\"image\":\"\"}},[_c('sui-image',{attrs:{\"wrapped\":\"\",\"size\":_vm.helpInformations[_vm.pageKey].imageSize || 'medium',\"src\":_vm.helpInformations[_vm.pageKey].imgUrl}}),_c('sui-modal-description',[_c('sui-header',[_vm._v(_vm._s(_vm.helpInformations[_vm.pageKey].title))]),_vm._l((_vm.helpInformations[_vm.pageKey].texts),function(text,key){return _c('p',{key:key,staticClass:\"explanationText\"},[_vm._v(\" \"+_vm._s(text)+\" \")])})],2)],1),_c('sui-segment',{attrs:{\"aligned\":\"right\"}},[_c('sui-progress',{attrs:{\"attached\":\"\",\"top\":\"\",\"percent\":_vm.pageRatio,\"color\":\"green\"}}),(_vm.pageIndex > 0)?_c('sui-button',{nativeOn:{\"click\":function($event){return _vm.prev.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"helper.previous\"))+\" \")]):_vm._e(),(Object.keys(_vm.helpInformations).length > _vm.pageIndex + 1)?_c('sui-button',{attrs:{\"primary\":\"\"},nativeOn:{\"click\":function($event){return _vm.next.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"helper.next\"))+\" \")]):_c('sui-button',{attrs:{\"positive\":\"\"},nativeOn:{\"click\":function($event){return _vm.close.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"helper.close\"))+\" \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <sui-modal :open=\"open\" v-on:changed=\"close\">\n      <sui-modal-header> {{ $t(\"helper.title\") }} </sui-modal-header>\n\n      <sui-modal-content image>\n        <sui-image\n          wrapped\n          :size=\"helpInformations[pageKey].imageSize || 'medium'\"\n          :src=\"helpInformations[pageKey].imgUrl\"\n        />\n\n        <sui-modal-description>\n          <sui-header>{{ helpInformations[pageKey].title }}</sui-header>\n          <p\n            v-for=\"(text, key) in helpInformations[pageKey].texts\"\n            :key=\"key\"\n            class=\"explanationText\"\n          >\n            {{ text }}\n          </p>\n        </sui-modal-description>\n      </sui-modal-content>\n\n      <sui-segment aligned=\"right\">\n        <sui-progress attached top :percent=\"pageRatio\" color=\"green\" />\n        <sui-button v-if=\"pageIndex > 0\" @click.native=\"prev\">\n          {{ $t(\"helper.previous\") }}\n        </sui-button>\n\n        <sui-button\n          v-if=\"Object.keys(helpInformations).length > pageIndex + 1\"\n          primary\n          @click.native=\"next\"\n        >\n          {{ $t(\"helper.next\") }}\n        </sui-button>\n\n        <sui-button v-else positive @click.native=\"close\">\n          {{ $t(\"helper.close\") }}\n        </sui-button>\n      </sui-segment>\n    </sui-modal>\n  </div>\n</template>\n\n<script>\n// potential image size (default is medium) :\n// \"mini\" | \"tiny\" | \"small\" | \"medium\" | \"large\" | \"big\" | \"huge\" | \"massive\"\nconst explanations = {\n  welcome: {\n    page1: {},\n    page2: {\n      image: \"questionsScreenshot.png\",\n      imageSize: \"huge\",\n    },\n    page3: {\n      image: \"logoGeneral.png\",\n      imageSize: \"huge\",\n    },\n  },\n  logos: {\n    page1: {\n      image: \"logoGeneral.png\",\n    },\n    page2: {\n      image: \"memLogo.png\",\n    },\n    page3: {\n      image: \"logoNameLabel.png\",\n      imageSize: \"large\",\n    },\n  },\n};\n\nconst images = require.context(\"../assets/\", false, /\\.png$/);\nconst getImageUrl = (imageName) => images(\"./\" + (imageName || \"logo.png\"));\n\n// set imageUrl in explanations\nObject.keys(explanations).forEach((urlKey) => {\n  Object.keys(explanations[urlKey]).forEach((pageKey) => {\n    explanations[urlKey][pageKey].imgUrl = getImageUrl(\n      explanations[urlKey][pageKey].image || null\n    );\n  });\n});\n\nconst getHelpInformations = (currentPath, translatedExplanations) => {\n  let currentPathKey = currentPath.slice(1);\n  console.debug(translatedExplanations);\n\n  if (!(currentPathKey in translatedExplanations)) {\n    currentPathKey = \"welcome\";\n  }\n\n  const translations = translatedExplanations[currentPathKey];\n  const rep = {};\n\n  Object.keys(translations).forEach((pageKey) => {\n    const { title, ...texts } = translations[pageKey];\n    rep[pageKey] = {\n      title,\n      texts: { ...texts },\n      ...(explanations[currentPathKey] && explanations[currentPathKey][pageKey]\n        ? explanations[currentPathKey][pageKey]\n        : {}),\n    };\n  });\n  console.debug(rep);\n  return rep;\n};\n\n// const translateHelpInformation = (explanations, rootKey, t) => {\n\n// }\n\nexport default {\n  name: \"IntroductionView\",\n  props: { open: Boolean },\n  data: function () {\n    console.log(this.$t(\"helper\"));\n    return {\n      pageIndex: 0,\n      helpInformations: getHelpInformations(\n        this.$router.history.current.path,\n        this.$t(\"helper\")\n      ),\n    };\n  },\n  watch: {\n    $route() {\n      this.helpInformations = getHelpInformations(\n        this.$router.history.current.path,\n        this.$t(\"helper\")\n      );\n      this.pageIndex = 0;\n    },\n  },\n  computed: {\n    pageRatio: function () {\n      if (Object.keys(this.helpInformations).length === 1) {\n        return 100;\n      }\n      return Math.floor(\n        100 * (this.pageIndex / (Object.keys(this.helpInformations).length - 1))\n      );\n    },\n    pageKey: function () {\n      return `page${this.pageIndex + 1}`;\n    },\n  },\n  methods: {\n    close: function () {\n      this.$emit(\"close-helper\");\n    },\n    prev: function () {\n      this.pageIndex = Math.max(0, this.pageIndex - 1);\n    },\n    next: function () {\n      this.pageIndex = Math.min(\n        Object.keys(this.helpInformations).length - 1,\n        this.pageIndex + 1\n      );\n    },\n  },\n};\n</script>\n<style scoped>\n.explanationText {\n  font-size: 1.3rem;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Helper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Helper.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Helper.vue?vue&type=template&id=3f3556f8&scoped=true&\"\nimport script from \"./Helper.vue?vue&type=script&lang=js&\"\nexport * from \"./Helper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Helper.vue?vue&type=style&index=0&id=3f3556f8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f3556f8\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <sui-menu attached=\"top\">\n    <sui-dropdown item icon=\"bars\" simple class=\"mobile only\">\n      <sui-dropdown-menu>\n        <template v-for=\"item in menu\">\n          <sui-dropdown-header v-if=\"!item.to\" :key=\"item.label\">\n            {{ item.label }}\n          </sui-dropdown-header>\n          <sui-dropdown-divider v-if=\"!item.label\" :key=\"item.label\" />\n          <router-link\n            active-class=\"active\"\n            class=\"item\"\n            :to=\"item.to\"\n            :key=\"item.label\"\n            v-if=\"item.to\"\n          >\n            {{ item.label }}\n          </router-link>\n        </template>\n      </sui-dropdown-menu>\n    </sui-dropdown>\n\n    <sui-menu-item class=\"item mobile hidden\">\n      <img src=\"~/../assets/logo.png\" />\n    </sui-menu-item>\n\n    <router-link\n      v-for=\"item in menuItems\"\n      active-class=\"active\"\n      class=\"item mobile hidden\"\n      :to=\"item.to\"\n      :key=\"item.to\"\n    >\n      {{ item.label }}\n    </router-link>\n\n    <sui-menu-menu position=\"right\">\n      <sui-menu-item v-on:click=\"openHelper\" class=\"helpButton\">\n        <sui-icon name=\"help\" />\n      </sui-menu-item>\n    </sui-menu-menu>\n    <Helper :open=\"helperIsOpen\" v-on:close-helper=\"closeHelper\" />\n  </sui-menu>\n</template>\n\n<script>\nimport { localSettings } from \"../settings\";\nimport Helper from \"./Helper\";\n\nconst intialSettings = localSettings.fetch();\nlocalSettings.update(\"tuto-done\", true);\n\nexport default {\n  data: function () {\n    return {\n      menu: [\n        { label: this.$t(\"menu.games\") },\n        { label: this.$t(\"menu.questions\"), to: \"/questions\" },\n        { label: this.$t(\"menu.logos\"), to: \"/logos\" },\n        // {label: this.$t('menu.nutritions'), to:'/nutritions'},\n        {},\n        { label: this.$t(\"menu.manage\"), type: \"header\" },\n        { label: this.$t(\"menu.insights\"), to: \"/insights\" },\n        { label: this.$t(\"menu.settings\"), to: \"/settings\" },\n      ],\n      helperIsOpen: !intialSettings[\"tuto-done\"],\n    };\n  },\n  components: { Helper },\n  computed: {\n    menuItems: function () {\n      return this.menu.filter((item) => {\n        return item.to;\n      });\n    },\n  },\n  methods: {\n    closeHelper: function () {\n      this.helperIsOpen = false;\n    },\n    openHelper: function () {\n      this.helperIsOpen = true;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.menu-container {\n  margin-bottom: 1rem;\n}\n.helpButton:hover {\n  cursor: pointer;\n  background-color: rgba(0, 0, 0, 0.05);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=a19543bc&scoped=true&\"\nimport script from \"./Menu.vue?vue&type=script&lang=js&\"\nexport * from \"./Menu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Menu.vue?vue&type=style&index=0&id=a19543bc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a19543bc\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n\n    <Menu />\n    <sui-segment attached=\"bottom\">\n      <router-view />\n    </sui-segment>\n\n  </div>\n</template>\n\n<script>\n\nimport Menu from \"./components/Menu\";\n\nexport default {\n  name: \"app\",\n  components: { Menu },\n  data: function() {\n    return {};\n  }\n};\n</script>\n\n<style scoped>\n.menu-container {\n  margin-bottom: 1rem;\n}\n\n.segment {\n  border: none!important;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=5dc6acac&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=5dc6acac&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5dc6acac\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ui grid stackable\"},[_c('div',{staticClass:\"five wide column centered\"},[_c('div',{staticClass:\"insight-column\"},[_vm._l((_vm.availableInsightTypes),function(insightType){return _c('div',{key:insightType,staticClass:\"tag\",class:{ selected: insightType === _vm.selectedInsightType },on:{\"click\":function($event){return _vm.selectInsightType(insightType)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"questions.\" + insightType))+\" \")])}),_c('div',{staticClass:\"ui form\"},[_c('div',{staticClass:\"ui icon input\",attrs:{\"id\":\"value-tag-input\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.valueTagInput),expression:\"valueTagInput\"}],staticClass:\"ui input\",attrs:{\"placeholder\":_vm.$t('questions.value_search')},domProps:{\"value\":(_vm.valueTagInput)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.valueTagInput=$event.target.value}}}),(_vm.valueTagInput)?_c('i',{staticClass:\"times link icon\",on:{\"click\":function($event){return _vm.clearValueTagInput()}}}):_vm._e()]),_c('div',{staticClass:\"ui toggle checkbox\",staticStyle:{\"margin-top\":\"0.5rem\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sortByPopularity),expression:\"sortByPopularity\"}],attrs:{\"type\":\"checkbox\",\"name\":\"sortBy\"},domProps:{\"checked\":Array.isArray(_vm.sortByPopularity)?_vm._i(_vm.sortByPopularity,null)>-1:(_vm.sortByPopularity)},on:{\"change\":function($event){var $$a=_vm.sortByPopularity,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.sortByPopularity=$$a.concat([$$v]))}else{$$i>-1&&(_vm.sortByPopularity=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.sortByPopularity=$$c}}}}),_c('label',[_vm._v(_vm._s(_vm.$t(\"questions.popularity_sort\")))])])]),_c('div',{staticClass:\"ui divider\"}),_c('div',{staticClass:\"ui hidden divider\"}),(_vm.currentQuestion)?_c('div',[_c('h3',[_vm._v(_vm._s(_vm.currentQuestion.question))]),(_vm.valueTagQuestionsURL.length)?_c('div',[_c('router-link',{attrs:{\"to\":_vm.valueTagQuestionsURL,\"target\":\"_blank\"}},[_c('div',{staticClass:\"ui big label\"},[_vm._v(\" \"+_vm._s(_vm.currentQuestion.value)+\" \"),_c('i',{staticClass:\"external alternate icon small blue\",staticStyle:{\"margin-left\":\"0.5rem\"}})])])],1):_c('div',[_c('div',{staticClass:\"ui big label\"},[_vm._v(_vm._s(_vm.currentQuestion.value))])]),_c('div',{staticClass:\"ui divider hidden\"}),_c('viewer',{staticStyle:{\"height\":\"300px\"},attrs:{\"options\":_vm.imageZoomOptions}},[_c('img',{class:[_vm.imageRotationClassName],staticStyle:{\"max-height\":\"300px\",\"max-width\":\"300px\"},attrs:{\"src\":_vm.currentQuestionImageUrl}})]),_c('div',{staticClass:\"ui divider hidden\"}),_c('div',[_c('button',{staticClass:\"ui big negative button annotate\",attrs:{\"data-inverted\":\"\",\"data-tooltip\":\"Shortcut: N\"},on:{\"click\":function($event){return _vm.annotate(0)}}},[_c('i',{staticClass:\"trash icon\"}),_vm._v(\" \"+_vm._s(_vm.$t(\"questions.no\"))+\" \")]),_c('button',{staticClass:\"ui big button annotate\",attrs:{\"data-inverted\":\"\",\"data-tooltip\":\"Shortcut: K\"},on:{\"click\":function($event){return _vm.annotate(-1)}}},[_c('i',{staticClass:\"question icon\"}),_vm._v(\" \"+_vm._s(_vm.$t(\"questions.skip\"))+\" \")]),_c('button',{staticClass:\"ui big positive button annotate\",attrs:{\"data-inverted\":\"\",\"data-tooltip\":\"Shortcut: O\"},on:{\"click\":function($event){return _vm.annotate(1)}}},[_c('i',{staticClass:\"check icon\"}),_vm._v(\" \"+_vm._s(_vm.$t(\"questions.yes\"))+\" \")])])],1):_c('div',{staticClass:\"flex-center\",staticStyle:{\"margin-top\":\"100px\"}},[_c('LoadingSpinner',{attrs:{\"show\":_vm.loading}}),(_vm.noRemainingQuestion)?_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t(\"questions.no_questions_remaining\")))])]):_vm._e()],1)],2)]),_c('div',{staticClass:\"six wide column centered\"},[_c('Product',{attrs:{\"barcode\":_vm.currentQuestionBarcode}})],1),_c('div',{staticClass:\"three wide column annotation-column\"},[_c('AnnotationCounter',{attrs:{\"remainingCount\":_vm.remainingQuestionCount,\"lastAnnotations\":_vm.lastAnnotations,\"sessionAnnotatedCount\":_vm.sessionAnnotatedCount}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const ROBOTOFF_API_URL = \"https://robotoff.openfoodfacts.org/api/v1\";\nexport const OFF_URL = \"https://world.openfoodfacts.org\";\nexport const OFF_API_URL = `${OFF_URL}/api/v0`;\nexport const OFF_IMAGE_URL = \"https://static.openfoodfacts.org/images/products\";\n","export const getURLParam = key => {\n    const urlParams = new URLSearchParams(window.location.search);\n\n    if (!urlParams.has(key)) {\n        return \"\";\n    }\n\n    return urlParams.get(key);\n};\n\nexport const removeEmptyKeys = obj => {\n  Object.keys(obj).forEach(\n    key => (obj[key] === undefined || obj[key] === '') && delete obj[key]\n  )\n  return obj\n}\n","import axios from 'axios';\nimport { ROBOTOFF_API_URL } from \"./const\"\nimport { getLang } from \"./settings\";\nimport { removeEmptyKeys } from './utils'\n\nexport default {\n\n  annotate(insightId, annotation) {\n    return axios.post(\n      `${ROBOTOFF_API_URL}/insights/annotate`,\n      new URLSearchParams(\n        `insight_id=${insightId}&annotation=${annotation}&update=1`,\n      ),\n      { withCredentials: true },\n    )\n  },\n\n  questions(sortBy, insightTypes, valueTag, brands, country, count = 10) {\n    const lang = getLang();\n    return axios.get(\n      `${ROBOTOFF_API_URL}/questions/${sortBy}`, {\n      params: removeEmptyKeys({\n        count, lang, insight_types: insightTypes, value_tag: valueTag, brands, country\n      })\n    }\n    ).then(result => {\n      let questions = result.data.questions;\n      result.data.questions = questions.filter(question => question.source_image_url);\n      return result;\n    })\n  },\n\n  loadLogo(logoId) {\n    return axios.get(\n      `${ROBOTOFF_API_URL}/images/logos/${logoId}`\n    )\n  },\n\n  updateLogo(logoId, value, type) {\n    return axios.put(\n      `${ROBOTOFF_API_URL}/images/logos/${logoId}`, removeEmptyKeys({\n        withCredentials: true, value, type\n      })\n    )\n  },\n\n  searchLogos(barcode, value, type, count = 25) {\n    return axios.get(\n      `${ROBOTOFF_API_URL}/images/logos`, {\n      params: removeEmptyKeys({\n        annotated: 1, barcode, value, type, count\n      })\n    }\n    )\n  },\n\n  getLogoAnnotations(logoId, index, count) {\n    const url = logoId.length > 0\n      ? `${ROBOTOFF_API_URL}/ann/${logoId}`\n      : `${ROBOTOFF_API_URL}/ann`;\n    return axios.get(\n      url, {\n      params: removeEmptyKeys({\n        index, count\n      })\n    }\n    )\n  },\n\n  annotateLogos(annotations) {\n    return axios.post(\n      `${ROBOTOFF_API_URL}/images/logos/annotate`, removeEmptyKeys(\n        {\n          withCredentials: true, annotations,\n        }\n      )\n    )\n  },\n\n  getInsights(barcode, insightTypes, valueTag, annotation, page, count = 25) {\n    let annotated\n    if (annotation.length && annotation == \"not_annotated\") {\n      annotated = \"0\";\n    }\n    return axios.get(\n      `${ROBOTOFF_API_URL}/insights`, {\n      params: removeEmptyKeys({\n        barcode, insight_types: insightTypes,\n        value_tag: valueTag, annotation, page,\n        annotated, count\n      })\n    }\n    )\n  },\n\n  getUserStatistics(username) {\n    return axios.get(`${ROBOTOFF_API_URL}/users/statistics/${username}`)\n  },\n\n  getCroppedImageUrl(imageUrl, boundingBox) {\n    const [y_min, x_min, y_max, x_max] = boundingBox;\n    return `${ROBOTOFF_API_URL}/images/crop?image_url=${imageUrl}&y_min=${y_min}&x_min=${x_min}&y_max=${y_max}&x_max=${x_max}`;\n  },\n\n  getLogosImages(logoIds) {\n    return axios.get(\n      `${ROBOTOFF_API_URL}/images/logos?logo_ids=${logoIds.join(\",\")}`\n    )\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.loaded)?_c('div',{staticClass:\"product-card\"},[_c('h3',[_vm._v(_vm._s(_vm.productName))]),_c('a',{staticClass:\"ui button primary\",attrs:{\"target\":\"_blank\",\"href\":_vm.productUrl}},[_vm._v(_vm._s(_vm.$t(\"questions.view\")))]),_c('a',{staticClass:\"ui button\",attrs:{\"target\":\"_blank\",\"href\":_vm.productEditUrl}},[_vm._v(_vm._s(_vm.$t(\"questions.edit\")))]),_c('div',{staticClass:\"ui divider\"}),(_vm.imagesPreview.length > 0)?_c('div',[_c('div',{staticClass:\"ui basic segment\"},[_c('sui-checkbox',{model:{value:(_vm.hideImage),callback:function ($$v) {_vm.hideImage=$$v},expression:\"hideImage\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"questions.hide_images\"))+\" \")])],1),(!_vm.hideImage)?_c('viewer',{attrs:{\"images\":_vm.imagesPreview,\"options\":_vm.imageZoomOptions}},_vm._l((_vm.imagesPreview),function(url){return _c('img',{key:url,staticStyle:{\"max-height\":\"200px\",\"max-width\":\"200px\",\"margin-right\":\"3px\"},attrs:{\"src\":url,\"loading\":\"lazy\"}})}),0):_vm._e(),_c('div',{staticClass:\"ui divider\"})],1):_vm._e(),(_vm.brands)?_c('p',[_c('strong',[_vm._v(_vm._s(_vm.$t(\"questions.brands\"))+\" :\")]),_vm._v(\" \"+_vm._s(_vm.brands)+\" \")]):_vm._e(),(_vm.ingredientsText)?_c('p',[_c('strong',[_vm._v(_vm._s(_vm.$t(\"questions.ingredients\"))+\":\")]),_vm._v(\" \"+_vm._s(_vm.ingredientsText)+\" \")]):_vm._e(),(_vm.countries)?_c('p',[_c('strong',[_vm._v(_vm._s(_vm.$t(\"questions.countries\"))+\":\")]),_vm._v(\" \"+_vm._s(_vm.countries)+\" \")]):_vm._e()]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import countries from \"./data/countries\";\n\n\nexport const countryMap = function () {\n    const countryMap = {};\n    countries.forEach(c => {\n        countryMap[c.id] = c.label;\n    })\n    return countryMap;\n}();","import { getLang } from \"./settings\";\nimport { OFF_API_URL, OFF_IMAGE_URL } from \"./const\"\nimport axios from 'axios';\nimport combineURLs from 'axios/lib/helpers/combineURLs';\n\n\nexport default {\n  getCookie(name) {\n    const cookies = document.cookie.split(';').filter((item) => item.trim().startsWith(`${name}=`));\n    if (cookies.length) {\n      const cookie = cookies[0];\n      return cookie.split(\"=\", 2)[1];\n    }\n    return \"\";\n  },\n\n  getUsername() {\n    const sessionCookie = this.getCookie(\"session\");\n\n    if (!sessionCookie.length) {\n      return \"\";\n    }\n\n    let isNext = false;\n    let username = \"\";\n    sessionCookie.split(\"&\").forEach(el => {\n      if (el === \"user_id\") {\n        isNext = true;\n      } else if (isNext) {\n        username = el;\n        isNext = false;\n      }\n    });\n    return username;\n  },\n\n  getProduct(barcode) {\n    return axios.get(\n      `${OFF_API_URL}/product/${barcode}.json?fields=product_name,brands,ingredients_text,countries_tags,images`\n    )\n  },\n\n  getProductUrl(barcode) {\n    const lang = getLang();\n    return `https://world${lang === 'en' ? '' : '-' + lang}.openfoodfacts.org/product/${barcode}`\n  },\n\n  getProductEditUrl(barcode) {\n    const lang = getLang();\n    return `https://world${lang === 'en' ? '' : '-' + lang}.openfoodfacts.org/cgi/product.pl?type=edit&code=${barcode}`;\n  },\n\n  getImageUrl(imagePath) {\n    return combineURLs(OFF_IMAGE_URL, imagePath)\n  }\n}\n","<template>\n  <div v-if=\"loaded\" class=\"product-card\">\n    <h3>{{ productName }}</h3>\n\n    <a target=\"_blank\" :href=\"productUrl\" class=\"ui button primary\">{{\n      $t(\"questions.view\")\n    }}</a>\n\n    <a target=\"_blank\" :href=\"productEditUrl\" class=\"ui button\">{{\n      $t(\"questions.edit\")\n    }}</a>\n\n    <div class=\"ui divider\"></div>\n\n    <div v-if=\"imagesPreview.length > 0\">\n      <div class=\"ui basic segment\">\n        <sui-checkbox v-model=\"hideImage\">\n          {{ $t(\"questions.hide_images\") }}\n        </sui-checkbox>\n      </div>\n\n      <viewer\n        :images=\"imagesPreview\"\n        :options=\"imageZoomOptions\"\n        v-if=\"!hideImage\"\n      >\n        <img\n          :src=\"url\"\n          v-for=\"url in imagesPreview\"\n          :key=\"url\"\n          loading=\"lazy\"\n          style=\"max-height: 200px; max-width: 200px; margin-right: 3px\"\n        />\n      </viewer>\n      <div class=\"ui divider\"></div>\n    </div>\n    <p v-if=\"brands\">\n      <strong>{{ $t(\"questions.brands\") }} :</strong>\n      {{ brands }}\n    </p>\n    <p v-if=\"ingredientsText\">\n      <strong>{{ $t(\"questions.ingredients\") }}:</strong>\n      {{ ingredientsText }}\n    </p>\n    <p v-if=\"countries\">\n      <strong>{{ $t(\"questions.countries\") }}:</strong>\n      {{ countries }}\n    </p>\n  </div>\n</template>\n\n<script>\nimport { localSettings } from \"../settings\";\nimport { countryMap } from \"../countries\";\nimport offService from \"../off\";\n\nconst BARCODE_REGEX = /(...)(...)(...)(.*)$/;\nconst splitBarcode = (barcode) => {\n  const match = BARCODE_REGEX.exec(barcode);\n\n  if (match !== null) {\n    match.shift();\n    return match;\n  }\n\n  return [barcode];\n};\n\nconst getImageRootURL = (barcode) => {\n  const splittedBarcode = splitBarcode(barcode);\n\n  if (splittedBarcode === null) {\n    return null;\n  }\n  return offService.getImageUrl(splittedBarcode.join(\"/\"));\n};\n\nexport default {\n  name: \"Product\",\n  props: [\"barcode\"],\n\n  data: function () {\n    return {\n      hideImage: localSettings.fetch()[\"hideImage\"] || false,\n\n      productName: \"\",\n      brands: \"\",\n      ingredientsText: \"\",\n      countriesTags: [],\n      images: {},\n      loaded: false,\n      imageZoomOptions: {\n        toolbar: {\n          rotateLeft: 1,\n          rotateRight: 1,\n        },\n      },\n    };\n  },\n\n  watch: {\n    barcode: function (value) {\n      if (value) {\n        this.update();\n      } else {\n        this.productName = \"\";\n        this.brands = \"\";\n        this.ingredientsText = \"\";\n        this.countriesTags = [];\n        this.images = {};\n        this.loaded = false;\n      }\n    },\n\n    hideImage: function (value) {\n      localSettings.update(\"hideImage\", value);\n    },\n  },\n  methods: {\n    update: function () {\n      offService.getProduct(this.barcode).then((result) => {\n        const product = result.data.product;\n        this.productName = product.product_name || \"\";\n        this.brands = product.brands || \"\";\n        this.ingredientsText = product.ingredients_text || \"\";\n        this.countriesTags = product.countries_tags || [];\n        this.images = product.images || {};\n        this.loaded = true;\n      });\n    },\n  },\n  computed: {\n    productUrl: function () {\n      if (this.barcode === null) {\n        return \"\";\n      }\n      return offService.getProductUrl(this.barcode);\n    },\n    productEditUrl: function () {\n      if (this.barcode === null) {\n        return \"\";\n      }\n      return offService.getProductEditUrl(this.barcode);\n    },\n    countries: function () {\n      return this.countriesTags.map((c) => countryMap[c]).join(\", \");\n    },\n    imagesPreview: function () {\n      const imagesDisplayUrl = [];\n      for (const key of Object.keys(this.images)) {\n        if (!isNaN(key)) {\n          const imageUrl = `${getImageRootURL(this.barcode)}/${key}.jpg`;\n          imagesDisplayUrl.push(imageUrl);\n        }\n      }\n      return imagesDisplayUrl;\n    },\n  },\n  mounted() {\n    if (this.barcode) {\n      this.update();\n    }\n  },\n};\n</script>\n\n<style scoped>\n@media only screen and (max-width: 767px) {\n  .product-card {\n    text-align: center;\n  }\n}\n\n.product-image {\n  max-width: 250px;\n  max-height: 250px;\n  margin: 0 3px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Product.vue?vue&type=template&id=592dbe0e&scoped=true&\"\nimport script from \"./Product.vue?vue&type=script&lang=js&\"\nexport * from \"./Product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Product.vue?vue&type=style&index=0&id=592dbe0e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"592dbe0e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{centered: _vm.centered}},[(_vm.show)?_c('div',{staticClass:\"ui active inline loader\",class:[_vm.size]}):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"{centered: centered}\">\n    <div class=\"ui active inline loader\" v-if=\"show\" :class=\"[size]\"></div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"LoadingSpinner\",\n  props: {\n    show: {\n      type: Boolean,\n      required: true\n    },\n    centered: {\n      type: Boolean,\n      required: false,\n      default: true\n    },\n    size: {\n      type: String,\n      required: false,\n      default: 'huge'\n    }\n  }\n};\n</script>\n\n<style scoped>\n.centered {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingSpinner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingSpinner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoadingSpinner.vue?vue&type=template&id=66aae622&scoped=true&\"\nimport script from \"./LoadingSpinner.vue?vue&type=script&lang=js&\"\nexport * from \"./LoadingSpinner.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LoadingSpinner.vue?vue&type=style&index=0&id=66aae622&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66aae622\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-column\"},[_c('h3',[_vm._v(_vm._s(_vm.$t('questions.annotations')))]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('questions.remaining_annotations'))+\" \"),_c('strong',[_vm._v(_vm._s(_vm.remainingCount))])]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('questions.annotated_annotations'))+\": \"),_c('strong',[_vm._v(_vm._s(_vm.annotatedCount))])]),_c('div',{staticClass:\"ui divider\"}),_c('h3',[_vm._v(_vm._s(_vm.$t('questions.last_annotations')))]),_vm._l((_vm.sortedLastAnnotations),function(annotation){return _c('div',{key:annotation.question.insight_id},[_c('a',{attrs:{\"target\":\"_blank\",\"href\":_vm.getProductUrl(annotation.question.barcode)}},[_vm._v(_vm._s(annotation.question.insight_type)+\": \"+_vm._s(annotation.question.value))]),(annotation.annotation == 1)?_c('i',{staticClass:\"check green icon\"}):(annotation.annotation == -1)?_c('i',{staticClass:\"question icon\"}):(annotation.annotation == 0)?_c('i',{staticClass:\"times red icon\"}):_vm._e()])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"main-column\">\n    <h3>{{$t('questions.annotations')}}</h3>\n    <p>\n      {{$t('questions.remaining_annotations')}}\n      <strong>{{ remainingCount }}</strong>\n    </p>\n    <p>\n      {{$t('questions.annotated_annotations')}}:\n      <strong>{{ annotatedCount }}</strong>\n    </p>\n    <div class=\"ui divider\" />\n    <h3>{{$t('questions.last_annotations')}}</h3>\n    <div v-for=\"annotation in sortedLastAnnotations\" :key=\"annotation.question.insight_id\">\n      <a\n        target=\"_blank\"\n        :href=\"getProductUrl(annotation.question.barcode)\"\n      >{{ annotation.question.insight_type }}: {{ annotation.question.value }}</a>\n      <i v-if=\"annotation.annotation == 1\" class=\"check green icon\"></i>\n      <i v-else-if=\"annotation.annotation == -1\" class=\"question icon\"></i>\n      <i v-else-if=\"annotation.annotation == 0\" class=\"times red icon\"></i>\n    </div>\n  </div>\n</template>\n\n<script>\nimport robotoffService from \"../robotoff\";\nimport offService from \"../off\";\n\nexport default {\n  name: \"AnnotationCounter\",\n  props: {\n    remainingCount: {\n      type: Number,\n      required: true\n    },\n    lastAnnotations: {\n      type: Array,\n      required: true\n    },\n    sessionAnnotatedCount: {\n      type: Number,\n      required: true\n    }\n  },\n  data: function() {\n    return {\n      username: offService.getUsername(),\n      historyAnnotatedCount: 0\n    };\n  },\n  methods: {\n    getProductUrl: function(barcode) {\n      return offService.getProductUrl(barcode);\n    }\n  },\n  computed: {\n    sortedLastAnnotations: function() {\n      const lastAnnotations = this.lastAnnotations.slice();\n      return lastAnnotations.reverse();\n    },\n    annotatedCount: function() {\n      return this.historyAnnotatedCount + this.sessionAnnotatedCount;\n    }\n  },\n  mounted() {\n    if (this.username.length) {\n      robotoffService\n        .getUserStatistics(this.username)\n        .then(result => {\n          this.historyAnnotatedCount = result.data.count.annotations;\n        })\n        .catch(error => window.console.log(error));\n    }\n  }\n};\n</script>\n\n<style scoped>\n.main-column {\n  padding: 1.5rem 1.5rem;\n  background-color: #686868;\n  color: #ffffff;\n}\n\na {\n  color: #ffffff;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCounter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCounter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotationCounter.vue?vue&type=template&id=11ffedee&scoped=true&\"\nimport script from \"./AnnotationCounter.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotationCounter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AnnotationCounter.vue?vue&type=style&index=0&id=11ffedee&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11ffedee\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"ui grid stackable\">\n    <div class=\"five wide column centered\">\n      <div class=\"insight-column\">\n        <div\n          class=\"tag\"\n          :class=\"{ selected: insightType === selectedInsightType }\"\n          v-for=\"insightType of availableInsightTypes\"\n          :key=\"insightType\"\n          @click=\"selectInsightType(insightType)\"\n        >\n          {{ $t(\"questions.\" + insightType) }}\n        </div>\n        <div class=\"ui form\">\n          <div class=\"ui icon input\" id=\"value-tag-input\">\n            <input\n              class=\"ui input\"\n              :placeholder=\"$t('questions.value_search')\"\n              v-model=\"valueTagInput\"\n            />\n            <i\n              @click=\"clearValueTagInput()\"\n              v-if=\"valueTagInput\"\n              class=\"times link icon\"\n            ></i>\n          </div>\n          <div class=\"ui toggle checkbox\" style=\"margin-top: 0.5rem\">\n            <input v-model=\"sortByPopularity\" type=\"checkbox\" name=\"sortBy\" />\n            <label>{{ $t(\"questions.popularity_sort\") }}</label>\n          </div>\n        </div>\n        <div class=\"ui divider\" />\n        <div class=\"ui hidden divider\"></div>\n        <div v-if=\"currentQuestion\">\n          <h3>{{ currentQuestion.question }}</h3>\n          <div v-if=\"valueTagQuestionsURL.length\">\n            <router-link :to=\"valueTagQuestionsURL\" target=\"_blank\">\n              <div class=\"ui big label\">\n                {{ currentQuestion.value }}\n                <i\n                  style=\"margin-left: 0.5rem\"\n                  class=\"external alternate icon small blue\"\n                ></i>\n              </div>\n            </router-link>\n          </div>\n          <div v-else>\n            <div class=\"ui big label\">{{ currentQuestion.value }}</div>\n          </div>\n          <div class=\"ui divider hidden\"></div>\n          <viewer :options=\"imageZoomOptions\" style=\"height: 300px\">\n            <img\n              :class=\"[imageRotationClassName]\"\n              :src=\"currentQuestionImageUrl\"\n              style=\"max-height: 300px; max-width: 300px\"\n            />\n          </viewer>\n          <div class=\"ui divider hidden\"></div>\n\n          <div>\n            <button\n              data-inverted\n              data-tooltip=\"Shortcut: N\"\n              class=\"ui big negative button annotate\"\n              @click=\"annotate(0)\"\n            >\n              <i class=\"trash icon\"></i>\n              {{ $t(\"questions.no\") }}\n            </button>\n            <button\n              data-inverted\n              data-tooltip=\"Shortcut: K\"\n              class=\"ui big button annotate\"\n              @click=\"annotate(-1)\"\n            >\n              <i class=\"question icon\"></i>\n              {{ $t(\"questions.skip\") }}\n            </button>\n            <button\n              data-inverted\n              data-tooltip=\"Shortcut: O\"\n              class=\"ui big positive button annotate\"\n              @click=\"annotate(1)\"\n            >\n              <i class=\"check icon\"></i>\n              {{ $t(\"questions.yes\") }}\n            </button>\n          </div>\n        </div>\n        <div class=\"flex-center\" v-else style=\"margin-top: 100px\">\n          <LoadingSpinner :show=\"loading\" />\n          <div v-if=\"noRemainingQuestion\">\n            <h2>{{ $t(\"questions.no_questions_remaining\") }}</h2>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"six wide column centered\">\n      <Product :barcode=\"currentQuestionBarcode\" />\n    </div>\n    <div class=\"three wide column annotation-column\">\n      <AnnotationCounter\n        :remainingCount=\"remainingQuestionCount\"\n        :lastAnnotations=\"lastAnnotations\"\n        :sessionAnnotatedCount=\"sessionAnnotatedCount\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport robotoffService from \"../robotoff\";\nimport Product from \"../components/Product\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\n\nimport AnnotationCounter from \"../components/AnnotationCounter\";\n\nconst updateURLParam = (key, value) => {\n  const urlParams = new URLSearchParams(window.location.search);\n  urlParams.set(key, value);\n  const newRelativePathQuery =\n    window.location.pathname + \"?\" + urlParams.toString();\n  history.pushState(null, \"\", newRelativePathQuery);\n};\n\nconst deleteURLParam = (key) => {\n  const urlParams = new URLSearchParams(window.location.search);\n\n  if (!urlParams.has(key)) {\n    return;\n  }\n\n  urlParams.delete(key);\n\n  const newRelativePathQuery =\n    window.location.pathname +\n    (urlParams.toString().length ? `?${urlParams.toString()}` : \"\");\n\n  history.pushState(null, \"\", newRelativePathQuery);\n};\n\nconst getURLParam = (key) => {\n  const urlParams = new URLSearchParams(window.location.search);\n\n  if (!urlParams.has(key)) {\n    return \"\";\n  }\n\n  return urlParams.get(key);\n};\n\nconst NO_QUESTION_LEFT = \"NO_QUESTION_LEFT\";\n\nconst insightTypesNames = {\n  label: \"label\",\n  category: \"category\",\n  brand: \"brand\",\n  product_weight: \"product weight\",\n};\n\nconst randomInsightTypeChoices = [\"label\", \"category\", \"brand\"];\n\nconst getRandomInsightType = () =>\n  randomInsightTypeChoices[\n    Math.floor(randomInsightTypeChoices.length * Math.random())\n  ];\n\nconst getInitialInsightType = () => {\n  const urlParamValue = getURLParam(\"type\");\n\n  if (urlParamValue.length) {\n    return urlParamValue;\n  }\n\n  return getRandomInsightType();\n};\n\nconst reformatTagMapping = {\n  \" \": \"-\",\n  \"'\": \"-\",\n  \"&\": \"\",\n  à: \"a\",\n  â: \"a\",\n  ä: \"a\",\n  é: \"e\",\n  è: \"e\",\n  ê: \"e\",\n  ë: \"e\",\n  î: \"i\",\n  ï: \"i\",\n  ô: \"o\",\n  ö: \"o\",\n  û: \"u\",\n  ù: \"u\",\n  ü: \"u\",\n};\n\nconst reformatValueTag = (value) => {\n  let output = value.trim().toLowerCase();\n  for (const [search, replace] of Object.entries(reformatTagMapping)) {\n    output = output.replace(new RegExp(search, \"g\"), replace);\n  }\n  output = output.replace(/-{2,}/g, \"-\");\n  return output;\n};\n\nexport default {\n  name: \"QuestionView\",\n  components: { Product, AnnotationCounter, LoadingSpinner },\n  data: function () {\n    return {\n      valueTag: getURLParam(\"value_tag\"),\n      valueTagInput: getURLParam(\"value_tag\"),\n      valueTagTimeout: null,\n      currentQuestion: null,\n      questionBuffer: [],\n      remainingQuestionCount: 0,\n      lastAnnotations: [],\n      sessionAnnotatedCount: 0,\n      insightTypesNames: insightTypesNames,\n      selectedInsightType: getInitialInsightType(),\n      imageRotation: 0,\n      seenInsightIds: new Set(),\n      sortByPopularity: false,\n      brandFilter: getURLParam(\"brand\"),\n      countryFilter: getURLParam(\"country\"),\n      imageZoomOptions: {\n        toolbar: {\n          rotateLeft: 1,\n          rotateRight: 1,\n        },\n      },\n    };\n  },\n  watch: {\n    valueTagInput: function () {\n      clearTimeout(this.valueTagTimeout);\n\n      if (this.valueTagInput.length == 0) {\n        this.valueTag = \"\";\n        deleteURLParam(\"value_tag\");\n        return;\n      }\n\n      const valueTagInput = this.valueTagInput.toLowerCase();\n\n      this.valueTagTimeout = setTimeout(() => {\n        this.valueTag = reformatValueTag(valueTagInput);\n        updateURLParam(\"value_tag\", this.valueTag);\n      }, 1000);\n    },\n    valueTag: function () {\n      this.currentQuestion = null;\n      this.questionBuffer = [];\n      this.loadQuestions();\n    },\n    sortByPopularity: function () {\n      this.currentQuestion = null;\n      this.questionBuffer = [];\n      this.loadQuestions();\n    },\n    selectedInsightType: function () {\n      this.updateInsightTypeUrlParam();\n    },\n  },\n  methods: {\n    clearValueTagInput() {\n      this.valueTagInput = \"\";\n    },\n    rotateImage() {\n      window.console.log(this.imageRotation);\n      if (this.imageRotation === 0) {\n        this.imageRotation = 90;\n      } else if (this.imageRotation === 90) {\n        this.imageRotation = 180;\n      } else if (this.imageRotation === 180) {\n        this.imageRotation = 270;\n      } else if (this.imageRotation === 270) {\n        this.imageRotation = 0;\n      }\n    },\n    updateInsightTypeUrlParam() {\n      updateURLParam(\"type\", this.selectedInsightType);\n    },\n    updateLastAnnotations(question, annotation) {\n      this.lastAnnotations.push({\n        question,\n        annotation,\n      });\n\n      if (this.lastAnnotations.length > 10) {\n        this.lastAnnotations.shift();\n      }\n    },\n    selectInsightType: function (insightType) {\n      this.selectedInsightType = insightType;\n      this.currentQuestion = null;\n      this.questionBuffer = [];\n      this.loadQuestions();\n    },\n    annotate: function (annotation) {\n      if (annotation !== -1) {\n        robotoffService.annotate(this.currentQuestion.insight_id, annotation);\n        this.updateLastAnnotations(this.currentQuestion, annotation);\n        this.remainingQuestionCount -= 1;\n        this.sessionAnnotatedCount += 1;\n      }\n      this.updateCurrentQuestion();\n\n      if (!this.noRemainingQuestion && this.questionBuffer.length <= 2) {\n        this.loadQuestions();\n      }\n    },\n    updateCurrentQuestion: function () {\n      this.currentQuestion = null;\n      if (this.questionBuffer.length > 0) {\n        this.currentQuestion = this.questionBuffer.shift();\n      } else {\n        window.console.error(\n          \"question buffer is empty, cannot update current question!\"\n        );\n      }\n    },\n    loadQuestions: function () {\n      const sortBy = this.sortByPopularity ? \"popular\" : \"random\";\n      const count = 10;\n      robotoffService\n        .questions(\n          sortBy,\n          this.selectedInsightType,\n          this.valueTag,\n          this.brandFilter,\n          this.countryFilter !== \"en:world\" ? this.countryFilter : null,\n          count\n        )\n        .then((result) => {\n          this.remainingQuestionCount = result.data.count;\n          if (result.data.questions.length == 0) {\n            if (!this.questionBuffer.includes(NO_QUESTION_LEFT)) {\n              this.questionBuffer.push(NO_QUESTION_LEFT);\n            }\n            return;\n          }\n          result.data.questions.forEach((q) => {\n            if (!this.seenInsightIds.has(q.insight_id)) {\n              this.questionBuffer.push(q);\n              this.seenInsightIds.add(q.insight_id);\n            }\n          });\n          if (result.data.questions.length < count) {\n            if (!this.questionBuffer.includes(NO_QUESTION_LEFT)) {\n              this.questionBuffer.push(NO_QUESTION_LEFT);\n            }\n          }\n          if (this.currentQuestion === null) {\n            this.updateCurrentQuestion();\n          }\n        });\n    },\n  },\n  computed: {\n    availableInsightTypes: function () {\n      return Object.keys(insightTypesNames);\n    },\n    currentQuestionImageUrl: function () {\n      if (this.currentQuestion.source_image_url) {\n        return this.currentQuestion.source_image_url;\n      }\n      return \"https://static.openfoodfacts.org/images/image-placeholder.png\";\n    },\n    imageRotationClassName: function () {\n      if (this.imageRotation === 90) return \"rotate-90\";\n      if (this.imageRotation === 180) return \"rotate-180\";\n      if (this.imageRotation === 270) return \"rotate-270\";\n      return \"rotation-0\";\n    },\n    loading: function () {\n      return !this.noRemainingQuestion && this.currentQuestion == null;\n    },\n    noRemainingQuestion: function () {\n      return (\n        this.questionBuffer.length == 1 &&\n        this.questionBuffer[0] === NO_QUESTION_LEFT\n      );\n    },\n    currentQuestionBarcode: function () {\n      if (\n        this.currentQuestion !== null &&\n        this.currentQuestion !== NO_QUESTION_LEFT\n      ) {\n        return this.currentQuestion.barcode;\n      } else {\n        return null;\n      }\n    },\n    valueTagQuestionsURL: function () {\n      if (\n        this.currentQuestion !== null &&\n        this.currentQuestion !== NO_QUESTION_LEFT &&\n        this.selectedInsightType === \"brand\"\n      ) {\n        const urlParams = new URLSearchParams();\n        urlParams.append(\"type\", this.selectedInsightType);\n        urlParams.append(\n          \"value_tag\",\n          reformatValueTag(this.currentQuestion.value)\n        );\n        return `/questions?${urlParams.toString()}`;\n      }\n      return \"\";\n    },\n  },\n  mounted() {\n    this.updateInsightTypeUrlParam();\n    this.loadQuestions();\n    const vm = this;\n    window.addEventListener(\"keyup\", function (event) {\n      if (event.target.nodeName == \"BODY\") {\n        if (event.key === \"k\") vm.annotate(-1);\n        if (event.key === \"n\") vm.annotate(0);\n        if (event.key === \"o\") vm.annotate(1);\n        if (event.key === \"p\") vm.rotateImage();\n      }\n    });\n  },\n};\n</script>\n\n<style scoped>\n#value-tag-input {\n  width: 300px;\n  margin-top: 0.5rem;\n  margin-right: 0.5rem;\n}\n\n.tag {\n  background-color: #e8e8e8;\n  display: inline-block;\n  position: relative;\n  padding: 1em 1.5em;\n  margin: 0.3em 0.15em;\n  line-height: 1;\n  border-radius: 10px;\n  cursor: pointer;\n}\n\n.tag.selected {\n  background-color: #35689d;\n  color: #ffffff;\n}\n\nbutton.annotate {\n  padding: 2rem 2.5rem;\n}\n\n.flex-center {\n  display: flex;\n  justify-content: center;\n}\n\n.insight-column {\n  text-align: center;\n}\n\n.annotation-column {\n  background-color: #686868;\n}\n\n.rotate-0 {\n  transform: none;\n}\n\n.rotate-90 {\n  transform: rotate(90deg);\n}\n\n.rotate-180 {\n  transform: rotate(180deg);\n}\n\n.rotate-270 {\n  transform: rotate(270deg);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QuestionView.vue?vue&type=template&id=e6c84cb0&scoped=true&\"\nimport script from \"./QuestionView.vue?vue&type=script&lang=js&\"\nexport * from \"./QuestionView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./QuestionView.vue?vue&type=style&index=0&id=e6c84cb0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e6c84cb0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ui grid stackable\"},[_c('div',{staticClass:\"four wide column centered\"},[(_vm.bufferIsEmpty)?_c('div',[(_vm.loading)?_c('p',[_vm._v(\"Loading ...\")]):_c('p',[_vm._v(\"No remaining images\")])]):_c('div',{staticClass:\"insight-column\"},[_c('h3',[_vm._v(_vm._s(_vm.productName))]),_c('a',{staticClass:\"ui button primary\",attrs:{\"target\":\"_blank\",\"href\":_vm.productUrl}},[_vm._v(_vm._s(_vm.$t(\"questions.view\")))]),_c('a',{staticClass:\"ui button\",attrs:{\"target\":\"_blank\",\"href\":_vm.productEditUrl}},[_vm._v(_vm._s(_vm.$t(\"questions.edit\")))]),_c('div',{staticClass:\"ui divider\"}),_c('viewer',{staticStyle:{\"height\":\"300px\"},attrs:{\"options\":_vm.imageZoomOptions}},[_c('img',{class:[_vm.imageRotationClass],staticStyle:{\"max-height\":\"300px\",\"max-width\":\"300px\"},attrs:{\"src\":_vm.productBuffer[0]['image_nutrition_url']}})])],1)]),_c('div',{staticClass:\"ten wide column centered\"},[_c('sui-table',{attrs:{\"celled\":\"\",\"definition\":\"\"}},[_c('sui-table-header',[_c('sui-table-header-cell'),_c('sui-table-header-cell',[_vm._v(_vm._s(_vm.$t(\"nutrition.table.value\")))]),_c('sui-table-header-cell',[_vm._v(_vm._s(_vm.$t(\"nutrition.table.ispresent\")))])],1),_vm._l((_vm.currentProductData),function(nutritiveValue){return _c('sui-table-row',{key:nutritiveValue.id},[_c('sui-table-cell',[_vm._v(_vm._s(_vm.$t((\"nutrition.nutriments.\" + (nutritiveValue.id)))))]),_c('sui-table-cell',{staticStyle:{\"display\":\"flex\"}},[_c('sui-input',{staticStyle:{\"flex-grow\":\"1\"},attrs:{\"disabled\":!nutritiveValue.visible,\"error\":_vm.isInvalid(_vm.currentProductData[nutritiveValue.id]['data'])},model:{value:(_vm.currentProductData[nutritiveValue.id]['data']),callback:function ($$v) {_vm.$set(_vm.currentProductData[nutritiveValue.id], 'data', $$v)},expression:\"currentProductData[nutritiveValue.id]['data']\"}}),(_vm.getNutrimentUnits(nutritiveValue.id).length > 1)?_c('sui-dropdown',{staticClass:\"unit\",staticStyle:{\"min-width\":\"3rem\"},attrs:{\"disabled\":!nutritiveValue.visible,\"selection\":\"\",\"placeholder\":_vm.$t('nutrition.table.unit'),\"options\":_vm.getNutrimentUnits(nutritiveValue.id)},model:{value:(_vm.currentProductData[nutritiveValue.id]['unit']),callback:function ($$v) {_vm.$set(_vm.currentProductData[nutritiveValue.id], 'unit', $$v)},expression:\"currentProductData[nutritiveValue.id]['unit']\"}}):_c('span',{staticClass:\"unit\"},[_vm._v(_vm._s(_vm.getNutrimentUnits(nutritiveValue.id)[0]))])],1),_c('sui-table-cell',[_c('sui-checkbox',{attrs:{\"name\":\"public\",\"label\":nutritiveValue.visible\n                ? _vm.$t('nutrition.present')\n                : _vm.$t('nutrition.absent')},model:{value:(_vm.currentProductData[nutritiveValue.id]['visible']),callback:function ($$v) {_vm.$set(_vm.currentProductData[nutritiveValue.id], 'visible', $$v)},expression:\"currentProductData[nutritiveValue.id]['visible']\"}})],1)],1)})],2),_c('div',[_c('button',{staticClass:\"ui button red annotate\",attrs:{\"data-tooltip\":\"Shortcut: d\"},on:{\"click\":function($event){return _vm.deleteProduct()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"nutrition.delete\"))+\" \")]),_c('button',{staticClass:\"ui button annotate\",attrs:{\"data-tooltip\":\"Shortcut: k\"},on:{\"click\":function($event){return _vm.skipProduct()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"nutrition.skip\"))+\" \")]),_c('button',{staticClass:\"ui button green annotate\",attrs:{\"data-tooltip\":\"Shortcut: v\"},on:{\"click\":function($event){return _vm.validate()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"nutrition.validate\"))+\" \")])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"ui grid stackable\">\n    <div class=\"four wide column centered\">\n      <div v-if=\"bufferIsEmpty\">\n        <p v-if=\"loading\">Loading ...</p>\n        <p v-else>No remaining images</p>\n      </div>\n      <div v-else class=\"insight-column\">\n        <h3>{{ productName }}</h3>\n        <a target=\"_blank\" :href=\"productUrl\" class=\"ui button primary\">{{\n          $t(\"questions.view\")\n        }}</a>\n        <a target=\"_blank\" :href=\"productEditUrl\" class=\"ui button\">{{\n          $t(\"questions.edit\")\n        }}</a>\n        <div class=\"ui divider\"></div>\n        <viewer :options=\"imageZoomOptions\" style=\"height: 300px\">\n          <img\n            :class=\"[imageRotationClass]\"\n            :src=\"productBuffer[0]['image_nutrition_url']\"\n            style=\"max-height: 300px;\n          max-width: 300px;\"\n          />\n        </viewer>\n      </div>\n    </div>\n    <div class=\"ten wide column centered\">\n      <sui-table celled definition>\n        <sui-table-header>\n          <sui-table-header-cell />\n          <sui-table-header-cell>{{\n            $t(\"nutrition.table.value\")\n          }}</sui-table-header-cell>\n          <sui-table-header-cell>{{\n            $t(\"nutrition.table.ispresent\")\n          }}</sui-table-header-cell>\n        </sui-table-header>\n        <sui-table-row\n          v-for=\"nutritiveValue in currentProductData\"\n          :key=\"nutritiveValue.id\"\n        >\n          <sui-table-cell>{{\n            $t(`nutrition.nutriments.${nutritiveValue.id}`)\n          }}</sui-table-cell>\n          <sui-table-cell style=\"display: flex\">\n            <sui-input\n              :disabled=\"!nutritiveValue.visible\"\n              style=\"flex-grow:1\"\n              :error=\"isInvalid(currentProductData[nutritiveValue.id]['data'])\"\n              v-model=\"currentProductData[nutritiveValue.id]['data']\"\n            />\n\n            <sui-dropdown\n              :disabled=\"!nutritiveValue.visible\"\n              style=\"min-width: 3rem\"\n              selection\n              :placeholder=\"$t('nutrition.table.unit')\"\n              v-if=\"getNutrimentUnits(nutritiveValue.id).length > 1\"\n              v-model=\"currentProductData[nutritiveValue.id]['unit']\"\n              :options=\"getNutrimentUnits(nutritiveValue.id)\"\n              class=\"unit\"\n            />\n\n            <span class=\"unit\" v-else>{{\n              getNutrimentUnits(nutritiveValue.id)[0]\n            }}</span>\n          </sui-table-cell>\n          <sui-table-cell>\n            <sui-checkbox\n              name=\"public\"\n              :label=\"\n                nutritiveValue.visible\n                  ? $t('nutrition.present')\n                  : $t('nutrition.absent')\n              \"\n              v-model=\"currentProductData[nutritiveValue.id]['visible']\"\n            />\n          </sui-table-cell>\n        </sui-table-row>\n      </sui-table>\n      <div>\n        <button\n          data-tooltip=\"Shortcut: d\"\n          class=\"ui button red annotate\"\n          @click=\"deleteProduct()\"\n        >\n          {{ $t(\"nutrition.delete\") }}\n        </button>\n        <button\n          data-tooltip=\"Shortcut: k\"\n          class=\"ui button annotate\"\n          @click=\"skipProduct()\"\n        >\n          {{ $t(\"nutrition.skip\") }}\n        </button>\n        <button\n          data-tooltip=\"Shortcut: v\"\n          class=\"ui button green annotate\"\n          @click=\"validate()\"\n        >\n          {{ $t(\"nutrition.validate\") }}\n        </button>\n      </div>\n    </div>\n\n    <!-- <div class=\"six wide column centered\">\n      <Product :barcode=\"currentQuestionBarcode\" />\n    </div>\n    <div class=\"three wide column annotation-column\">\n      <AnnotationCounter\n        :remainingCount=\"remainingQuestionCount\"\n        :lastAnnotations=\"lastAnnotations\"\n        :sessionAnnotatedCount=\"sessionAnnotatedCount\"\n      />\n    </div>-->\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n// import { localSettings } from \"../settings\";\nimport nutrimentsDefaultUnit from \"../data/nutritions\";\nimport { OFF_URL } from \"../const\";\nimport offService from \"../off\";\n// import { annotate as robotoffAnnotate } from \"../robotoff\";\n// import Product from \"../components/Product\";\n// import AnnotationCounter from \"../components/AnnotationCounter\";\n\nconst getProducts = async (nbOfPages) => {\n  const randomPage = Math.floor(Math.random() * nbOfPages);\n  const {\n    data: { products },\n  } = await axios(\n    `${OFF_URL}/state/photos-validated/state/nutrition-facts-to-be-completed/${randomPage}.json?fields=code,lang,image_nutrition_url,product_name`\n  );\n  return products;\n};\n\nexport default {\n  name: \"NutritionView\",\n  components: {},\n  data: function() {\n    return {\n      valueTagInput: \"\",\n      imageZoomOptions: {\n        toolbar: {\n          rotateLeft: 1,\n          rotateRight: 1,\n        },\n      },\n      loading: false,\n      productBuffer: [],\n      currentProductData: {},\n    };\n  },\n  computed: {\n    productName: function() {\n      if (\n        this.productBuffer.length === 0 ||\n        this.productBuffer[0].product_name === null\n      ) {\n        return \"\";\n      }\n      return this.productBuffer[0].product_name;\n    },\n    productUrl: function() {\n      if (\n        this.productBuffer.length === 0 ||\n        this.productBuffer[0].code === null\n      ) {\n        return \"\";\n      }\n      return offService.getProductUrl(this.productBuffer[0].code);\n    },\n    productEditUrl: function() {\n      if (\n        this.productBuffer.length === 0 ||\n        this.productBuffer[0].code === null\n      ) {\n        return \"\";\n      }\n      return offService.getProductEditUrl(this.productBuffer[0].code);\n    },\n    bufferIsEmpty: function() {\n      return this.productBuffer.length === 0;\n    },\n  },\n  methods: {\n    isInvalid(value) {\n      return !value.match(\"^((<|>|<=|>=|~|.)*[0-9]+| *)$\");\n    },\n    clearValueTagInput() {\n      this.valueTagInput = \"\";\n    },\n    addProducts: async function() {\n      this.loading = true;\n      const newProducts = await getProducts(20);\n      this.productBuffer = this.productBuffer.concat(newProducts);\n      this.loading = false;\n    },\n    skipProduct() {\n      this.productBuffer.shift();\n    },\n    deleteProduct() {\n      const imageUrl = this.productBuffer[0][\"image_nutrition_url\"];\n      const imageId = imageUrl\n        .split(\"/\")\n        .pop()\n        .split(\".\")[0]; //get the first part of the image off/.../nutrition_fr.400.jpg => nutrition_fr\n\n      axios.post(\n        `${OFF_URL}/cgi/product_image_unselect.pl?`,\n        new URLSearchParams(`code=${this.productBuffer[0].code}&id=${imageId}`)\n      );\n\n      // this.productBuffer.shift();\n    },\n    validate() {\n      const toDelete = Object.keys(this.currentProductData).filter(\n        (nutrimentId) => !this.currentProductData[nutrimentId].visible\n      );\n      const toFill = Object.keys(this.currentProductData)\n        .filter(\n          (nutrimentId) =>\n            this.currentProductData[nutrimentId] &&\n            this.currentProductData[nutrimentId].visible &&\n            this.currentProductData[nutrimentId].data &&\n            this.isInvalid(this.currentProductData[nutrimentId].data) &&\n            this.currentProductData[nutrimentId].data.length > 0\n        )\n        .map((nutrimentId) => ({\n          name: nutrimentId,\n          value: `${this.currentProductData[nutrimentId].data}${this\n            .currentProductData[nutrimentId].unit || \"\"}`,\n          quantity: this.currentProductData[nutrimentId].data,\n          unit: this.currentProductData[nutrimentId].unit,\n        }));\n\n      axios.post(\n        `${OFF_URL}/cgi/product_jqm2.pl?`,\n        new URLSearchParams(\n          `${toFill\n            .map((data) => `${data.name}=${data.quantity}&`)\n            .join(\"\")}${toFill\n            .map((data) => (data.unit ? `${data.name}_unit=${data.unit}&` : \"\"))\n            .join(\"\")}${toDelete.map((name) => `${name}=\"\"&`).join(\"\")}code=${\n            this.productBuffer[0][\"code\"]\n          }`\n        )\n      ); // The status of the response is not displayed so no need to wait the response\n    },\n    resetProductData() {\n      const data = {};\n\n      for (const nutrimentId of Object.keys(nutrimentsDefaultUnit)) {\n        data[nutrimentId] = {\n          id: nutrimentId,\n          data: \"\",\n          unit: nutrimentsDefaultUnit[nutrimentId],\n          visible: true,\n        };\n      }\n      this.currentProductData = data;\n    },\n    getNutrimentUnits(nutrimentId) {\n      switch (nutrimentId) {\n        case \"nutriment_energy-kcal\":\n          return [\"kcal\"];\n        case \"nutriment_energy-kj\":\n          return [\"kJ\"];\n        default:\n          return [\n            { text: \"g\", value: \"g\" },\n            { text: \"mg\", value: \"mg\" },\n          ];\n      }\n    },\n  },\n  watch: {\n    productBuffer: function(newProductBuffer, oldProductBuffer) {\n      if (newProductBuffer.length <= 5 && !this.loading) {\n        this.addProducts();\n      }\n      if (\n        newProductBuffer[0] &&\n        (!oldProductBuffer[0] ||\n          newProductBuffer[0].code !== oldProductBuffer[0].code)\n      ) {\n        //if we have a product to display, and this product just changed\n        this.resetProductData();\n      }\n    },\n  },\n  mounted: function() {\n    this.addProducts();\n\n    const vm = this;\n    window.addEventListener(\"keyup\", function(event) {\n      if (event.target.nodeName == \"BODY\") {\n        if (event.key === \"k\") vm.skipProduct();\n        if (event.key === \"v\") vm.validate();\n      }\n    });\n  },\n};\n</script>\n\n<style scoped>\n.shadow {\n  opacity: 0.2;\n}\n.unit {\n  margin-left: 1rem;\n}\nbutton.annotate {\n  padding: 2rem 2.5rem;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NutritionView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NutritionView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NutritionView.vue?vue&type=template&id=5dbd3b68&scoped=true&\"\nimport script from \"./NutritionView.vue?vue&type=script&lang=js&\"\nexport * from \"./NutritionView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NutritionView.vue?vue&type=style&index=0&id=5dbd3b68&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5dbd3b68\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\"},[_c('div',{staticClass:\"scollable\"},[_c('p',{staticClass:\"explanations\"},[_vm._v(_vm._s(this.messages[this.currentState]))]),_c('div',{staticClass:\"imageContainer\",on:{\"click\":function($event){return _vm.click('')}}},[_c('img',{attrs:{\"src\":_vm.urlImg}}),_c('svg',{class:{ desactivateListenersInside: _vm.isDraggingCropRectangle },attrs:{\"width\":_vm.imageWidth,\"height\":_vm.imageHeight},on:{\"mousemove\":_vm.moveAt,\"mouseleave\":function($event){$event.stopPropagation();return _vm.stopDragging.apply(null, arguments)},\"mouseup\":function($event){$event.stopPropagation();return _vm.stopDragging.apply(null, arguments)}}},[_vm._l((_vm.visibleBoxes),function(box){return _c('path',{key:'box-' + box.id,staticClass:\"box\",class:{\n            toDelete: box.toDelete,\n            selectable: _vm.currentState >= 0,\n          },attrs:{\"d\":box.path},on:{\"click\":function($event){$event.stopPropagation();_vm.currentState >= 0 && _vm.click(box.id, $event)},\"mouseover\":function($event){_vm.currentState >= 0 && _vm.mouseover(box.id)}}})}),(_vm.currentLinks)?_c('path',{staticClass:\"currentLink\",attrs:{\"d\":_vm.currentLinks}}):_vm._e(),_vm._l((_vm.annotations.currentPath),function(key){return _c('circle',{key:'creationCenter-' + key,staticClass:\"currentBoxesCenter\",attrs:{\"cx\":_vm.getCenter(_vm.boxes[key].points).x,\"cy\":_vm.getCenter(_vm.boxes[key].points).y,\"r\":\"5\"}})}),_vm._l((_vm.annotations.memorizedGraph),function(neighbours,nodeKey){return _c('g',{key:'node-group-' + nodeKey},[_vm._l((neighbours),function(neighbourKey){return _c('g',{key:'savedLink-' + nodeKey + ' - ' + neighbourKey},[_c('line',{staticClass:\"helpLink\",class:{\n                noPointerEvent: _vm.keyIsDown,\n                youWantToDelete: !_vm.keyIsDown,\n              },attrs:{\"x1\":_vm.getCenter(_vm.boxes[nodeKey].points).x,\"y1\":_vm.getCenter(_vm.boxes[nodeKey].points).y,\"x2\":_vm.getCenter(_vm.boxes[neighbourKey].points).x,\"y2\":_vm.getCenter(_vm.boxes[neighbourKey].points).y},on:{\"click\":function($event){$event.stopPropagation();return _vm.clickLink(nodeKey, neighbourKey)}}}),_c('line',{staticClass:\"savedLink\",attrs:{\"x1\":_vm.getCenter(_vm.boxes[nodeKey].points).x,\"y1\":_vm.getCenter(_vm.boxes[nodeKey].points).y,\"x2\":_vm.getCenter(_vm.boxes[neighbourKey].points).x,\"y2\":_vm.getCenter(_vm.boxes[neighbourKey].points).y}})])}),_c('circle',{class:{\n              youWantToDeleteBoxCenter: !_vm.keyIsDown,\n              noPointerEvent: _vm.keyIsDown,\n            },attrs:{\"cx\":_vm.getCenter(_vm.boxes[nodeKey].points).x,\"cy\":_vm.getCenter(_vm.boxes[nodeKey].points).y,\"r\":\"15\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.clickNode(nodeKey)}}}),_c('circle',{staticClass:\"savedBoxesCenter\",attrs:{\"cx\":_vm.getCenter(_vm.boxes[nodeKey].points).x,\"cy\":_vm.getCenter(_vm.boxes[nodeKey].points).y,\"r\":\"5\"}})],2)}),(_vm.showSavedLines)?_c('g',{class:{ unfill: _vm.canValidate }},_vm._l((_vm.savedLines),function(line,lineId){return _c('g',{key:'saved-line-' + lineId,staticClass:\"validatedGroup validatedLine\"},[_c('path',{attrs:{\"d\":line.path}}),(_vm.canNotValidate)?_c('text',{attrs:{\"x\":line.center.x,\"y\":line.center.y,\"dominant-baseline\":\"middle\",\"text-anchor\":\"middle\"}},[_vm._v(\" \"+_vm._s(\"line : \" + lineId)+\" \")]):_vm._e()])}),0):_vm._e(),(_vm.showSavedColumns)?_c('g',{class:{ unfill: _vm.canValidate }},_vm._l((_vm.savedColumns),function(column,columnId){return _c('g',{key:'saved-column-' + columnId,staticClass:\"validatedGroup validatedColumn\"},[_c('path',{attrs:{\"d\":column.path}}),(_vm.canNotValidate)?_c('text',{attrs:{\"x\":column.center.x,\"y\":column.center.y,\"dominant-baseline\":\"middle\",\"text-anchor\":\"middle\"}},[_vm._v(\" \"+_vm._s(\"column : \" + columnId)+\" \")]):_vm._e()])}),0):_vm._e(),(_vm.annotations.keyIsDown)?_c('line',{staticClass:\"currentLink\",attrs:{\"x1\":(\"\" + (_vm.cursor.x)),\"y1\":(\"\" + (_vm.cursor.y)),\"x2\":(\"\" + (_vm.annotations.lastElement.x)),\"y2\":(\"\" + (_vm.annotations.lastElement.y))}}):_vm._e(),_vm._l((_vm.convexHalls),function(group,groupId){return _c('path',{key:'convexHalls-' + groupId,staticClass:\"convexhall\",attrs:{\"d\":group.path}})}),(_vm.showCorppingRectangle)?_c('g',{staticClass:\"croppingRectangle\"},[_c('path',{attrs:{\"d\":(\"M \" + (_vm.cropRectangle.start.x) + \" \" + (_vm.cropRectangle.start.y) + \" L\\n        \" + (_vm.cropRectangle.start.x) + \" \" + (_vm.cropRectangle.end.y) + \" L\\n        \" + (_vm.cropRectangle.end.x) + \" \" + (_vm.cropRectangle.end.y) + \" L \" + (_vm.cropRectangle.end.x) + \"\\n        \" + (_vm.cropRectangle.start.y) + \" Z\")}}),_c('circle',{attrs:{\"cx\":_vm.cropRectangle.start.x,\"cy\":_vm.cropRectangle.start.y,\"r\":\"10\"},on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.startDraggingStart.apply(null, arguments)}}}),_c('circle',{attrs:{\"cx\":_vm.cropRectangle.end.x,\"cy\":_vm.cropRectangle.end.y,\"r\":\"10\"},on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.startDraggingEnd.apply(null, arguments)}}})]):_vm._e()],2),_c('div',{staticClass:\"subActions\"},[_c('button',{on:{\"click\":_vm.previousStep}},[_vm._v(\"Prev (p)\")]),_c('button',{on:{\"click\":_vm.nextStep}},[_vm._v(\"Next (n)\")])]),_c('div',{staticClass:\"checkboxContainer\"},[_c('div',{staticClass:\"ui checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.dataQuality),expression:\"dataQuality\"}],attrs:{\"type\":\"checkbox\",\"name\":\"perfect-data\",\"id\":\"perfect-data\",\"value\":\"perfect-data\"},domProps:{\"checked\":Array.isArray(_vm.dataQuality)?_vm._i(_vm.dataQuality,\"perfect-data\")>-1:(_vm.dataQuality)},on:{\"change\":function($event){var $$a=_vm.dataQuality,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"perfect-data\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.dataQuality=$$a.concat([$$v]))}else{$$i>-1&&(_vm.dataQuality=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.dataQuality=$$c}}}}),_c('label',{attrs:{\"for\":\"perfect-data\"}},[_vm._v(\"The text recognition is perfect\")])]),_c('div',{staticClass:\"ui checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.dataQuality),expression:\"dataQuality\"}],attrs:{\"type\":\"checkbox\",\"name\":\"bad-data\",\"id\":\"bad-data\",\"value\":\"bad-data\"},domProps:{\"checked\":Array.isArray(_vm.dataQuality)?_vm._i(_vm.dataQuality,\"bad-data\")>-1:(_vm.dataQuality)},on:{\"change\":function($event){var $$a=_vm.dataQuality,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"bad-data\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.dataQuality=$$a.concat([$$v]))}else{$$i>-1&&(_vm.dataQuality=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.dataQuality=$$c}}}}),_c('label',{attrs:{\"for\":\"bad-data\"}},[_vm._v(\"Some words are missing\")])])]),_c('div',{staticClass:\"actions\"},[_c('button',{on:{\"click\":_vm.skip}},[_vm._v(\"skip (k)\")]),_c('button',{class:{ canValidate: _vm.canValidate, disabled: !_vm.canValidate },on:{\"click\":_vm.validate}},[_vm._v(\" validate (v) \")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const points2Path = (points, close) =>\n  \"M \" +\n  points.map((point) => `${point.x} ${point.y}`).join(\" L \") +\n  (close ? \" Z\" : \"\");\n\nexport const points2Key = (points) =>\n  [...points]\n    .sort((pA, pB) => (pA.x == pB.x ? pA.y - pB.y : pA.x - pB.x))\n    .map((point) => `(${point.x},${point.y})`)\n    .join(\"\");\n\nconst compare3points = (pA, pB, pC) =>\n  (pB.x - pA.x) * (pC.y - pA.y) - (pB.y - pA.y) * (pC.x - pA.x) > 0;\n\nexport const getConvexPoints = (points) => {\n  const sortedPoints = [...points].sort((pA, pB) => pA.x - pB.x);\n\n  const enveloppe = [0];\n\n  while (\n    enveloppe[enveloppe.length - 1] !== enveloppe[0] ||\n    enveloppe.length === 1\n  ) {\n    const a = enveloppe[enveloppe.length - 1];\n    for (let b = 0; b < sortedPoints.length; b++) {\n      if (a !== b) {\n        let bord = true;\n        let c = 0;\n        while (c < sortedPoints.length && bord) {\n          if (\n            c !== a &&\n            c !== b &&\n            compare3points(sortedPoints[a], sortedPoints[b], sortedPoints[c])\n          ) {\n            bord = false;\n          }\n          c++;\n        }\n        if (bord) {\n          enveloppe.push(b);\n        }\n      }\n    }\n  }\n  return enveloppe\n    .slice(0, enveloppe.length)\n    .map((pointIndex) => sortedPoints[pointIndex]);\n};\n\nexport const getCenter = (points) => {\n  const sum = points.reduce((pA, pB) => ({ x: pA.x + pB.x, y: pA.y + pB.y }), {\n    x: 0,\n    y: 0,\n  });\n  return { x: sum.x / points.length, y: sum.y / points.length };\n};\n\nexport const getBoxes = (textAnnotations) => {\n  const rep = {};\n  textAnnotations.forEach((box, boxIndex) => {\n    if (boxIndex > 0) {\n      rep[points2Key(box.boundingPoly.vertices)] = {\n        id: points2Key(box.boundingPoly.vertices),\n        boxIndex: boxIndex,\n        points: box.boundingPoly.vertices,\n        path: points2Path(box.boundingPoly.vertices, true),\n        text: box.description,\n        visible: true,\n        toDelete: false,\n      };\n    }\n  });\n  return rep;\n};\n\nexport const getGraphConnexComponents = (graph) => {\n  const node2component = {};\n\n  Object.keys(graph).forEach((key, index) => {\n    node2component[key] = index;\n  });\n  Object.keys(graph).forEach((key) => {\n    const neighbors = [...graph[key], key];\n\n    const components = neighbors.map((n) => node2component[n]); //get all components to fusion\n\n    const minComponentId = components.reduce(\n      (a, b) => Math.min(a, b),\n      Object.keys(graph).length\n    );\n\n    Object.keys(graph).forEach((key) => {\n      if (components.includes(node2component[key])) {\n        node2component[key] = minComponentId;\n      }\n    });\n  });\n\n  return node2component;\n};\n\nexport const getHullPaths = (graph, boxes) => {\n  const node2component = getGraphConnexComponents(graph); //associate each noteId to a component number\n  if (boxes === 0) {\n    boxes += 1;\n  }\n\n  // we reverse the key/value\n  // for each component index we get the list of nodeId\n  const component2nodes = {};\n  Object.keys(node2component).forEach((node) => {\n    const componentId = node2component[node];\n    if (component2nodes[componentId] === undefined) {\n      component2nodes[componentId] = [node];\n    } else {\n      component2nodes[componentId].push(node);\n    }\n  });\n\n  //now we will return a dict associated key to convex cell\n  const rep = {};\n  Object.keys(component2nodes).forEach((key) => {\n    const points = component2nodes[key].reduce(\n      (accumulateur, nodeId) => [...accumulateur, ...boxes[nodeId].points],\n      []\n    );\n    const componentKey = [...component2nodes[key]]\n      .sort((nodeId1, nodeId2) => (nodeId1 < nodeId2 ? 1 : -1))\n      .join(\"-\");\n\n    rep[componentKey] = {\n      // rep[points.join(\"//\")] = {\n      path: points2Path(getConvexPoints(points), true),\n      points: points,\n      text: \"\",\n      visible: true,\n      id: componentKey,\n    };\n  });\n\n  return rep;\n};\n\nexport const sortKeys = (node1Key, node2Key) => {\n  const start = node2Key > node1Key ? node2Key : node1Key;\n  const end = node2Key <= node1Key ? node2Key : node1Key;\n  return [start, end];\n};\n\nexport const isInRectangle = (x1, y1, x2, y2, points) => {\n  const Xmin = Math.min(x1, x2);\n  const Ymin = Math.min(y1, y2);\n  const Xmax = Math.max(x1, x2);\n  const Ymax = Math.max(y1, y2);\n\n  for (let i = 0; i < points.length; i++) {\n    if (\n      points[i].x > Xmax ||\n      points[i].x < Xmin ||\n      points[i].y > Ymax ||\n      points[i].y < Ymin\n    ) {\n      return false;\n    }\n  }\n  return true;\n};\n","<template>\n  <div class=\"app\">\n    <div class=\"scollable\">\n      <p class=\"explanations\">{{ this.messages[this.currentState] }}</p>\n      <div class=\"imageContainer\" @click=\"click('')\">\n        <img :src=\"urlImg\" />\n        <svg\n          :width=\"imageWidth\"\n          :height=\"imageHeight\"\n          @mousemove=\"moveAt\"\n          @mouseleave.stop=\"stopDragging\"\n          @mouseup.stop=\"stopDragging\"\n          :class=\"{ desactivateListenersInside: isDraggingCropRectangle }\"\n        >\n          <path\n            v-for=\"box in visibleBoxes\"\n            :d=\"box.path\"\n            :key=\"'box-' + box.id\"\n            @click.stop=\"currentState >= 0 && click(box.id, $event)\"\n            v-on:mouseover=\"currentState >= 0 && mouseover(box.id)\"\n            v-bind:class=\"{\n              toDelete: box.toDelete,\n              selectable: currentState >= 0,\n            }\"\n            class=\"box\"\n          />\n\n          <!-- Links in creation -->\n          <path v-if=\"currentLinks\" :d=\"currentLinks\" class=\"currentLink\" />\n          <circle\n            v-for=\"key in annotations.currentPath\"\n            :key=\"'creationCenter-' + key\"\n            :cx=\"getCenter(boxes[key].points).x\"\n            :cy=\"getCenter(boxes[key].points).y\"\n            r=\"5\"\n            class=\"currentBoxesCenter\"\n          />\n\n          <!-- saved links -->\n          <g\n            v-for=\"(neighbours, nodeKey) in annotations.memorizedGraph\"\n            :key=\"'node-group-' + nodeKey\"\n          >\n            <g\n              v-for=\"neighbourKey in neighbours\"\n              :key=\"'savedLink-' + nodeKey + ' - ' + neighbourKey\"\n            >\n              <line\n                :x1=\"getCenter(boxes[nodeKey].points).x\"\n                :y1=\"getCenter(boxes[nodeKey].points).y\"\n                :x2=\"getCenter(boxes[neighbourKey].points).x\"\n                :y2=\"getCenter(boxes[neighbourKey].points).y\"\n                @click.stop=\"clickLink(nodeKey, neighbourKey)\"\n                v-bind:class=\"{\n                  noPointerEvent: keyIsDown,\n                  youWantToDelete: !keyIsDown,\n                }\"\n                class=\"helpLink\"\n              />\n              <!-- the first link is biger in order to be easier to select (for deleting link interface) -->\n              <line\n                :x1=\"getCenter(boxes[nodeKey].points).x\"\n                :y1=\"getCenter(boxes[nodeKey].points).y\"\n                :x2=\"getCenter(boxes[neighbourKey].points).x\"\n                :y2=\"getCenter(boxes[neighbourKey].points).y\"\n                class=\"savedLink\"\n              />\n            </g>\n            <circle\n              :cx=\"getCenter(boxes[nodeKey].points).x\"\n              :cy=\"getCenter(boxes[nodeKey].points).y\"\n              r=\"15\"\n              @click.stop=\"clickNode(nodeKey)\"\n              :class=\"{\n                youWantToDeleteBoxCenter: !keyIsDown,\n                noPointerEvent: keyIsDown,\n              }\"\n            />\n            <circle\n              :cx=\"getCenter(boxes[nodeKey].points).x\"\n              :cy=\"getCenter(boxes[nodeKey].points).y\"\n              r=\"5\"\n              class=\"savedBoxesCenter\"\n            />\n          </g>\n\n          <!-- saved lines-->\n          <g v-if=\"showSavedLines\" v-bind:class=\"{ unfill: canValidate }\">\n            <g\n              v-for=\"(line, lineId) in savedLines\"\n              :key=\"'saved-line-' + lineId\"\n              class=\"validatedGroup validatedLine\"\n            >\n              <path :d=\"line.path\" />\n              <text\n                v-if=\"canNotValidate\"\n                :x=\"line.center.x\"\n                :y=\"line.center.y\"\n                dominant-baseline=\"middle\"\n                text-anchor=\"middle\"\n              >\n                {{ \"line : \" + lineId }}\n              </text>\n            </g>\n          </g>\n          <!-- saved columns-->\n          <g v-if=\"showSavedColumns\" v-bind:class=\"{ unfill: canValidate }\">\n            <g\n              v-for=\"(column, columnId) in savedColumns\"\n              :key=\"'saved-column-' + columnId\"\n              class=\"validatedGroup validatedColumn\"\n            >\n              <path :d=\"column.path\" />\n              <text\n                v-if=\"canNotValidate\"\n                :x=\"column.center.x\"\n                :y=\"column.center.y\"\n                dominant-baseline=\"middle\"\n                text-anchor=\"middle\"\n              >\n                {{ \"column : \" + columnId }}\n              </text>\n            </g>\n          </g>\n\n          <line\n            v-if=\"annotations.keyIsDown\"\n            :x1=\"`${cursor.x}`\"\n            :y1=\"`${cursor.y}`\"\n            :x2=\"`${annotations.lastElement.x}`\"\n            :y2=\"`${annotations.lastElement.y}`\"\n            class=\"currentLink\"\n          />\n          <!-- groups -->\n          <path\n            v-for=\"(group, groupId) in convexHalls\"\n            :d=\"group.path\"\n            :key=\"'convexHalls-' + groupId\"\n            class=\"convexhall\"\n          />\n\n          <!-- cropping rectangle -->\n\n          <g v-if=\"showCorppingRectangle\" class=\"croppingRectangle\">\n            <path\n              :d=\"\n                `M ${cropRectangle.start.x} ${cropRectangle.start.y} L\n          ${cropRectangle.start.x} ${cropRectangle.end.y} L\n          ${cropRectangle.end.x} ${cropRectangle.end.y} L ${cropRectangle.end.x}\n          ${cropRectangle.start.y} Z`\n              \"\n            />\n            <circle\n              :cx=\"cropRectangle.start.x\"\n              :cy=\"cropRectangle.start.y\"\n              r=\"10\"\n              @mousedown.stop=\"startDraggingStart\"\n            />\n            <circle\n              :cx=\"cropRectangle.end.x\"\n              :cy=\"cropRectangle.end.y\"\n              r=\"10\"\n              @mousedown.stop=\"startDraggingEnd\"\n            />\n          </g>\n        </svg>\n        <div class=\"subActions\">\n          <button v-on:click=\"previousStep\">Prev (p)</button>\n          <button v-on:click=\"nextStep\">Next (n)</button>\n        </div>\n\n        <div class=\"checkboxContainer\">\n          <div class=\"ui checkbox\">\n            <input\n              type=\"checkbox\"\n              name=\"perfect-data\"\n              id=\"perfect-data\"\n              value=\"perfect-data\"\n              v-model=\"dataQuality\"\n            />\n            <label for=\"perfect-data\">The text recognition is perfect</label>\n          </div>\n          <div class=\"ui checkbox\">\n            <input\n              type=\"checkbox\"\n              name=\"bad-data\"\n              id=\"bad-data\"\n              value=\"bad-data\"\n              v-model=\"dataQuality\"\n            />\n            <label for=\"bad-data\">Some words are missing</label>\n          </div>\n        </div>\n\n        <div class=\"actions\">\n          <button v-on:click=\"skip\">skip (k)</button>\n          <button\n            v-on:click=\"validate\"\n            :class=\"{ canValidate: canValidate, disabled: !canValidate }\"\n          >\n            validate (v)\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport {\n  points2Key,\n  getBoxes,\n  getCenter,\n  points2Path,\n  getHullPaths,\n  sortKeys,\n  getConvexPoints,\n  isInRectangle,\n} from \"../utils/tableAnotation.js\";\n\nconst messages = {\n  \"-1\": \"Déplacer le rectangle pour le faire contenir le tableau\",\n  0: \"Merci de regrouper entre elles les boîtes faisant partie d'une même case du tableau\",\n  1: \"Si des boites rouges font partie du tableau, merci de les ajouter (vous pouvez sélectionner une case seule)\",\n  2: \"Reliez entre elles les cellules d'une même ligne\",\n  3: \"Reliez entre elles les cellules d'une même colonne\",\n};\n\nexport default {\n  name: \"TableAnnotationView\",\n  components: {},\n  data: function() {\n    return {\n      urlImg: null,\n      dataQuality: [],\n      messages: messages,\n      loading: false,\n      currentState: -1,\n      boxes: [],\n      imageHeight: 0,\n      imageWidth: 0,\n      insightId: null,\n      batchOfInsights: [],\n      annotations: {\n        annnotated: false,\n        keyIsDown: false,\n        currentPath: [],\n        memorizedGraph: {},\n        lastElement: { x: 0, y: 0 },\n      },\n      cropRectangle: {\n        start: {\n          x: 10,\n          y: 10,\n        },\n        end: {\n          //TODO replace by image size\n          x: 100,\n          y: 100,\n        },\n        currentlyDragged: null,\n      },\n      convexHalls: {},\n      cursor: { x: 0, y: 0 },\n      lineIterator: 0,\n      savedLines: {},\n      columnIterator: 0,\n      savedColumns: {},\n      savedCellsGraph: {},\n    };\n  },\n  computed: {\n    currentLinks: function() {\n      if (this.annotations.currentPath.length < 1) {\n        return \"\";\n      }\n      return points2Path(\n        this.annotations.currentPath.map((boxKey) =>\n          getCenter(this.boxes[boxKey].points)\n        ),\n        false\n      );\n    },\n    keyIsDown: function() {\n      return this.annotations.keyIsDown;\n    },\n    visibleBoxes: function() {\n      return Object.keys(this.boxes)\n        .filter((key) => this.boxes[key].visible)\n        .map((key) => this.boxes[key]);\n    },\n    showSavedLines: function() {\n      return this.currentState === 2 || this.currentState === 4;\n    },\n    showSavedColumns: function() {\n      return this.currentState === 3 || this.currentState === 4;\n    },\n    canValidate: function() {\n      return this.currentState === 4;\n    },\n    canNotValidate: function() {\n      return this.currentState !== 4;\n    },\n    showCorppingRectangle: function() {\n      return this.currentState === -1;\n    },\n    isDraggingCropRectangle: function() {\n      return !!this.cropRectangle.currentlyDragged;\n    },\n  },\n  methods: {\n    isSaved: function(key, savingDict) {\n      for (let dicKey of Object.keys(savingDict)) {\n        if (savingDict[dicKey].keys.findIndex((x) => x === key) >= 0) {\n          return true;\n        }\n      }\n      return false;\n    },\n    reset: function() {\n      this.dataQuality = [];\n      this.currentState = -1;\n      this.boxes = [];\n      this.annotations = {\n        annnotated: false,\n        keyIsDown: false,\n        currentPath: [],\n        memorizedGraph: {},\n        lastElement: { x: 0, y: 0 },\n      };\n      this.cropRectangle = {\n        start: {\n          x: 10,\n          y: 10,\n        },\n        end: {\n          x: 50,\n          y: 50,\n        },\n        currentlyDragged: null,\n      };\n      this.convexHalls = {};\n      this.cursor = { x: 0, y: 0 };\n      this.lineIterator = 0;\n      this.savedLines = {};\n      this.columnIterator = 0;\n      this.savedColumns = {};\n      this.savedCellsGraph = {};\n    },\n    validate: function() {\n      if (!this.canValidate) {\n        return null;\n      }\n      if (this.dataQuality.length === 0) {\n        alert(\"Please give us your opinion on the text recognition\");\n        return null;\n      }\n      if (this.dataQuality.length > 1) {\n        alert(\n          \"Please select only one box for giving your opinion on text recognition\"\n        );\n        return null;\n      }\n      //get ids of boxes concerned by lines and colmuns\n      const lines = {};\n      const columns = {};\n      const boxId2cellId = {};\n\n      Object.keys(this.savedLines).map((lineId) => {\n        this.savedLines[lineId].keys.forEach((cellId) => {\n          cellId.split(\"-\").forEach((boxId) => {\n            if (lines[boxId] === undefined) {\n              lines[boxId] = [lineId];\n            } else {\n              lines[boxId] = [...lines[boxId], lineId];\n            }\n            if (boxId2cellId[boxId] === undefined) {\n              boxId2cellId[boxId] = cellId;\n            }\n          });\n        });\n      });\n\n      Object.keys(this.savedColumns).map((columnId) => {\n        this.savedColumns[columnId].keys.forEach((cellId) => {\n          cellId.split(\"-\").forEach((boxId) => {\n            if (columns[boxId] === undefined) {\n              columns[boxId] = [columnId];\n            } else {\n              columns[boxId] = [...columns[boxId], columnId];\n            }\n            if (boxId2cellId[boxId] === undefined) {\n              boxId2cellId[boxId] = cellId;\n            }\n          });\n        });\n      });\n\n      const rep = {};\n\n      this.textAnnotations.forEach((annotation) => {\n        const key = points2Key(annotation.boundingPoly.vertices);\n        let lineIds;\n        let columnIds;\n        if (lines[key] === undefined) {\n          lineIds = [];\n        } else {\n          lineIds = lines[key];\n        }\n        if (columns[key] === undefined) {\n          columnIds = [];\n        } else {\n          columnIds = columns[key];\n        }\n\n        rep[key] = {\n          ...annotation,\n          row_index: lineIds,\n          column_index: columnIds,\n          cell_id: boxId2cellId[key] || null,\n        };\n      });\n\n      axios.post(\n        `https://robotoff.openfoodfacts.org/api/v1/insights/annotate`,\n        new URLSearchParams(\n          `insight_id=${this.insightId}&annotation=1&data=${JSON.stringify({\n            textAnnotations: rep,\n            crop: this.cropRectangle,\n            dataQuality: this.dataQuality[0],\n          })}`\n        )\n      );\n\n      this.skip();\n    },\n    getCenter: function(points) {\n      return getCenter(points);\n    },\n    skip: async function() {\n      this.batchOfInsights = this.batchOfInsights.slice(1);\n\n      if (this.batchOfInsights.length > 0 && this.batchOfInsights.length < 5) {\n        this.loadOCR();\n      } else if (this.batchOfInsights.length === 0) {\n        await this.loadOCR();\n      }\n      const vm = this;\n\n      this.urlImg = this.batchOfInsights[0].urlImg;\n      this.insightId = this.batchOfInsights[0].insightId;\n\n      const {\n        data: { responses: responses },\n      } = await axios.get(this.batchOfInsights[0].textAnnotationsUrl);\n      this.textAnnotations = responses[0].textAnnotations;\n\n      var img = new Image();\n      img.onload = function() {\n        vm.imageHeight = img.height;\n        vm.imageWidth = img.width;\n      };\n      img.src = this.urlImg;\n\n      this.reset();\n      this.boxes = getBoxes(this.textAnnotations);\n\n      return null;\n    },\n    loadOCR: async function() {\n      this.loading = true;\n      const {\n        data: { insights: listOfInsights },\n      } = await axios.get(\n        \"https://robotoff.openfoodfacts.org/api/v1/insights/random?type=nutrition_table_structure\"\n      );\n\n      this.batchOfInsights = [\n        ...this.batchOfInsights,\n        ...listOfInsights.map(({ source_image, id }) => {\n          return {\n            urlImg: `https://static.openfoodfacts.org/images/products${source_image}`,\n            textAnnotationsUrl: `https://static.openfoodfacts.org/images/products${source_image\n              .split(\".\")\n              .slice(0, -1)\n              .join(\".\")}.json`,\n            insightId: id,\n          };\n        }),\n      ];\n\n      this.loading = false;\n    },\n    clickLink: function(node1, node2) {\n      if (!this.annotations.keyIsDown) {\n        const [start, end] = sortKeys(node1, node2);\n\n        this.annotations.memorizedGraph = {\n          ...this.annotations.memorizedGraph,\n          [start]: [\n            ...this.annotations.memorizedGraph[start].filter((x) => x !== end),\n          ],\n        };\n      }\n    },\n    clickNode: function(nodeId) {\n      if (!this.annotations.keyIsDown) {\n        delete this.annotations.memorizedGraph[nodeId];\n        this.annotations.memorizedGraph = {\n          ...this.annotations.memorizedGraph,\n        };\n\n        Object.keys(this.annotations.memorizedGraph).forEach((key) => {\n          const index = this.annotations.memorizedGraph[key].findIndex(\n            (x) => x === nodeId\n          );\n          if (index >= 0) {\n            this.annotations.memorizedGraph = {\n              ...this.annotations.memorizedGraph,\n              [key]: [\n                ...this.annotations.memorizedGraph[key].slice(0, index),\n                ...this.annotations.memorizedGraph[key].slice(index + 1),\n              ],\n            };\n          }\n        });\n      }\n    },\n    click: function(boxKey, event) {\n      if (!this.annotations.keyIsDown && boxKey) {\n        //We are now making links\n        this.annotations.keyIsDown = true;\n        this.annotations.currentPath = [boxKey];\n        this.annotations.lastElement = getCenter(this.boxes[boxKey].points);\n        this.cursor.x = event.offsetX;\n        this.cursor.y = event.offsetY;\n      } else if (this.annotations.keyIsDown) {\n        this.annotations.annnotated = true;\n\n        //we should stop making links\n        this.annotations.keyIsDown = false;\n\n        //save graph\n\n        // be sure that each node is a key in dictionary\n        this.annotations.currentPath.forEach((boxKey) => {\n          if (this.annotations.memorizedGraph[boxKey] === undefined) {\n            this.annotations.memorizedGraph[boxKey] = [];\n          }\n        });\n\n        // fill dictionaly with lexicographic order\n        this.annotations.currentPath.forEach((boxKey, index) => {\n          if (index > 0) {\n            const previousBoxKey = this.annotations.currentPath[index - 1];\n            const [start, end] = sortKeys(boxKey, previousBoxKey);\n\n            if (\n              !this.annotations.memorizedGraph[start].find((x) => x === end)\n            ) {\n              this.annotations.memorizedGraph[start].push(end);\n            }\n          }\n        });\n        this.annotations.currentPath = [];\n      }\n    },\n    moveAt: function(event) {\n      if (this.annotations.keyIsDown) {\n        this.cursor.x = event.offsetX;\n        this.cursor.y = event.offsetY;\n      }\n      if (\n        this.currentState === -1 &&\n        this.cropRectangle.currentlyDragged === \"end\"\n      ) {\n        this.cropRectangle.end.x = event.offsetX;\n        this.cropRectangle.end.y = event.offsetY;\n      }\n      if (\n        this.currentState === -1 &&\n        this.cropRectangle.currentlyDragged === \"start\"\n      ) {\n        this.cropRectangle.start.x = event.offsetX;\n        this.cropRectangle.start.y = event.offsetY;\n      }\n    },\n    stopDragging: function() {\n      this.cropRectangle.currentlyDragged = null;\n\n      Object.keys(this.boxes).forEach((key) => {\n        this.boxes[key].toDelete = !isInRectangle(\n          this.cropRectangle.start.x,\n          this.cropRectangle.start.y,\n          this.cropRectangle.end.x,\n          this.cropRectangle.end.y,\n          this.boxes[key].points\n        );\n      });\n    },\n    startDraggingStart: function() {\n      this.cropRectangle.currentlyDragged = \"start\";\n    },\n    startDraggingEnd: function() {\n      this.cropRectangle.currentlyDragged = \"end\";\n    },\n    mouseover: function(boxKey) {\n      if (!this.annotations.keyIsDown) {\n        return null;\n      }\n      if (\n        this.annotations.currentPath[\n          this.annotations.currentPath.length - 1\n        ] === boxKey\n      ) {\n        // The current box is the last one added -> so we remove it\n        if (this.annotations.currentPath.length > 1) {\n          this.annotations.currentPath.pop();\n          const lastBoxKey = this.annotations.currentPath[\n            this.annotations.currentPath.length - 1\n          ];\n          this.annotations.lastElement = getCenter(\n            this.boxes[lastBoxKey].points\n          );\n        }\n      } else if (!this.annotations.currentPath.find((x) => x === boxKey)) {\n        this.annotations.currentPath.push(boxKey);\n        this.annotations.lastElement = getCenter(this.boxes[boxKey].points);\n      }\n    },\n    nextStep: function() {\n      this.click();\n      if (this.currentState === -1) {\n        Object.keys(this.boxes).forEach((key) => {\n          this.boxes[key].visible = !this.boxes[key].toDelete;\n        });\n        this.currentState = 0;\n      }\n      if (\n        this.currentState === 0 ||\n        (this.annotations.annnotated && this.currentState === 1)\n      ) {\n        //Show cells created by goupin boxes\n        // can append if we click on next for the first time\n        // or if we were in the verification step and made modifications\n\n        this.convexHalls = getHullPaths(\n          this.annotations.memorizedGraph,\n          this.boxes\n        );\n        if (Object.keys(this.convexHalls).length !== 0) {\n          Object.keys(this.boxes).forEach((key) => {\n            this.boxes[key].toDelete = !Object.keys(\n              this.annotations.memorizedGraph\n            ).includes(key);\n          });\n          this.annotations.keyIsDown = false;\n          this.annotations.currentPath = [];\n          this.annotations.lastElement = { x: 0, y: 0 };\n          this.annotations.annnotated = false;\n          this.currentState = 1;\n        }\n      } else if (this.currentState === 1) {\n        // the association boxes -> cells is done by the key in convex hull\n        // since the key of a set is the concatenation of the boxes id contained in the cell\n        this.savedCellsGraph = { ...this.annotations.memorizedGraph };\n\n        this.boxes = { ...this.convexHalls };\n        this.convexHalls = {};\n\n        this.annotations.memorizedGraph = {};\n        this.savedLines = {};\n        this.lineIterator = 0;\n\n        this.currentState = 2;\n        //Now we are ready to select lines\n      } else if (this.currentState === 2) {\n        if (Object.keys(this.annotations.memorizedGraph).length === 0) {\n          if (\n            Object.keys(this.boxes).findIndex(\n              (key) => !this.isSaved(key, this.savedLines)\n            ) < 0\n          ) {\n            this.currentState = 3;\n\n            this.columnIterator = 0;\n            this.savedColumns = {};\n\n            Object.keys(this.savedLines).forEach((lineKey) =>\n              this.savedLines[lineKey].keys.forEach((nodeId) => {\n                this.boxes[nodeId].visible = true;\n              })\n            );\n          } else {\n            alert(\n              \"Tu n'as rien sélectionné, je ne peux donc pas ajouter de nouvelle ligne\"\n            );\n          }\n        } else {\n          const points = Object.keys(this.annotations.memorizedGraph).reduce(\n            (accumulateur, nodeId) => [\n              ...accumulateur,\n              ...this.boxes[nodeId].points,\n            ],\n            []\n          );\n\n          const keys = Object.keys(this.annotations.memorizedGraph);\n          this.savedLines[this.lineIterator] = {\n            keys: [...keys],\n            path: points2Path(getConvexPoints(points), true),\n            center: getCenter(points),\n          };\n\n          this.lineIterator += 1;\n          this.annotations.memorizedGraph = {};\n        }\n      } else if (this.currentState === 3) {\n        if (Object.keys(this.annotations.memorizedGraph).length === 0) {\n          if (\n            Object.keys(this.boxes).findIndex(\n              (key) => !this.isSaved(key, this.savedColumns)\n            ) < 0\n          ) {\n            this.currentState = 4;\n          } else {\n            alert(\n              \"Tu n'as rien sélectionné, je ne peux donc pas ajouter de nouvelle colonne\"\n            );\n          }\n        } else {\n          const points = Object.keys(this.annotations.memorizedGraph).reduce(\n            (accumulateur, nodeId) => [\n              ...accumulateur,\n              ...this.boxes[nodeId].points,\n            ],\n            []\n          );\n          this.savedColumns[this.columnIterator] = {\n            keys: [...Object.keys(this.annotations.memorizedGraph)],\n            path: points2Path(getConvexPoints(points), true),\n            center: getCenter(points),\n          };\n\n          this.columnIterator += 1;\n          this.annotations.memorizedGraph = {};\n        }\n      }\n    },\n    previousStep: function() {\n      this.click();\n      if (this.currentState === 0) {\n        Object.keys(this.boxes).forEach((key) => {\n          this.boxes[key].visible = true;\n        });\n        this.stopDragging();\n        this.annotations.memorizedGraph = {};\n        this.annotations.keyIsDown = false;\n        this.annotations.currentPath = [];\n        this.annotations.lastElement = { x: 0, y: 0 };\n        this.annotations.annnotated = false;\n        this.currentState = -1;\n      } else if (this.currentState === 1) {\n        this.currentState = 0;\n        //reset current anotations\n\n        this.annotations.memorizedGraph = {};\n        this.annotations.keyIsDown = false;\n        this.annotations.currentPath = [];\n        this.annotations.lastElement = { x: 0, y: 0 };\n        this.annotations.annnotated = false;\n\n        //remove saved annotations\n        this.convexHalls = {};\n        Object.keys(this.boxes).forEach((key) => {\n          this.boxes[key].toDelete = false;\n        });\n      } else if (this.currentState === 2) {\n        if (Object.keys(this.annotations.memorizedGraph).length > 0) {\n          //remove currently made graph\n          this.annotations.memorizedGraph = {};\n        } else if (this.lineIterator > 0) {\n          // remove last saved line\n          this.lineIterator -= 1;\n\n          delete this.savedLines[this.lineIterator];\n        } else {\n          // go back to cell selection\n\n          this.savedLines = {};\n          this.lineIterator = 0;\n          this.currentState = 1;\n\n          this.annotations.memorizedGraph = { ...this.savedCellsGraph };\n\n          // refind the OCR boxes\n          this.boxes = getBoxes(this.textAnnotations);\n          //remove what is outside of the cropped version\n          Object.keys(this.boxes).forEach((key) => {\n            this.boxes[key].visible = isInRectangle(\n              this.cropRectangle.start.x,\n              this.cropRectangle.start.y,\n              this.cropRectangle.end.x,\n              this.cropRectangle.end.y,\n              this.boxes[key].points\n            );\n          });\n\n          // put linked boxes as to be deleted\n          Object.keys(this.boxes).forEach((key) => {\n            this.boxes[key].toDelete = !Object.keys(\n              this.annotations.memorizedGraph\n            ).includes(key);\n          });\n\n          //get cells\n          this.convexHalls = getHullPaths(\n            this.annotations.memorizedGraph,\n            this.boxes\n          );\n\n          //reset annotations\n          this.annotations.keyIsDown = false;\n          this.annotations.currentPath = [];\n          this.annotations.lastElement = { x: 0, y: 0 };\n          this.annotations.annnotated = false;\n        }\n      } else if (this.currentState === 3) {\n        if (Object.keys(this.annotations.memorizedGraph).length > 0) {\n          //remove currently made graph\n          this.annotations.memorizedGraph = {};\n        } else if (this.columnIterator > 0) {\n          // remove las saved line\n          this.columnIterator -= 1;\n\n          delete this.savedColumns[this.columnIterator];\n        } else {\n          // go back to cell selection\n\n          this.savedColumns = {};\n          this.columnIterator = 0;\n          this.currentState = 2;\n\n          this.annotations.memorizedGraph = {};\n\n          //reset annotations\n          this.annotations.keyIsDown = false;\n          this.annotations.currentPath = [];\n          this.annotations.lastElement = { x: 0, y: 0 };\n          this.annotations.annnotated = false;\n        }\n      } else if (this.currentState === 4) {\n        this.currentState = 3;\n      }\n    },\n  },\n  watch: {\n    textAnnotations: function(newTextAnnotations) {\n      this.boxes = getBoxes(newTextAnnotations);\n    },\n  },\n  mounted: async function() {\n    const vm = this;\n\n    await this.loadOCR();\n\n    this.urlImg = this.batchOfInsights[0].urlImg;\n    this.insightId = this.batchOfInsights[0].insightId;\n\n    const {\n      data: { responses: responses },\n    } = await axios.get(this.batchOfInsights[0].textAnnotationsUrl);\n    this.textAnnotations = responses[0].textAnnotations;\n\n    var img = new Image();\n    img.onload = function() {\n      vm.imageHeight = img.height;\n      vm.imageWidth = img.width;\n    };\n    img.src = this.urlImg;\n\n    this.boxes = getBoxes(this.textAnnotations);\n\n    window.addEventListener(\"keyup\", function(event) {\n      if (event.target.nodeName == \"BODY\") {\n        if (event.key === \"k\") vm.skip();\n        if (event.key === \"n\") vm.nextStep();\n        if (event.key === \"v\") vm.validate();\n        if (event.key === \"p\") vm.previousStep();\n      }\n    });\n  },\n};\n</script>\n\n<style scoped>\n.app {\n  text-align: center;\n}\n\n.imageContainer {\n  position: relative;\n  display: inline-block;\n  text-align: left;\n}\n\n.imageContainer svg {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n.box {\n  fill: blue;\n  fill-opacity: 0.1;\n  stroke: blue;\n  stroke-width: 1;\n}\n\n.selectable:hover {\n  stroke: blue;\n  fill: blue;\n  stroke-width: 4;\n  fill-opacity: 0.5;\n  cursor: pointer;\n}\n\n.toDelete {\n  fill: red;\n  fill-opacity: 0.3;\n}\n\n.currentLink,\n.currentBoxesCenter {\n  pointer-events: none;\n  stroke: blue;\n  stroke-width: 5;\n  fill: none;\n}\n\n.savedLink,\n.savedBoxesCenter {\n  pointer-events: none;\n  stroke: black;\n  stroke-width: 5;\n  fill: none;\n}\n\n.youWantToDeleteBoxCenter:hover {\n  stroke: red;\n  stroke-width: 5;\n  stroke-dasharray: 5, 5;\n  fill: transparent;\n}\n.youWantToDeleteBoxCenter:hover {\n  cursor: pointer;\n}\n.youWantToDeleteBoxCenter:hover + circle {\n  stroke: transparent;\n}\n.youWantToDelete {\n  stroke: transparent;\n  stroke-width: 15;\n}\n.youWantToDelete:hover {\n  cursor: pointer;\n}\n.youWantToDelete:hover + line {\n  stroke: red;\n  stroke-dasharray: 5, 5;\n}\n\n.noPointerEvent {\n  pointer-events: none;\n}\n\n.convexhall {\n  pointer-events: none;\n  stroke: blue;\n  stroke-width: 5;\n  fill: none;\n}\n\n.validatedGroup {\n  pointer-events: none;\n  stroke-width: 5;\n  fill-opacity: 0.2;\n}\n\n.validatedLine {\n  stroke: #aa00ff;\n  fill: #aa00ff;\n}\n\n.validatedColumn {\n  stroke: #4527a0;\n  fill: #4527a0;\n}\n.unfill .validatedGroup {\n  fill: none;\n}\n\n.validatedGroup text {\n  font-size: 1.5rem;\n  font-weight: bolder;\n  fill: white;\n  fill-opacity: 1;\n  stroke: none;\n}\n.states {\n  display: flex;\n  justify-content: space-evenly;\n  margin-bottom: 0.5rem;\n}\n.states div {\n  flex-grow: 1;\n  height: 2rem;\n  text-align: center;\n  vertical-align: middle;\n  line-height: 2rem;\n  text-align: center;\n  transition: color 0.2s, background-color 0.2s;\n  background-color: lightgrey;\n  color: black;\n}\n\n.states .currentState {\n  background-color: #1769aa;\n  color: white;\n}\n.states .doneState {\n  background-color: #2196f3;\n  color: white;\n}\n\n.explanations {\n  font-size: 1.3rem;\n}\n.actions,\n.subActions {\n  display: flex;\n  justify-content: stretch;\n}\n\n.actions button,\n.subActions button,\n.checkboxContainer .checkbox {\n  padding: 1rem;\n  font-size: 1.7rem;\n  border: 0;\n}\n.checkboxContainer {\n  text-align: left;\n}\n\n.checkboxContainer label {\n  margin-bottom: 1.5rem;\n}\n.actions button {\n  color: white;\n  flex-grow: 1;\n}\n\n.subActions button:hover {\n  background-color: lightgrey;\n  cursor: pointer;\n}\n\n.subActions {\n  margin-bottom: 1rem;\n  justify-content: space-between;\n}\n\n.actions button:first-child {\n  background-color: red;\n}\n.actions .canValidate {\n  background-color: green;\n  cursor: pointer;\n}\n.actions .disabled {\n  background-color: #a5d6a7;\n}\n\n.croppingRectangle path {\n  stroke: black;\n  stroke-width: 5;\n  fill: green;\n  fill-opacity: 0.5;\n}\n\n.croppingRectangle circle {\n  stroke: black;\n  stroke-width: 5;\n  fill: green;\n  cursor: pointer;\n}\n\n.desactivateListenersInside * {\n  pointer-events: none;\n}\n\n.scollable {\n  overflow: auto;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableAnnotation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableAnnotation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TableAnnotation.vue?vue&type=template&id=6d01ef04&scoped=true&\"\nimport script from \"./TableAnnotation.vue?vue&type=script&lang=js&\"\nexport * from \"./TableAnnotation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TableAnnotation.vue?vue&type=style&index=0&id=6d01ef04&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d01ef04\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ui stackable grid container\"},[_c('div',{staticClass:\"five wide column\"},[_c('h2',[_vm._v(_vm._s(_vm.$t(\"settings.settings\")))]),_c('form',{staticClass:\"ui form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.saveLang.apply(null, arguments)}}},[_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"ui action input labeled\"},[_c('div',{staticClass:\"ui label\"},[_vm._v(_vm._s(_vm.$t(\"settings.language\")))]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedLang),expression:\"selectedLang\"}],staticClass:\"ui fluid dropdown\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedLang=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.langs),function(lang,i){return _c('option',{key:(\"Lang\" + i),domProps:{\"value\":lang}},[_vm._v(\" \"+_vm._s(lang.toUpperCase())+\" \")])}),0)])]),_c('button',{staticClass:\"ui button primary\"},[_vm._v(_vm._s(_vm.$t(\"settings.save\")))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import it from './it'\nimport en from './en'\nimport fr from './fr'\nimport de from './de'\nimport es from './es'\n\n\nexport default {\n  en,\n  it,\n  fr,\n  de,\n  es,\n}\n","<template>\n  <div class=\"ui stackable grid container\">\n    <div class=\"five wide column\">\n      <h2>{{ $t(\"settings.settings\") }}</h2>\n      <form class=\"ui form\" v-on:submit.prevent=\"saveLang\">\n        <div class=\"field\">\n          <div class=\"ui action input labeled\">\n            <div class=\"ui label\">{{ $t(\"settings.language\") }}</div>\n            <select v-model=\"selectedLang\" class=\"ui fluid dropdown\">\n              <option\n                v-for=\"(lang, i) in langs\"\n                :key=\"`Lang${i}`\"\n                :value=\"lang\"\n              >\n                {{ lang.toUpperCase() }}\n              </option>\n            </select>\n          </div>\n        </div>\n        <button class=\"ui button primary\">{{ $t(\"settings.save\") }}</button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { localSettings } from \"../settings\";\nimport messages from \"../i18n/messages\";\n\nexport default {\n  name: \"SettingsView\",\n  props: [],\n\n  data: function () {\n    return {\n      selectedLang: this.$i18n.locale,\n      langs: Object.keys(messages),\n    };\n  },\n  \n  methods: {\n    saveLang: function () {\n      this.$i18n.locale = this.selectedLang;\n      localSettings.update(\"lang\", this.$i18n.locale);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SettingsView.vue?vue&type=template&id=32b7bc76&\"\nimport script from \"./SettingsView.vue?vue&type=script&lang=js&\"\nexport * from \"./SettingsView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ui container\"},[_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('insights.insights')))]),_c('form',{staticClass:\"ui stackable form\"},[_c('div',{staticClass:\"two fields\"},[_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(_vm._s(_vm.$t('insights.barcode')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.barcodeFilter),expression:\"barcodeFilter\"}],attrs:{\"placeholder\":_vm.$t('insights.barcode_placeholder')},domProps:{\"value\":(_vm.barcodeFilter)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.barcodeFilter=$event.target.value}}})]),_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(_vm._s(_vm.$t('insights.value_tag')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.valueTagFilter),expression:\"valueTagFilter\"}],attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('insights.value_placeholder')},domProps:{\"value\":(_vm.valueTagFilter)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.valueTagFilter=$event.target.value}}})])]),_c('div',{staticClass:\"two fields\"},[_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(_vm._s(_vm.$t('insights.type')))]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.insightTypeFilter),expression:\"insightTypeFilter\"}],staticClass:\"ui search dropdown\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.insightTypeFilter=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(_vm._s(_vm.$t('insights.all')))]),_c('option',{attrs:{\"value\":\"label\"}},[_vm._v(_vm._s(_vm.$t('insights.label')))]),_c('option',{attrs:{\"value\":\"product_weight\"}},[_vm._v(_vm._s(_vm.$t('insights.product_weight')))]),_c('option',{attrs:{\"value\":\"category\"}},[_vm._v(_vm._s(_vm.$t('insights.category')))]),_c('option',{attrs:{\"value\":\"expiration_date\"}},[_vm._v(_vm._s(_vm.$t('insights.expiration_date')))]),_c('option',{attrs:{\"value\":\"packager_code\"}},[_vm._v(_vm._s(_vm.$t('insights.packager_code')))])])]),_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(_vm._s(_vm.$t('insights.annotated')))]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.annotationFilter),expression:\"annotationFilter\"}],staticClass:\"ui search dropdown\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.annotationFilter=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(_vm._s(_vm.$t('insights.all')))]),_c('option',{attrs:{\"value\":\"-1\"}},[_vm._v(_vm._s(_vm.$t('insights.skipped')))]),_c('option',{attrs:{\"value\":\"0\"}},[_vm._v(_vm._s(_vm.$t('insights.rejected')))]),_c('option',{attrs:{\"value\":\"1\"}},[_vm._v(_vm._s(_vm.$t('insights.accepted')))]),_c('option',{attrs:{\"value\":\"not_annotated\"}},[_vm._v(_vm._s(_vm.$t('insights.not_annotated')))])])])]),_c('input',{staticClass:\"ui submit button primary\",attrs:{\"type\":\"submit\"},domProps:{\"value\":_vm.$t('insights.search')},on:{\"click\":function($event){$event.preventDefault();return _vm.loadInsights.apply(null, arguments)}}})]),_c('div',{staticClass:\"ui divider\"}),(!_vm.loading)?_c('p',[_c('strong',[_vm._v(_vm._s(_vm.$t('insights.count')))]),_vm._v(\" \"+_vm._s(_vm.resultCount)+\" \")]):_vm._e()]),_c('LoadingSpinner',{attrs:{\"show\":_vm.loading}}),(!_vm.loading)?_c('table',{staticClass:\"ui celled table\"},[_c('thead',{staticClass:\"mobile hidden\"},[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$t('insights.barcode')))]),_c('th',[_vm._v(_vm._s(_vm.$t('insights.id')))]),_c('th',[_vm._v(_vm._s(_vm.$t('insights.type')))]),_c('th',[_vm._v(_vm._s(_vm.$t('insights.value')))]),_c('th',[_vm._v(_vm._s(_vm.$t('insights.created_at')))]),_c('th',[_vm._v(_vm._s(_vm.$t('insights.completed_at')))]),_c('th',[_vm._v(_vm._s(_vm.$t('insights.annotation')))]),_c('th',[_vm._v(_vm._s(_vm.$t('insights.automatic')))])])]),_c('tbody',_vm._l((_vm.insights),function(insight){return _c('tr',{key:insight.id},[_c('td',{attrs:{\"data-label\":\"Barcode\"}},[_c('span',{staticClass:\"mobile only list__label\"},[_vm._v(_vm._s(_vm.$t('insights.barcode'))+\" \")]),_vm._v(_vm._s(insight.barcode))]),_c('td',{attrs:{\"data-label\":\"Id\"}},[_c('span',{staticClass:\"mobile only list__label\"},[_vm._v(_vm._s(_vm.$t('insights.id'))+\" \")]),_vm._v(_vm._s(insight.id))]),_c('td',{attrs:{\"data-label\":\"Type\"}},[_c('span',{staticClass:\"mobile only list__label\"},[_vm._v(_vm._s(_vm.$t('insights.type'))+\" \")]),_vm._v(_vm._s(insight.type))]),_c('td',{attrs:{\"data-label\":\"Value\"}},[_c('span',{staticClass:\"mobile only list__label\"},[_vm._v(_vm._s(_vm.$t('insights.value'))+\" \")]),_vm._v(_vm._s(insight.value || insight.value_tag))]),_c('td',{attrs:{\"data-label\":\"Created at\"}},[_c('span',{staticClass:\"mobile only list__label\"},[_vm._v(_vm._s(_vm.$t('insights.created_at'))+\" \")]),_vm._v(_vm._s(_vm.formatDatetime(insight.timestamp)))]),_c('td',{attrs:{\"data-label\":\"Completed at\"}},[_c('span',{staticClass:\"mobile only list__label\"},[_vm._v(_vm._s(_vm.$t('insights.completed_at'))+\" \")]),_vm._v(_vm._s(_vm.formatDatetime(insight.completed_at)))]),_c('td',{attrs:{\"data-label\":\"Annotation\"}},[_c('span',{staticClass:\"mobile only list__label\"},[_vm._v(_vm._s(_vm.$t('insights.annotation'))+\" \")]),(insight.annotation == 1)?_c('i',{staticClass:\"large green checkmark icon\"}):(insight.annotation == 0)?_c('i',{staticClass:\"large red times icon\"}):(insight.annotation == -1)?_c('i',{staticClass:\"large grey question icon\"}):_vm._e()]),_c('td',{attrs:{\"data-label\":\"Automatic\"}},[_c('span',{staticClass:\"mobile only list__label\"},[_vm._v(_vm._s(_vm.$t('insights.automatic'))+\" \")]),(insight.automatic_processing)?_c('i',{staticClass:\"large green checkmark icon\"}):_vm._e()])])}),0)]):_vm._e(),(_vm.resultCount)?_c('div',[_c('pagination',{attrs:{\"page-count\":_vm.pageCount},on:{\"change\":_vm.updatedPage},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"pagination\"},[(_vm.paginationLabels.first)?_c('li',{staticClass:\"pagination-item mobile hidden\"},[_c('button',{staticClass:\"compact ui button\",attrs:{\"disabled\":_vm.hasFirst},domProps:{\"innerHTML\":_vm._s(_vm.paginationLabels.first)},on:{\"click\":_vm.first}})]):_vm._e(),(_vm.paginationLabels.prev)?_c('li',{staticClass:\"pagination-item mobile hidden\"},[_c('button',{staticClass:\"compact ui button\",attrs:{\"disabled\":_vm.hasFirst},domProps:{\"innerHTML\":_vm._s(_vm.paginationLabels.prev)},on:{\"click\":_vm.prev}})]):_vm._e(),_vm._l((_vm.items),function(page){return _c('li',{key:page.label,staticClass:\"pagination-item\"},[(page.disable)?_c('span',[_vm._v(\"...\")]):_c('button',{staticClass:\"compact ui button\",class:(\"\" + (page.active ? 'primary' : '')),on:{\"click\":function($event){return _vm.goto(page.label)}}},[_vm._v(_vm._s(page.label))])])}),(_vm.paginationLabels.next)?_c('li',{staticClass:\"pagination-item mobile hidden\"},[_c('button',{staticClass:\"compact ui button\",attrs:{\"disabled\":_vm.hasLast},domProps:{\"innerHTML\":_vm._s(_vm.paginationLabels.next)},on:{\"click\":_vm.next}})]):_vm._e(),(_vm.paginationLabels.last)?_c('li',{staticClass:\"pagination-item mobile hidden\"},[_c('button',{staticClass:\"compact ui button\",attrs:{\"disabled\":_vm.hasLast},domProps:{\"innerHTML\":_vm._s(_vm.paginationLabels.last)},on:{\"click\":_vm.last}})]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ul class=\"pagination\">\n    <li class=\"pagination-item mobile hidden\" v-if=\"paginationLabels.first\">\n      <button\n        @click=\"first\"\n        :disabled=\"hasFirst\"\n        class=\"compact ui button\"\n        v-html=\"paginationLabels.first\"\n      ></button>\n    </li>\n\n    <li class=\"pagination-item mobile hidden\" v-if=\"paginationLabels.prev\">\n      <button\n        @click=\"prev\"\n        :disabled=\"hasFirst\"\n        class=\"compact ui button\"\n        v-html=\"paginationLabels.prev\"\n      ></button>\n    </li>\n\n    <li v-for=\"page in items\" :key=\"page.label\" class=\"pagination-item\">\n      <span v-if=\"page.disable\">...</span>\n      <button\n        v-else\n        @click=\"goto(page.label)\"\n        class=\"compact ui button\"\n        :class=\"`${page.active ? 'primary' : ''}`\"\n      >{{ page.label }}</button>\n    </li>\n\n    <li v-if=\"paginationLabels.next\" class=\"pagination-item mobile hidden\">\n      <button\n        @click=\"next\"\n        :disabled=\"hasLast\"\n        class=\"compact ui button\"\n        v-html=\"paginationLabels.next\"\n      ></button>\n    </li>\n\n    <li v-if=\"paginationLabels.last\" class=\"pagination-item mobile hidden\">\n      <button\n        @click=\"last\"\n        :disabled=\"hasLast\"\n        class=\"compact ui button\"\n        v-html=\"paginationLabels.last\"\n      ></button>\n    </li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  props: {\n    value: {\n      // current page\n      type: Number,\n      required: true\n    },\n    pageCount: {\n      // page numbers\n      type: Number,\n      required: true\n    },\n    labels: {\n      type: Object,\n      required: false,\n      default: () => ({})\n    }\n  },\n\n  data() {\n    return {\n      paginationLabels: {\n        first: \"&laquo;\",\n        prev: \"&lsaquo;\",\n        next: \"&rsaquo;\",\n        last: \"&raquo;\"\n      }\n    };\n  },\n\n  mounted() {\n    if (this.value > this.pageCount) {\n      this.$emit(\"input\", this.pageCount);\n    }\n  },\n\n  computed: {\n    items() {\n      let valPrev = this.value > 1 ? this.value - 1 : 1; // for easier navigation - gives one previous page\n      let valNext =\n        this.value < this.pageCount ? this.value + 1 : this.pageCount; // one next page\n      let extraPrev = valPrev === 3 ? 2 : null;\n      let extraNext =\n        valNext === this.pageCount - 2 ? this.pageCount - 1 : null;\n      let dotsBefore = valPrev > 3 ? 2 : null;\n      let dotsAfter = valNext < this.pageCount - 2 ? this.pageCount - 1 : null;\n\n      let output = [];\n\n      for (let i = 1; i <= this.pageCount; i += 1) {\n        if (\n          [\n            1,\n            this.pageCount,\n            this.value,\n            valPrev,\n            valNext,\n            extraPrev,\n            extraNext,\n            dotsBefore,\n            dotsAfter\n          ].includes(i)\n        ) {\n          output.push({\n            label: i,\n            active: this.value === i,\n            disable: [dotsBefore, dotsAfter].includes(i)\n          });\n        }\n      }\n\n      return output;\n    },\n\n    hasFirst() {\n      return this.value === 1;\n    },\n\n    hasLast() {\n      return this.value === this.pageCount;\n    }\n  },\n\n  watch: {\n    value: function() {\n      this.$emit(\"change\");\n    }\n  },\n\n  methods: {\n    first() {\n      if (!this.hasFirst) {\n        this.$emit(\"input\", 1);\n      }\n    },\n\n    prev() {\n      if (!this.hasFirst) {\n        this.$emit(\"input\", this.value - 1);\n      }\n    },\n\n    goto(page) {\n      this.$emit(\"input\", page);\n    },\n\n    next() {\n      if (!this.hasLast) {\n        this.$emit(\"input\", this.value + 1);\n      }\n    },\n\n    last() {\n      if (!this.hasLast) {\n        this.$emit(\"input\", this.pageCount);\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.pagination {\n  padding-inline-start: 0;\n  text-align: center;\n}\n.pagination-item {\n  display: inline-block;\n  list-style: none;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=4e54b946&scoped=true&\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js&\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Pagination.vue?vue&type=style&index=0&id=4e54b946&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e54b946\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"ui container\">\n    <div>\n      <h2>{{$t('insights.insights')}}</h2>\n      <form class=\"ui stackable form\">\n        <div class=\"two fields\">\n          <div class=\"field\">\n            <label>{{$t('insights.barcode')}}</label>\n            <input :placeholder=\"$t('insights.barcode_placeholder')\" v-model=\"barcodeFilter\" />\n          </div>\n          <div class=\"field\">\n            <label>{{$t('insights.value_tag')}}</label>\n            <input type=\"text\" :placeholder=\"$t('insights.value_placeholder')\" v-model=\"valueTagFilter\" />\n          </div>\n        </div>\n        <div class=\"two fields\">\n          <div class=\"field\">\n            <label>{{$t('insights.type')}}</label>\n            <select class=\"ui search dropdown\" v-model=\"insightTypeFilter\">\n              <option value>{{$t('insights.all')}}</option>\n              <option value=\"label\">{{$t('insights.label')}}</option>\n              <option value=\"product_weight\">{{$t('insights.product_weight')}}</option>\n              <option value=\"category\">{{$t('insights.category')}}</option>\n              <option value=\"expiration_date\">{{$t('insights.expiration_date')}}</option>\n              <option value=\"packager_code\">{{$t('insights.packager_code')}}</option>\n            </select>\n          </div>\n          <div class=\"field\">\n            <label>{{$t('insights.annotated')}}</label>\n            <select class=\"ui search dropdown\" v-model=\"annotationFilter\">\n              <option value>{{$t('insights.all')}}</option>\n              <option value=\"-1\">{{$t('insights.skipped')}}</option>\n              <option value=\"0\">{{$t('insights.rejected')}}</option>\n              <option value=\"1\">{{$t('insights.accepted')}}</option>\n              <option value=\"not_annotated\">{{$t('insights.not_annotated')}}</option>\n            </select>\n          </div>\n        </div>\n        <input class=\"ui submit button primary\" type=\"submit\" :value=\"$t('insights.search')\" @click.prevent=\"loadInsights\" />\n      </form>\n      <div class=\"ui divider\" />\n      <p v-if=\"!loading\">\n        <strong>{{$t('insights.count')}}</strong>\n        {{ resultCount }}\n      </p>\n    </div>\n    <LoadingSpinner :show=\"loading\" />\n    <table class=\"ui celled table\" v-if=\"!loading\">\n      <thead class=\"mobile hidden\">\n        <tr>\n          <th>{{$t('insights.barcode')}}</th>\n          <th>{{$t('insights.id')}}</th>\n          <th>{{$t('insights.type')}}</th>\n          <th>{{$t('insights.value')}}</th>\n          <th>{{$t('insights.created_at')}}</th>\n          <th>{{$t('insights.completed_at')}}</th>\n          <th>{{$t('insights.annotation')}}</th>\n          <th>{{$t('insights.automatic')}}</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"insight in insights\" :key=\"insight.id\">\n          <td data-label=\"Barcode\"><span class=\"mobile only list__label\">{{$t('insights.barcode')}} </span>{{ insight.barcode }}</td>\n          <td data-label=\"Id\"><span class=\"mobile only list__label\">{{$t('insights.id')}} </span>{{ insight.id }}</td>\n          <td data-label=\"Type\"><span class=\"mobile only list__label\">{{$t('insights.type')}} </span>{{ insight.type }}</td>\n          <td data-label=\"Value\"><span class=\"mobile only list__label\">{{$t('insights.value')}} </span>{{ insight.value || insight.value_tag }}</td>\n          <td data-label=\"Created at\"><span class=\"mobile only list__label\">{{$t('insights.created_at')}} </span>{{ formatDatetime(insight.timestamp) }}</td>\n          <td data-label=\"Completed at\"><span class=\"mobile only list__label\">{{$t('insights.completed_at')}} </span>{{ formatDatetime(insight.completed_at) }}</td>\n          <td data-label=\"Annotation\">\n            <span class=\"mobile only list__label\">{{$t('insights.annotation')}} </span>\n            <i v-if=\"insight.annotation == 1\" class=\"large green checkmark icon\"></i>\n            <i v-else-if=\"insight.annotation == 0\" class=\"large red times icon\"></i>\n            <i v-else-if=\"insight.annotation == -1\" class=\"large grey question icon\"></i>\n          </td>\n          <td data-label=\"Automatic\">\n            <span class=\"mobile only list__label\">{{$t('insights.automatic')}} </span>\n            <i v-if=\"insight.automatic_processing\" class=\"large green checkmark icon\"></i>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <div v-if=\"resultCount\">\n      <pagination v-model=\"currentPage\" :page-count=\"pageCount\" v-on:change=\"updatedPage\"></pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nimport robotoffService from \"../robotoff\";\nimport Pagination from \"../components/Pagination\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\n\nexport default {\n  name: \"InsightListView\",\n  components: { Pagination, LoadingSpinner },\n  data: function() {\n    return {\n      currentPage: 1,\n      insights: [],\n      pageSize: 25,\n      resultCount: 0,\n      barcodeFilter: \"\",\n      insightTypeFilter: \"\",\n      annotationFilter: \"\",\n      valueTagFilter: \"\",\n      loading: false\n    };\n  },\n  computed: {\n    pageCount: function() {\n      if (this.resultCount == 0) {\n        return 0;\n      }\n\n      let count = Math.floor(this.resultCount / this.pageSize);\n      if (this.resultCount % this.pageSize !== 0) {\n        count += 1;\n      }\n      return count;\n    }\n  },\n  methods: {\n    formatDatetime: function(datetime) {\n      if (!datetime) {\n        return null;\n      }\n      return datetime.split(\".\")[0];\n    },\n    updatedPage: function() {\n      this.loadInsights();\n    },\n    loadInsights: function() {\n      this.loading = true;\n      robotoffService\n        .getInsights(\n          this.barcodeFilter, this.insightTypeFilter, this.valueTagFilter,\n          this.annotationFilter, this.currentPage, this.pageSize\n        )\n        .then(result => {\n          this.insights = result.data.insights;\n          this.resultCount = result.data.count;\n          this.loading = false\n        })\n        .catch(() => {\n          this.loading = false;\n        })\n    }\n  },\n  mounted() {\n    this.loadInsights();\n  }\n};\n</script>\n<style>\n.list__label {\n  font-weight: bold;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsightListView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsightListView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InsightListView.vue?vue&type=template&id=546cdbf4&\"\nimport script from \"./InsightListView.vue?vue&type=script&lang=js&\"\nexport * from \"./InsightListView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InsightListView.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ui container\"},[_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t(\"logos.search\")))]),_c('div',{staticClass:\"ui divider hidden\"}),_c('form',{staticClass:\"ui form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.search.apply(null, arguments)}}},[_c('div',{staticClass:\"three fields\"},[_c('div',{staticClass:\"field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.value),expression:\"value\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"name\":\"value\",\"placeholder\":_vm.$t('logos.value')},domProps:{\"value\":(_vm.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.barcode),expression:\"barcode\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"name\":\"barcode\",\"placeholder\":_vm.$t('logos.barcode')},domProps:{\"value\":(_vm.barcode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.barcode=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"field\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.type),expression:\"type\"}],staticClass:\"ui fluid dropdown\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.type=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(_vm._s(_vm.$t(\"logos.type\")))]),_c('option',{attrs:{\"value\":\"label\"}},[_vm._v(_vm._s(_vm.$t(\"logos.label\")))]),_c('option',{attrs:{\"value\":\"brand\"}},[_vm._v(_vm._s(_vm.$t(\"logos.brand\")))]),_c('option',{attrs:{\"value\":\"packager_code\"}},[_vm._v(_vm._s(_vm.$t(\"logos.packager_code\")))]),_c('option',{attrs:{\"value\":\"packaging\"}},[_vm._v(_vm._s(_vm.$t(\"logos.packaging\")))]),_c('option',{attrs:{\"value\":\"qr_code\"}},[_vm._v(_vm._s(_vm.$t(\"logos.qr_code\")))]),_c('option',{attrs:{\"value\":\"category\"}},[_vm._v(_vm._s(_vm.$t(\"logos.category\")))]),_c('option',{attrs:{\"value\":\"nutrition_label\"}},[_vm._v(_vm._s(_vm.$t(\"logos.nutrition_label\")))]),_c('option',{attrs:{\"value\":\"store\"}},[_vm._v(_vm._s(_vm.$t(\"logos.store\")))])])]),_c('div',{staticClass:\"field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.count),expression:\"count\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"number\",\"name\":\"count\"},domProps:{\"value\":(_vm.count)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.count=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"field\"},[_c('button',{staticClass:\"ui button primary\",attrs:{\"type\":\"submit\"}},[_vm._v(_vm._s(_vm.$t(\"logos.search\")))])])])]),_c('div',{staticClass:\"ui divider hidden\"}),_c('LoadingSpinner',{attrs:{\"show\":_vm.loading}}),(!_vm.loading && _vm.logos.length > 0)?_c('div',[_c('p',[_vm._v(_vm._s(_vm.$t(\"logos.number_of_results\"))+\" \"+_vm._s(_vm.resultCount))]),_c('LogoCardGrid',{attrs:{\"logos\":_vm.logos,\"selectable\":false}})],1):_vm._e(),(!_vm.loading && _vm.logos.length == 0)?_c('div',[_c('p',[_c('strong',[_vm._v(_vm._s(_vm.$t(\"logos.no_found\")))])])]):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"ui grid\"},_vm._l((_vm.logos),function(logo){return _c('div',{key:logo.id,staticClass:\"four wide mobile-landscape eight wide mobile four wide tablet three wide computer column\"},[_c('div',{staticClass:\"ui fluid card ann-logo\",class:{selected: logo.selected, annotated: logo.annotation_type },on:{\"click\":function($event){return _vm.toggleSelectLogo(logo)}}},[_c('div',{staticClass:\"content actions\"},[_c('div',{staticClass:\"left floated meta\"},[_c('router-link',{attrs:{\"to\":_vm.editLogoURL(logo),\"target\":\"_blank\"}},[_c('i',{staticClass:\"edit icon\"})])],1),_c('div',{staticClass:\"right floated meta\"},[_c('router-link',{attrs:{\"to\":_vm.externalLogoURL(logo),\"target\":\"_blank\"}},[_c('i',{staticClass:\"external alternate icon blue\"})])],1)]),_c('div',{staticClass:\"content logo-image\"},[_c('img',{attrs:{\"loading\":\"lazy\",\"src\":logo.image.url}})]),_c('div',{staticClass:\"content distance\"},[(logo.distance)?_c('p',[_vm._v(_vm._s(_vm.$t(\"logos.distance\"))+\" \"+_vm._s(logo.distance.toFixed(1)))]):_vm._e(),(logo.annotation_value)?_c('p',[_vm._v(_vm._s(_vm.$t(\"logos.annotation\"))+_vm._s(logo.annotation_value)+\" (\"+_vm._s(logo.annotation_type)+\")\")]):_vm._e()])])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"ui grid\">\n      <div\n        class=\"four wide mobile-landscape eight wide mobile four wide tablet three wide computer column\"\n        v-for=\"logo in logos\"\n        :key=\"logo.id\"\n      >\n        <div\n          class=\"ui fluid card ann-logo\"\n          @click=\"toggleSelectLogo(logo)\"\n          :class=\"{selected: logo.selected, annotated: logo.annotation_type }\"\n        >\n          <div class=\"content actions\">\n            <div class=\"left floated meta\">\n              <router-link :to=\"editLogoURL(logo)\" target=\"_blank\">\n                <i class=\"edit icon\"></i>\n              </router-link>\n            </div>\n            <div class=\"right floated meta\">\n              <router-link :to=\"externalLogoURL(logo)\" target=\"_blank\">\n                <i class=\"external alternate icon blue\"></i>\n              </router-link>\n            </div>\n          </div>\n          <div class=\"content logo-image\">\n            <img loading=\"lazy\" :src=\"logo.image.url\" />\n          </div>\n          <div class=\"content distance\">\n            <p v-if=\"logo.distance\">{{$t(\"logos.distance\")}} {{ logo.distance.toFixed(1) }}</p>\n            <p\n              v-if=\"logo.annotation_value\"\n            >{{$t(\"logos.annotation\")}}{{ logo.annotation_value }} ({{ logo.annotation_type }})</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"LogoCardGrid\",\n  props: {\n    logos: {\n      type: Array,\n      required: true\n    },\n    selectable: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function() {\n    return {};\n  },\n  methods: {\n    externalLogoURL: function(logo) {\n      return `/logos?logo_id=${logo.id}`;\n    },\n    editLogoURL: function(logo) {\n      return `/logos/${logo.id}`;\n    },\n    toggleSelectLogo: function(logo) {\n      if (!this.selectable || logo.annotation_value) return;\n      this.$emit(\"toggle-select-logo\", logo);\n    }\n  },\n  computed: {},\n  mounted() {}\n};\n</script>\n\n<style scoped>\n.ann-logo.selected {\n  background-color: #4a5971;\n  color: #ffffff;\n}\n\n.ann-logo.annotated {\n  background-color: #797979;\n  color: #ffffff;\n}\n.ui.card {\n  height: 100%;\n}\n\n.ui.card>.actions {\n  flex-grow: 0;\n}\n\n.ui.card>.logo-image {\n  display: flex;\n  align-items: center;\n  flex-grow: 1;\n  justify-content: center;\n}\n\n.ui.card>.logo-image>img {\n  max-width: 100%;\n}\n\n.ui.card>.distance {\n  flex-grow: 0;\n}\n\n@media only screen\nand (max-width: 767px)\nand (orientation: landscape) {\n  .ui.grid>[class*=\"four wide mobile-landscape\"].column {\n    width: 25%!important;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogoCardGrid.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogoCardGrid.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LogoCardGrid.vue?vue&type=template&id=7a63dea9&scoped=true&\"\nimport script from \"./LogoCardGrid.vue?vue&type=script&lang=js&\"\nexport * from \"./LogoCardGrid.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LogoCardGrid.vue?vue&type=style&index=0&id=7a63dea9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7a63dea9\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"ui container\">\n    <div>\n      <h2>{{$t(\"logos.search\")}}</h2>\n      <div class=\"ui divider hidden\" />\n      <form class=\"ui form\" v-on:submit.prevent=\"search\">\n        <div class=\"three fields\">\n          <div class=\"field\">\n            <input type=\"text\" name=\"value\" :placeholder=\"$t('logos.value')\" v-model.trim=\"value\" />\n          </div>\n          <div class=\"field\">\n            <input type=\"text\" name=\"barcode\" :placeholder=\"$t('logos.barcode')\" v-model.trim=\"barcode\" />\n          </div>\n          <div class=\"field\">\n            <select class=\"ui fluid dropdown\" v-model=\"type\">\n              <option value>{{$t(\"logos.type\")}}</option>\n              <option value=\"label\">{{$t(\"logos.label\")}}</option>\n              <option value=\"brand\">{{$t(\"logos.brand\")}}</option>\n              <option value=\"packager_code\">{{$t(\"logos.packager_code\")}}</option>\n              <option value=\"packaging\">{{$t(\"logos.packaging\")}}</option>\n              <option value=\"qr_code\">{{$t(\"logos.qr_code\")}}</option>\n              <option value=\"category\">{{$t(\"logos.category\")}}</option>\n              <option value=\"nutrition_label\">{{$t(\"logos.nutrition_label\")}}</option>\n              <option value=\"store\">{{$t(\"logos.store\")}}</option>\n            </select>\n          </div>\n          <div class=\"field\">\n            <input type=\"number\" name=\"count\" v-model.trim=\"count\" />\n          </div>\n          <div class=\"field\">\n            <button type=\"submit\" class=\"ui button primary\">{{$t(\"logos.search\")}}</button>\n          </div>\n        </div>\n      </form>\n      <div class=\"ui divider hidden\" />\n      <LoadingSpinner :show=\"loading\" />\n      <div v-if=\"!loading && logos.length > 0\">\n        <p>{{$t(\"logos.number_of_results\")}} {{ resultCount }}</p>\n        <LogoCardGrid :logos=\"logos\" :selectable=\"false\" />\n      </div>\n      <div v-if=\"!loading && logos.length == 0\">\n        <p>\n          <strong>{{$t(\"logos.no_found\")}}</strong>\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport robotoffService from \"../robotoff\";\nimport offService from \"../off\";\nimport LogoCardGrid from \"../components/LogoCardGrid\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\n\n\nconst transformLogo = logo => {\n  logo.image.url = robotoffService.getCroppedImageUrl(\n    offService.getImageUrl(logo.image.source_image),\n    logo.bounding_box\n  )\n  return logo;\n};\n\nexport default {\n  name: \"InsightListView\",\n  components: { LogoCardGrid , LoadingSpinner},\n  data: function() {\n    return {\n      logos: [],\n      value: \"\",\n      barcode: \"\",\n      type: \"\",\n      resultCount: 0,\n      count: 25,\n      loading: false\n    };\n  },\n  computed: {},\n  methods: {\n    search: function() {\n      this.loading = true\n      robotoffService\n        .searchLogos(this.barcode, this.value, this.type, this.count)\n        .then(({ data }) => {\n          this.logos = data.logos.map(transformLogo);\n          this.resultCount = data.count;\n          this.loading = false;\n        })\n        .catch(() => {\n          this.loading = false;\n        })\n    }\n  },\n  mounted() {\n    this.search();\n  }\n};\n</script>\n\n<style scoped>\n.borderless-button {\n  color: #2185d0;\n  cursor: pointer;\n}\n\n.borderless-button:hover {\n  text-decoration: underline;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogoSearchView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogoSearchView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LogoSearchView.vue?vue&type=template&id=ade22f58&scoped=true&\"\nimport script from \"./LogoSearchView.vue?vue&type=script&lang=js&\"\nexport * from \"./LogoSearchView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LogoSearchView.vue?vue&type=style&index=0&id=ade22f58&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ade22f58\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ui container\"},[_c('h2',[_vm._v(_vm._s(_vm.$t(\"logos.annotations\")))]),_c('LoadingSpinner',{attrs:{\"show\":_vm.logos.length== 0 && _vm.loading}}),(_vm.logos.length > 0)?_c('div',[_c('form',{staticClass:\"ui form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.sendAnnotations.apply(null, arguments)}}},[_c('div',{staticClass:\"three fields\"},[_c('div',{staticClass:\"field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.valueInput),expression:\"valueInput\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"name\":\"value\",\"placeholder\":_vm.$t('logos.value')},domProps:{\"value\":(_vm.valueInput)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.valueInput=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"field\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.typeInput),expression:\"typeInput\"}],staticClass:\"ui fluid dropdown\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.typeInput=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(_vm._s(_vm.$t(\"logos.type\")))]),_c('option',{attrs:{\"value\":\"label\"}},[_vm._v(_vm._s(_vm.$t(\"logos.label\")))]),_c('option',{attrs:{\"value\":\"brand\"}},[_vm._v(_vm._s(_vm.$t(\"logos.brand\")))]),_c('option',{attrs:{\"value\":\"packager_code\"}},[_vm._v(_vm._s(_vm.$t(\"logos.packager_code\")))]),_c('option',{attrs:{\"value\":\"packaging\"}},[_vm._v(_vm._s(_vm.$t(\"logos.packaging\")))]),_c('option',{attrs:{\"value\":\"qr_code\"}},[_vm._v(_vm._s(_vm.$t(\"logos.qr_code\")))]),_c('option',{attrs:{\"value\":\"category\"}},[_vm._v(_vm._s(_vm.$t(\"logos.category\")))]),_c('option',{attrs:{\"value\":\"nutrition_label\"}},[_vm._v(_vm._s(_vm.$t(\"logos.nutrition_label\")))]),_c('option',{attrs:{\"value\":\"store\"}},[_vm._v(_vm._s(_vm.$t(\"logos.store\")))])])]),_c('div',{staticClass:\"field\"},[_c('LoadingSpinner',{attrs:{\"size\":'medium',\"centered\":false,\"show\":_vm.logos.length > 0 && _vm.loading}}),(!_vm.loading)?_c('button',{staticClass:\"ui button primary\",class:{ disabled: !_vm.isValidAnnotation },attrs:{\"type\":\"submit\",\"tabindex\":\"0\"}},[_vm._v(_vm._s(_vm.$t(\"logos.submit\")))]):_vm._e()],1)])]),_c('div',{staticClass:\"ui divider hidden\"}),(_vm.logos.length > 0)?_c('div',[_c('div',[_c('p',[_c('span',{staticClass:\"borderless-button\",on:{\"click\":function($event){return _vm.selectLogos(true)}}},[_vm._v(_vm._s(_vm.$t(\"logos.select_all\")))]),_vm._v(\" / \"),_c('span',{staticClass:\"borderless-button\",on:{\"click\":function($event){return _vm.selectLogos(false)}}},[_vm._v(_vm._s(_vm.$t(\"logos.unselect_all\")))])])]),_c('div',{staticClass:\"ui divider hidden\"}),(_vm.selectedLogos.length > 0)?_c('LogoCardGrid',{attrs:{\"logos\":_vm.selectedLogos},on:{\"toggle-select-logo\":_vm.toggleSelectLogo}}):_vm._e(),(_vm.unselectedLogos.length > 0)?_c('LogoCardGrid',{attrs:{\"logos\":_vm.unselectedLogos},on:{\"toggle-select-logo\":_vm.toggleSelectLogo}}):_vm._e()],1):_vm._e()]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"ui container\">\n    <h2>{{$t(\"logos.annotations\")}}</h2>\n    <LoadingSpinner :show=\"logos.length== 0 && loading\" />\n    <div v-if=\"logos.length > 0\">\n      <form class=\"ui form\" v-on:submit.prevent=\"sendAnnotations\">\n        <div class=\"three fields\">\n          <div class=\"field\">\n            <input type=\"text\" name=\"value\" :placeholder=\"$t('logos.value')\" v-model.trim=\"valueInput\" />\n          </div>\n          <div class=\"field\">\n            <select class=\"ui fluid dropdown\" v-model=\"typeInput\">\n              <option value>{{$t(\"logos.type\")}}</option>\n              <option value=\"label\">{{$t(\"logos.label\")}}</option>\n              <option value=\"brand\">{{$t(\"logos.brand\")}}</option>\n              <option value=\"packager_code\">{{$t(\"logos.packager_code\")}}</option>\n              <option value=\"packaging\">{{$t(\"logos.packaging\")}}</option>\n              <option value=\"qr_code\">{{$t(\"logos.qr_code\")}}</option>\n              <option value=\"category\">{{$t(\"logos.category\")}}</option>\n              <option value=\"nutrition_label\">{{$t(\"logos.nutrition_label\")}}</option>\n              <option value=\"store\">{{$t(\"logos.store\")}}</option>\n            </select>\n          </div>\n          <div class=\"field\">\n            <LoadingSpinner :size=\"'medium'\" :centered=\"false\" :show=\"logos.length > 0 && loading\" />\n            <button\n              v-if=\"!loading\"\n              type=\"submit\"\n              class=\"ui button primary\"\n              tabindex=\"0\"\n              :class=\"{ disabled: !isValidAnnotation }\"\n            >{{$t(\"logos.submit\")}}</button>\n          </div>\n        </div>\n      </form>\n      <div class=\"ui divider hidden\" />\n      <div v-if=\"logos.length > 0\">\n        <div>\n          <p>\n            <span @click=\"selectLogos(true)\" class=\"borderless-button\">{{$t(\"logos.select_all\")}}</span> /\n            <span @click=\"selectLogos(false)\" class=\"borderless-button\">{{$t(\"logos.unselect_all\")}}</span>\n          </p>\n        </div>\n        <div class=\"ui divider hidden\" />\n        <LogoCardGrid\n          v-if=\"selectedLogos.length > 0\"\n          :logos=\"selectedLogos\"\n          v-on:toggle-select-logo=\"toggleSelectLogo\"\n        />\n        <LogoCardGrid\n          :logos=\"unselectedLogos\"\n          v-on:toggle-select-logo=\"toggleSelectLogo\"\n          v-if=\"unselectedLogos.length > 0\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport robotoffService from \"../robotoff\";\nimport offService from \"../off\";\nimport LogoCardGrid from \"../components/LogoCardGrid\";\nimport { getURLParam } from \"../utils\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\n\n\nconst transformLogo = logo => {\n  logo.image.url = robotoffService.getCroppedImageUrl(\n    offService.getImageUrl(logo.image.source_image), logo.bounding_box\n  )\n  logo.selected = false;\n  return logo;\n};\n\nconst getAnnCount = defaultValue => {\n  const count = getURLParam(\"count\");\n  if (count.length == 0) return defaultValue;\n  return parseInt(count, 10) || defaultValue;\n};\n\nexport default {\n  name: \"InsightListView\",\n  components: { LogoCardGrid , LoadingSpinner },\n  data: function() {\n    return {\n      logos: [],\n      noLogoAvailable: false,\n      valueInput: \"\",\n      typeInput: \"\",\n      targetLogoId: getURLParam(\"logo_id\"),\n      annCount: getAnnCount(100),\n      loading: false\n    };\n  },\n  computed: {\n    isValidAnnotation: function() {\n      if (this.logos.length === 0) return false;\n      if (this.typeInput.length === 0) return false;\n      if (this.selectedLogos.length === 0) return false;\n      if (\n        this.valueInput.length === 0 &&\n        [\"label\", \"brand\", \"category\", \"store\"].includes(this.typeInput)\n      )\n        return false;\n      return true;\n    },\n    selectedLogos: function() {\n      return this.logos.filter(l => l.selected === true);\n    },\n    unselectedLogos: function() {\n      return this.logos.filter(l => l.selected === false);\n    }\n  },\n  methods: {\n    loadLogos: function() {\n      this.loading = true;\n      robotoffService\n        .getLogoAnnotations(this.targetLogoId, getURLParam(\"index\"), this.annCount)\n        .then(({ data }) => {\n          const results = data.results;\n          robotoffService\n            .getLogosImages(results.map(r => r.logo_id))\n            .then(response => {\n              this.loading = false;\n              const logoData = response.data.logos;\n              this.logos = results\n                .map(r => ({\n                  distance: r.distance,\n                  ...logoData.filter(l => l.id == r.logo_id)[0]\n                }))\n                .map(transformLogo);\n            })\n            .catch(() => {\n              this.loading = false;\n            })\n        })\n        .catch (() => {\n          this.loading = false;\n        })\n    },\n    toggleSelectLogo: function(logo) {\n      const logoId = logo.id;\n      const l = this.logos.filter(logo => logo.id === logoId)[0];\n      l.selected = !l.selected;\n    },\n    sendAnnotations: function() {\n      let value = this.valueInput.toLowerCase();\n\n      if (this.typeInput === \"packager_code\" || this.typeInput === \"qr_code\") {\n        value = \"\";\n      }\n      const annotations = this.selectedLogos.map(logo => ({\n        logo_id: logo.id,\n        value: value,\n        type: this.typeInput\n      }))\n      this.loading = true;\n      robotoffService\n        .annotateLogos(annotations)\n        .then(() => {\n          this.loading = false;\n          this.targetLogoId = \"\";\n          this.loadLogos();\n        })\n        .catch(() => {\n          this.loading = false;\n        })\n      this.valueInput = \"\";\n      this.typeInput = \"\";\n    },\n    selectLogos: function(select) {\n      this.logos.forEach(logo => {\n        if (logo.annotation_value) return;\n        logo.selected = select;\n      });\n    }\n  },\n  mounted() {\n    this.loadLogos();\n  }\n};\n</script>\n\n<style scoped>\n.borderless-button {\n  color: #2185d0;\n  cursor: pointer;\n}\n\n.borderless-button:hover {\n  text-decoration: underline;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogoAnnotationView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogoAnnotationView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LogoAnnotationView.vue?vue&type=template&id=2b92e4f2&scoped=true&\"\nimport script from \"./LogoAnnotationView.vue?vue&type=script&lang=js&\"\nexport * from \"./LogoAnnotationView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LogoAnnotationView.vue?vue&type=style&index=0&id=2b92e4f2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b92e4f2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ui container\"},[_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t(\"logos.detail\")))]),_c('p',[_vm._v(_vm._s(_vm.$t(\"logos.id\"))+\" \"+_vm._s(_vm.logoId))]),_c('p',[_vm._v(_vm._s(_vm.$t(\"logos.barcode\"))+\" \"+_vm._s(_vm.barcode))]),_c('p',[_c('a',{attrs:{\"href\":_vm.imageURL}},[_vm._v(_vm._s(_vm.$t(\"logos.full_image\")))])]),_c('img',{attrs:{\"width\":\"300px\",\"src\":_vm.cropURL}}),_c('div',{staticClass:\"ui divider\"}),_c('form',{staticClass:\"ui form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.updateLogo.apply(null, arguments)}}},[_c('div',{staticClass:\"three fields\"},[_c('div',{staticClass:\"field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.annotationValue),expression:\"annotationValue\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"name\":\"value\",\"placeholder\":_vm.$t('logos.value')},domProps:{\"value\":(_vm.annotationValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.annotationValue=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"field\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.annotationType),expression:\"annotationType\"}],staticClass:\"ui fluid dropdown\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.annotationType=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(_vm._s(_vm.$t(\"logos.type\")))]),_c('option',{attrs:{\"value\":\"label\"}},[_vm._v(_vm._s(_vm.$t(\"logos.label\")))]),_c('option',{attrs:{\"value\":\"brand\"}},[_vm._v(_vm._s(_vm.$t(\"logos.brand\")))]),_c('option',{attrs:{\"value\":\"packager_code\"}},[_vm._v(_vm._s(_vm.$t(\"logos.packager_code\")))]),_c('option',{attrs:{\"value\":\"packaging\"}},[_vm._v(_vm._s(_vm.$t(\"logos.packaging\")))]),_c('option',{attrs:{\"value\":\"qr_code\"}},[_vm._v(_vm._s(_vm.$t(\"logos.qr_code\")))]),_c('option',{attrs:{\"value\":\"category\"}},[_vm._v(_vm._s(_vm.$t(\"logos.category\")))]),_c('option',{attrs:{\"value\":\"nutrition_label\"}},[_vm._v(_vm._s(_vm.$t(\"logos.nutrition_label\")))]),_c('option',{attrs:{\"value\":\"store\"}},[_vm._v(_vm._s(_vm.$t(\"logos.store\")))])])]),_c('div',{staticClass:\"field\"},[_c('LoadingSpinner',{attrs:{\"size\":'medium',\"centered\":false,\"show\":_vm.loading}}),(!_vm.loading)?_c('button',{staticClass:\"ui button primary\",attrs:{\"type\":\"submit\",\"tabindex\":\"0\"}},[_vm._v(_vm._s(_vm.$t(\"logos.update\")))]):_vm._e()],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"ui container\">\n    <div>\n      <h2>{{$t(\"logos.detail\")}}</h2>\n      <p>{{$t(\"logos.id\")}} {{ logoId }}</p>\n      <p>{{$t(\"logos.barcode\")}} {{ barcode }}</p>\n      <p>\n        <a :href=\"imageURL\">{{$t(\"logos.full_image\")}}</a>\n      </p>\n      <img width=\"300px\" :src=\"cropURL\" />\n      <div class=\"ui divider\" />\n      <form class=\"ui form\" v-on:submit.prevent=\"updateLogo\">\n        <div class=\"three fields\">\n          <div class=\"field\">\n            <input type=\"text\" name=\"value\" :placeholder=\"$t('logos.value')\" v-model.trim=\"annotationValue\" />\n          </div>\n          <div class=\"field\">\n            <select class=\"ui fluid dropdown\" v-model=\"annotationType\">\n              <option value>{{$t(\"logos.type\")}}</option>\n              <option value=\"label\">{{$t(\"logos.label\")}}</option>\n              <option value=\"brand\">{{$t(\"logos.brand\")}}</option>\n              <option value=\"packager_code\">{{$t(\"logos.packager_code\")}}</option>\n              <option value=\"packaging\">{{$t(\"logos.packaging\")}}</option>\n              <option value=\"qr_code\">{{$t(\"logos.qr_code\")}}</option>\n              <option value=\"category\">{{$t(\"logos.category\")}}</option>\n              <option value=\"nutrition_label\">{{$t(\"logos.nutrition_label\")}}</option>\n              <option value=\"store\">{{$t(\"logos.store\")}}</option>\n            </select>\n          </div>\n          <div class=\"field\">\n            <LoadingSpinner :size=\"'medium'\" :centered=\"false\" :show=\"loading\" />\n            <button v-if=\"!loading\" type=\"submit\" class=\"ui button primary\" tabindex=\"0\">{{$t(\"logos.update\")}}</button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport LoadingSpinner from \"../components/LoadingSpinner\";\nimport robotoffService from \"../robotoff\";\nimport offService from \"../off\";\n\nconst getImageURL = logo => offService.getImageUrl(logo.image.source_image);\n\nconst getCropURL = logo => {\n  return robotoffService.getCroppedImageUrl(\n    getImageURL(logo), logo.bounding_box\n  )\n};\n\nexport default {\n  name: \"InsightListView\",\n  components: {LoadingSpinner},\n  data: function() {\n    return {\n      annotationValue: \"\",\n      annotationType: \"\",\n      imageURL: \"\",\n      cropURL: \"\",\n      barcode: \"\",\n      loading: false\n    };\n  },\n  computed: {\n    logoId: function() {\n      return this.$route.params.id;\n    }\n  },\n  methods: {\n    loadLogo: function() {\n      this.loading = true;\n      robotoffService\n        .loadLogo(this.logoId)\n        .then(({ data }) => {\n          this.imageURL = getImageURL(data);\n          this.cropURL = getCropURL(data);\n          this.annotationValue = data.annotation_value;\n          this.annotationType = data.annotation_type;\n          this.barcode = data.image.barcode;\n          this.loading = false;\n        })\n        .catch(() => {\n          this.loading = false;\n        })\n    },\n    updateLogo: function() {\n      if (this.annotationType.length == 0) return;\n      let value = this.annotationValue.toLowerCase();\n      if (\n        this.annotationType === \"packager_code\" ||\n        this.annotationType === \"qr_code\"\n      ) {\n        value = \"\";\n      }\n      this.loading = true;\n      robotoffService\n        .updateLogo(this.logoId, value, this.annotationType)\n        .then(() => {\n          this.loading = false;\n          window.console.log(\"Updated!\");\n        })\n        .catch(() => {\n          this.loading = false;\n        })\n    }\n  },\n  mounted() {\n    this.loadLogo();\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogoUpdateView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogoUpdateView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LogoUpdateView.vue?vue&type=template&id=1cc33b8e&\"\nimport script from \"./LogoUpdateView.vue?vue&type=script&lang=js&\"\nexport * from \"./LogoUpdateView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport VueI18n from 'vue-i18n'\nimport Viewer from 'v-viewer'\nimport './semantic-ui-utils/main.css'\nimport App from './App.vue'\nimport QuestionView from './views/QuestionView.vue'\nimport NutritionView from './views/NutritionView.vue'\nimport TableAnnotation from './views/TableAnnotation.vue'\nimport SettingsView from './views/SettingsView.vue'\nimport InsightListView from './views/InsightListView.vue'\nimport LogoSearchView from './views/LogoSearchView.vue'\nimport LogoAnnotationView from './views/LogoAnnotationView.vue'\nimport LogoUpdateView from './views/LogoUpdateView.vue'\nimport 'viewerjs/dist/viewer.css'\nimport SuiVue from 'semantic-ui-vue'\nimport messages from './i18n/messages'\nimport { getLang } from \"./settings\";\n\nVue.use(SuiVue)\nVue.use(VueRouter)\nVue.use(Viewer)\nVue.use(VueI18n)\nVue.config.productionTip = false\n\n\nconst routes = [\n  { path: '/', redirect: '/questions' },\n  { path: '/insights', component: InsightListView },\n  { path: '/questions', component: QuestionView },\n  { path: '/nutritions', component: NutritionView },\n  { path: '/table', component: TableAnnotation },\n  { path: '/settings', component: SettingsView },\n  { path: '/logos', component: LogoAnnotationView },\n  { path: '/logos/search', component: LogoSearchView },\n  { path: '/logos/:id', component: LogoUpdateView },\n];\n\nconst router = new VueRouter({\n  mode: 'history',\n  routes,\n});\n\n\nconst i18n = new VueI18n({\n  locale: getLang(),\n  messages,\n  fallbackLocale: 'en'\n})\n\nnew Vue({\n  router,\n  i18n,\n  render: h => h(App)\n}).$mount('#app')\n","module.exports = __webpack_public_path__ + \"img/questionsScreenshot.6522c541.png\";","module.exports = __webpack_public_path__ + \"img/logoNameLabel.b6c61dca.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingSpinner.vue?vue&type=style&index=0&id=66aae622&scoped=true&lang=css&\"","var map = {\n\t\"./logo.png\": \"cf05\",\n\t\"./logoGeneral.png\": \"9228\",\n\t\"./logoNameLabel.png\": \"830b\",\n\t\"./memLogo.png\": \"9d5d\",\n\t\"./questionsScreenshot.png\": \"6192\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"9142\";","module.exports = __webpack_public_path__ + \"img/logoGeneral.6d043eae.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableAnnotation.vue?vue&type=style&index=0&id=6d01ef04&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogoSearchView.vue?vue&type=style&index=0&id=ade22f58&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/memLogo.7d2de489.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=style&index=0&id=4e54b946&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=style&index=0&id=a19543bc&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsightListView.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=5dc6acac&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/logo.6c31b90b.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogoCardGrid.vue?vue&type=style&index=0&id=7a63dea9&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Helper.vue?vue&type=style&index=0&id=3f3556f8&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionView.vue?vue&type=style&index=0&id=e6c84cb0&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=style&index=0&id=592dbe0e&scoped=true&lang=css&\""],"sourceRoot":""}