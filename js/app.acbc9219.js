(function(e){function t(t){for(var a,s,r=t[0],l=t[1],u=t[2],d=0,g=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&g.push(o[s][0]),o[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);c&&c(t);while(g.length)g.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,r=1;r<n.length;r++){var l=n[r];0!==o[l]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},o={app:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/undefined/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var c=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"06b7":function(e){e.exports=JSON.parse('{"questions":{"category":"categoria","label":"etichetta","brand":"marca","brands":"Marche","ingredients":"Ingredienti","product_weight":"peso del prodotto","popularity_sort":"Ordina per popolarità","no":"No","skip":"Salta","yes":"Sì","no_questions_remaining":"Nessuna domanda rimanente","countries":"Paesi","view":"Mostra","edit":"Modifica","value_search":"Valore (fanta, en:organic,...)","hide_images":"Nascondi immagini (caricamento più veloce)","display_images":"Mostra immagini","annotations":"Annotazioni","last_annotations":"Ultime annotazioni","remaining_annotations":"Rimanente:","annotated_annotations":"Annotato"},"menu":{"games":"Giochi","questions":"Domande","logos":"Loghi","manage":"Gestisci","insights":"Approfondimenti","nutritions":"Valori nutrizionali","settings":"@:settings.settings"},"insights":{"insights":"Approfondimenti","barcode":"Codice a Barre","barcode_placeholder":"codice a barre","value_tag":"Etichetta valore","value_placeholder":"ex: en:muesli, bjorg,...","type":"Tipo","annotated":"Annotato","annotation":"Annotazione","not_annotated":"Non annotato","all":"Tutti","label":"Etichetta","product_weight":"Peso del prodotto","category":"Categoria","expiration_date":"Fine effetto","packager_code":"Codice Packager","skipped":"Saltato (-1)","rejected":"Rifiutato (0)","accepted":"Accettato (1)","search":"Cerca","count":"Quantità","id":"Id","value":"Valore","created_at":"Creato con","completed_at":"Completato a","automatic":"Automatico"},"logos":{"annotation":"Annotazione: ","annotations":"Annotazioni logo","select_all":"Seleziona tutto","unselect_all":"Deseleziona tutto","distance":"Distanza:","value":"Valore","submit":"Invia","type":"Tipo","label":"Etichetta","brand":"Marche","packager_code":"Codice Packager","packaging":"Confezionamento","qr_code":"Codice QR","category":"Categoria","nutrition_label":"Etichetta nutrizionale","store":"Negozio","detail":"Dettaglio logo","id":"ID logo:","barcode":"Codice a barre:","full_image":"Immagine intera","update":"Aggiorna","no_found":"Nessun logo trovato","search":"Cerca","number_of_results":"Numero di risultati:"},"settings":{"settings":"Impostazioni","language":"Lingua","save":"Salva"}}')},"10ef":function(e,t,n){},1152:function(e,t,n){},"19ff":function(e,t,n){},"1d5a":function(e,t,n){},"1e1a":function(e,t,n){},"1f91":function(e,t,n){"use strict";n("28cf")},2394:function(e){e.exports=JSON.parse('{"questions":{"category":"catégorie","label":"label","brand":"marque","brands":"Marques","ingredients":"Ingrédients","product_weight":"poids du produit","popularity_sort":"Trier par popularité","no":"Non","skip":"Ignorer","yes":"Oui","no_questions_remaining":"Plus de questions","countries":"Pays","view":"Voir","edit":"Modifier","value_search":"Valeur (fanta, en:organic, ...)","hide_images":"Masquer les images (chargement plus rapide)","display_images":"Afficher les images","annotations":"Annotations","last_annotations":"Dernière annotations","remaining_annotations":"Restant :","annotated_annotations":"Annoté"},"menu":{"games":"Jeux","questions":"Questions","logos":"Logos","manage":"Gérer","insights":"Aperçu","nutritions":"Tableau nutritionnel","settings":"@:settings.settings"},"insights":{"insights":"Aperçu","barcode":"Code-barres","barcode_placeholder":"code-barres","value_tag":"Étiquette de valeur","value_placeholder":"ex: en:mueslis, bjorg, ...","type":"Type","annotated":"Annoté","annotation":"Annotation","not_annotated":"Non annoté","all":"Tout","label":"Etiquette","product_weight":"Poids du produit","category":"Catégorie","expiration_date":"Date d\'expiration ","packager_code":"Code emballeur","skipped":"Ignoré (-1)","rejected":"Rejeté (0)","accepted":"Accepté (1)","search":"Rechercher","count":"Compter","id":"Id","value":"Valeur","created_at":"Créé à","completed_at":"Complétée à","automatic":"Automatique"},"logos":{"annotation":"Annotation : ","annotations":"Annotations de logo","select_all":"Tout sélectionner","unselect_all":"Tout désélectionner","distance":"Distance :","value":"Valeur","submit":"Envoyer","type":"Type","label":"Etiquette","brand":"Marque","packager_code":"Code emballeur","packaging":"Conditionnement","qr_code":"Code QR","category":"Catégorie","nutrition_label":"Étiquette nutritionnelle","store":"Magasin","detail":"Détail du logo","id":"ID du logo:","barcode":"Code-barres :","full_image":"Image complète","update":"Mise à jour","no_found":"Aucun logo trouvé","search":"Rechercher","number_of_results":"Nombre de résultats :"},"settings":{"settings":"Paramètres","language":"Langue","save":"Enregistrer"}}')},2508:function(e){e.exports=JSON.parse('{"questions":{"category":"Kategorie","label":"Etikett","brand":"Marke","brands":"Marken","ingredients":"Zutaten","product_weight":"Produktgewicht","popularity_sort":"Nach Beliebtheit sortieren","no":"Nein","skip":"Überspringen","yes":"Ja","no_questions_remaining":"Keine offenen Fragen","countries":"Länder","view":"Anzeigen","edit":"Bearbeiten","value_search":"Wert (Fanta, de: Bio,...)","hide_images":"Abbildungen ausblenden (für schnelleres Laden)","display_images":"Abbildungen anzeigen","annotations":"Anmerkungen","last_annotations":"Neueste Anmerkungen","remaining_annotations":"Verbleibend:","annotated_annotations":"Kommentiert"},"menu":{"games":"Spiele","questions":"Fragen","logos":"Logos","manage":"Verwalten","insights":"Erkenntnisse","nutritions":"Nährwertangaben","settings":"@:settings.settings"},"insights":{"insights":"Erkenntnisse","barcode":"Strichcode","barcode_placeholder":"Strichcode","value_tag":"Wert-Kennzeichen","value_placeholder":"Bsp.: de:Müsli, Bjorg,...","type":"Art","annotated":"Kommentiert","annotation":"Anmerkung","not_annotated":"Nicht kommentiert","all":"Alle","label":"Kennzeichnung","product_weight":"Produktgewicht","category":"Kategorie","expiration_date":"Verfalldatum","packager_code":"Identitätskennzeichen","skipped":"Übersprungen (-1)","rejected":"Abgelehnt (0)","accepted":"Angenommen (1)","search":"Suchen","count":"Anzahl","id":"ID","value":"Wert","created_at":"Erstellt am","completed_at":"Abgeschlossen am","automatic":"Automatisch"},"logos":{"annotation":"Anmerkung: ","annotations":"Anmerkungen zum Logo","select_all":"Alles auswählen","unselect_all":"Alle abwählen","distance":"Entfernung:","value":"Wert","submit":"Senden","type":"Art","label":"Kennzeichnung","brand":"Marke","packager_code":"Identitätskennzeichen","packaging":"Art der Verpackung","qr_code":"QR-Code","category":"Kategorie","nutrition_label":"Nährwert-Etikett","store":"Laden","detail":"Detail des Logos","id":"Logo-ID:","barcode":"Strichcode:","full_image":"Vollständige Abbildung","update":"Aktualisieren","no_found":"Keine Logo gefunden","search":"Suchen","number_of_results":"Anzahl:"},"settings":{"settings":"Einstellungen","language":"Sprache","save":"Speichern"}}')},"28cf":function(e,t,n){},"2ee5":function(e,t,n){},3992:function(e,t,n){"use strict";n("b0b0")},"45ff":function(e,t,n){},"49e4":function(e,t,n){},"4a93":function(e,t,n){"use strict";n("5238")},5238:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=n("8c4f"),i=n("a925"),s=n("6944"),r=n.n(s),l=(n("1152"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Menu"),n("sui-segment",{attrs:{attached:"bottom"}},[n("router-view")],1)],1)}),u=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sui-menu",{attrs:{attached:"top"}},[a("sui-dropdown",{staticClass:"mobile only",attrs:{item:"",icon:"bars",simple:""}},[a("sui-dropdown-menu",[e._l(e.menu,(function(t){return[t.to?e._e():a("sui-dropdown-header",{key:t.label},[e._v(" "+e._s(t.label)+" ")]),t.label?e._e():a("sui-dropdown-divider",{key:t.label}),t.to?a("router-link",{key:t.label,staticClass:"item",attrs:{"active-class":"active",to:t.to}},[e._v(" "+e._s(t.label)+" ")]):e._e()]}))],2)],1),a("sui-menu-item",{staticClass:"item mobile hidden"},[a("img",{attrs:{src:n("cf05")}})]),e._l(e.menuItems,(function(t){return a("router-link",{key:t.to,staticClass:"item mobile hidden",attrs:{"active-class":"active",to:t.to}},[e._v(" "+e._s(t.label)+" ")])})),a("sui-menu-menu",{attrs:{position:"right"}},[a("sui-menu-item",{staticClass:"helpButton",on:{click:e.openHelper}},[a("sui-icon",{attrs:{name:"help"}})],1)],1),a("Helper",{attrs:{open:e.helperIsOpen},on:{"close-helper":e.closeHelper}})],2)},d=[],g=(n("4de4"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("ac1f"),n("841c"),n("1276"),"hunger-game-settings"),h={fetch:function(){return JSON.parse(localStorage.getItem(g)||"{}")},save:function(e){localStorage.setItem(g,JSON.stringify(e))},update:function(e,t){var n=this.fetch();n[e]=t,this.save(n)}},p=function(){var e=h.fetch(),t=new URLSearchParams(window.location.search),n=t.has("language")&&t.get("language");return n||e.lang||(navigator.language||navigator.userLanguage).split("-")[0]},m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("sui-modal",{attrs:{open:e.open},on:{changed:e.close}},[n("sui-modal-header",[e._v(" "+e._s(e.$t("helper.title"))+" ")]),n("sui-modal-content",{attrs:{image:""}},[n("sui-image",{attrs:{wrapped:"",size:e.helpInformations[e.pageKey].imageSize||"medium",src:e.helpInformations[e.pageKey].imgUrl}}),n("sui-modal-description",[n("sui-header",[e._v(e._s(e.helpInformations[e.pageKey].title))]),e._l(e.helpInformations[e.pageKey].texts,(function(t,a){return n("p",{key:a,staticClass:"explanationText"},[e._v(" "+e._s(t)+" ")])}))],2)],1),n("sui-segment",{attrs:{aligned:"right"}},[n("sui-progress",{attrs:{attached:"",top:"",percent:e.pageRatio,color:"green"}}),e.pageIndex>0?n("sui-button",{nativeOn:{click:function(t){return e.prev.apply(null,arguments)}}},[e._v(" "+e._s(e.$t("helper.previous"))+" ")]):e._e(),Object.keys(e.helpInformations).length>e.pageIndex+1?n("sui-button",{attrs:{primary:""},nativeOn:{click:function(t){return e.next.apply(null,arguments)}}},[e._v(" "+e._s(e.$t("helper.next"))+" ")]):n("sui-button",{attrs:{positive:""},nativeOn:{click:function(t){return e.close.apply(null,arguments)}}},[e._v(" "+e._s(e.$t("helper.close"))+" ")])],1)],1)],1)},b=[],f=n("5530"),v=n("15fd"),C=(n("159b"),n("b64b"),n("fb6a"),{welcome:{page1:{},page2:{image:"questionsScreenshot.png",imageSize:"huge"},page3:{image:"logoGeneral.png",imageSize:"huge"}},logos:{page1:{image:"logoGeneral.png"},page2:{image:"memLogo.png"},page3:{image:"logoNameLabel.png",imageSize:"large"}}}),y=n("9142"),_=function(e){return y("./"+(e||"logo.png"))};Object.keys(C).forEach((function(e){Object.keys(C[e]).forEach((function(t){C[e][t].imgUrl=_(C[e][t].image||null)}))}));var k=function(e,t){var n=e.slice(1);console.debug(t),n in t||(n="welcome");var a=t[n],o={};return Object.keys(a).forEach((function(e){var t=a[e],i=t.title,s=Object(v["a"])(t,["title"]);o[e]=Object(f["a"])({title:i,texts:Object(f["a"])({},s)},C[n]&&C[n][e]?C[n][e]:{})})),console.debug(o),o},x={name:"IntroductionView",props:{open:Boolean},data:function(){return console.log(this.$t("helper")),{pageIndex:0,helpInformations:k(this.$router.history.current.path,this.$t("helper"))}},watch:{$route:function(){this.helpInformations=k(this.$router.history.current.path,this.$t("helper")),this.pageIndex=0}},computed:{pageRatio:function(){return 1===Object.keys(this.helpInformations).length?100:Math.floor(this.pageIndex/(Object.keys(this.helpInformations).length-1)*100)},pageKey:function(){return"page".concat(this.pageIndex+1)}},methods:{close:function(){this.$emit("close-helper")},prev:function(){this.pageIndex=Math.max(0,this.pageIndex-1)},next:function(){this.pageIndex=Math.min(Object.keys(this.helpInformations).length-1,this.pageIndex+1)}}},I=x,w=(n("e363"),n("2877")),S=Object(w["a"])(I,m,b,!1,null,"3f3556f8",null),L=S.exports,P=h.fetch();h.update("tuto-done",!0);var O={data:function(){return{menu:[{label:this.$t("menu.games")},{label:this.$t("menu.questions"),to:"/questions"},{label:this.$t("menu.logos"),to:"/logos"},{},{label:this.$t("menu.manage"),type:"header"},{label:this.$t("menu.insights"),to:"/insights"},{label:this.$t("menu.settings"),to:"/settings"}],helperIsOpen:!P["tuto-done"]}},components:{Helper:L},computed:{menuItems:function(){return this.menu.filter((function(e){return e.to}))}},methods:{closeHelper:function(){this.helperIsOpen=!1},openHelper:function(){this.helperIsOpen=!0}}},A=O,j=(n("a563"),Object(w["a"])(A,c,d,!1,null,"a19543bc",null)),$=j.exports,T={name:"app",components:{Menu:$},data:function(){return{}}},R=T,N=(n("b329"),Object(w["a"])(R,l,u,!1,null,"5dc6acac",null)),q=N.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui grid stackable"},[n("div",{staticClass:"five wide column centered"},[n("div",{staticClass:"insight-column"},[e._l(e.availableInsightTypes,(function(t){return n("div",{key:t,staticClass:"tag",class:{selected:t===e.selectedInsightType},on:{click:function(n){return e.selectInsightType(t)}}},[e._v(" "+e._s(e.$t("questions."+t))+" ")])})),n("div",{staticClass:"ui form"},[n("div",{staticClass:"ui icon input",attrs:{id:"value-tag-input"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.valueTagInput,expression:"valueTagInput"}],staticClass:"ui input",attrs:{placeholder:e.$t("questions.value_search")},domProps:{value:e.valueTagInput},on:{input:function(t){t.target.composing||(e.valueTagInput=t.target.value)}}}),e.valueTagInput?n("i",{staticClass:"times link icon",on:{click:function(t){return e.clearValueTagInput()}}}):e._e()]),n("div",{staticClass:"ui toggle checkbox",staticStyle:{"margin-top":"0.5rem"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.sortByPopularity,expression:"sortByPopularity"}],attrs:{type:"checkbox",name:"sortBy"},domProps:{checked:Array.isArray(e.sortByPopularity)?e._i(e.sortByPopularity,null)>-1:e.sortByPopularity},on:{change:function(t){var n=e.sortByPopularity,a=t.target,o=!!a.checked;if(Array.isArray(n)){var i=null,s=e._i(n,i);a.checked?s<0&&(e.sortByPopularity=n.concat([i])):s>-1&&(e.sortByPopularity=n.slice(0,s).concat(n.slice(s+1)))}else e.sortByPopularity=o}}}),n("label",[e._v(e._s(e.$t("questions.popularity_sort")))])])]),n("div",{staticClass:"ui divider"}),n("div",{staticClass:"ui hidden divider"}),e.currentQuestion?n("div",[n("h3",[e._v(e._s(e.currentQuestion.question))]),e.valueTagQuestionsURL.length?n("div",[n("router-link",{attrs:{to:e.valueTagQuestionsURL,target:"_blank"}},[n("div",{staticClass:"ui big label"},[e._v(" "+e._s(e.currentQuestion.value)+" "),n("i",{staticClass:"external alternate icon small blue",staticStyle:{"margin-left":"0.5rem"}})])])],1):n("div",[n("div",{staticClass:"ui big label"},[e._v(e._s(e.currentQuestion.value))])]),n("div",{staticClass:"ui divider hidden"}),n("viewer",{staticStyle:{height:"300px"},attrs:{options:e.imageZoomOptions}},[n("img",{class:[e.imageRotationClassName],staticStyle:{"max-height":"300px","max-width":"300px"},attrs:{src:e.currentQuestionImageUrl}})]),n("div",{staticClass:"ui divider hidden"}),n("div",[n("button",{staticClass:"ui big negative button annotate",attrs:{"data-inverted":"","data-tooltip":"Shortcut: N"},on:{click:function(t){return e.annotate(0)}}},[n("i",{staticClass:"trash icon"}),e._v(" "+e._s(e.$t("questions.no"))+" ")]),n("button",{staticClass:"ui big button annotate",attrs:{"data-inverted":"","data-tooltip":"Shortcut: K"},on:{click:function(t){return e.annotate(-1)}}},[n("i",{staticClass:"question icon"}),e._v(" "+e._s(e.$t("questions.skip"))+" ")]),n("button",{staticClass:"ui big positive button annotate",attrs:{"data-inverted":"","data-tooltip":"Shortcut: O"},on:{click:function(t){return e.annotate(1)}}},[n("i",{staticClass:"check icon"}),e._v(" "+e._s(e.$t("questions.yes"))+" ")])])],1):n("div",{staticClass:"flex-center",staticStyle:{"margin-top":"100px"}},[n("LoadingSpinner",{attrs:{show:e.loading}}),e.noRemainingQuestion?n("div",[n("h2",[e._v(e._s(e.$t("questions.no_questions_remaining")))])]):e._e()],1)],2)]),n("div",{staticClass:"six wide column centered"},[n("Product",{attrs:{barcode:e.currentQuestionBarcode}})],1),n("div",{staticClass:"three wide column annotation-column"},[n("AnnotationCounter",{attrs:{remainingCount:e.remainingQuestionCount,lastAnnotations:e.lastAnnotations,sessionAnnotatedCount:e.sessionAnnotatedCount}})],1)])},D=[],B=n("3835"),z=(n("25f0"),n("498a"),n("4fad"),n("5319"),n("4d63"),n("6062"),n("caad"),n("2532"),n("99af"),n("a15b"),n("bc3a")),M=n.n(z),G="https://robotoff.openfoodfacts.org/api/v1",U="https://world.openfoodfacts.org",Q="".concat(U,"/api/v0"),V="https://static.openfoodfacts.org/images/products",F=function(e){var t=new URLSearchParams(window.location.search);return t.has(e)?t.get(e):""},K=function(e){return Object.keys(e).forEach((function(t){return(void 0===e[t]||""===e[t])&&delete e[t]})),e},H={annotate:function(e,t){return M.a.post("".concat(G,"/insights/annotate"),new URLSearchParams("insight_id=".concat(e,"&annotation=").concat(t,"&update=1")),{withCredentials:!0})},questions:function(e,t,n,a,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:10,s=p();return M.a.get("".concat(G,"/questions/").concat(e),{params:K({count:i,lang:s,insight_types:t,value_tag:n,brands:a,country:o})}).then((function(e){var t=e.data.questions;return e.data.questions=t.filter((function(e){return e.source_image_url})),e}))},loadLogo:function(e){return M.a.get("".concat(G,"/images/logos/").concat(e))},updateLogo:function(e,t,n){return M.a.put("".concat(G,"/images/logos/").concat(e),K({withCredentials:!0,value:t,type:n}))},searchLogos:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25;return M.a.get("".concat(G,"/images/logos"),{params:K({annotated:1,barcode:e,value:t,type:n,count:a})})},getLogoAnnotations:function(e,t,n){var a=e.length>0?"".concat(G,"/ann/").concat(e):"".concat(G,"/ann");return M.a.get(a,{params:K({index:t,count:n})})},annotateLogos:function(e){return M.a.post("".concat(G,"/images/logos/annotate"),K({withCredentials:!0,annotations:e}))},getInsights:function(e,t,n,a,o){var i,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:25;return a.length&&"not_annotated"==a&&(i="0"),M.a.get("".concat(G,"/insights"),{params:K({barcode:e,insight_types:t,value_tag:n,annotation:a,page:o,annotated:i,count:s})})},getUserStatistics:function(e){return M.a.get("".concat(G,"/users/statistics/").concat(e))},getCroppedImageUrl:function(e,t){var n=Object(B["a"])(t,4),a=n[0],o=n[1],i=n[2],s=n[3];return"".concat(G,"/images/crop?image_url=").concat(e,"&y_min=").concat(a,"&x_min=").concat(o,"&y_max=").concat(i,"&x_max=").concat(s)},getLogosImages:function(e){return M.a.get("".concat(G,"/images/logos?logo_ids=").concat(e.join(",")))}},J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loaded?n("div",{staticClass:"product-card"},[n("h3",[e._v(e._s(e.productName))]),n("a",{staticClass:"ui button primary",attrs:{target:"_blank",href:e.productUrl}},[e._v(e._s(e.$t("questions.view")))]),n("a",{staticClass:"ui button",attrs:{target:"_blank",href:e.productEditUrl}},[e._v(e._s(e.$t("questions.edit")))]),n("div",{staticClass:"ui divider"}),e.imagesPreview.length>0?n("div",[n("div",{staticClass:"ui basic segment"},[n("sui-checkbox",{model:{value:e.hideImage,callback:function(t){e.hideImage=t},expression:"hideImage"}},[e._v(" "+e._s(e.$t("questions.hide_images"))+" ")])],1),e.hideImage?e._e():n("viewer",{attrs:{images:e.imagesPreview,options:e.imageZoomOptions}},e._l(e.imagesPreview,(function(e){return n("img",{key:e,staticStyle:{"max-height":"200px","max-width":"200px","margin-right":"3px"},attrs:{src:e,loading:"lazy"}})})),0),n("div",{staticClass:"ui divider"})],1):e._e(),e.brands?n("p",[n("strong",[e._v(e._s(e.$t("questions.brands"))+" :")]),e._v(" "+e._s(e.brands)+" ")]):e._e(),e.ingredientsText?n("p",[n("strong",[e._v(e._s(e.$t("questions.ingredients"))+":")]),e._v(" "+e._s(e.ingredientsText)+" ")]):e._e(),e.countries?n("p",[n("strong",[e._v(e._s(e.$t("questions.countries"))+":")]),e._v(" "+e._s(e.countries)+" ")]):e._e()]):e._e()},W=[],Z=(n("d81d"),n("ff16")),Y=function(){var e={};return Z.forEach((function(t){e[t.id]=t.label})),e}(),X=(n("2ca0"),n("e683")),ee=n.n(X),te={getCookie:function(e){var t=document.cookie.split(";").filter((function(t){return t.trim().startsWith("".concat(e,"="))}));if(t.length){var n=t[0];return n.split("=",2)[1]}return""},getUsername:function(){var e=this.getCookie("session");if(!e.length)return"";var t=!1,n="";return e.split("&").forEach((function(e){"user_id"===e?t=!0:t&&(n=e,t=!1)})),n},getProduct:function(e){return M.a.get("".concat(Q,"/product/").concat(e,".json?fields=product_name,brands,ingredients_text,countries_tags,images"))},getProductUrl:function(e){var t=p();return"https://world".concat("en"===t?"":"-"+t,".openfoodfacts.org/product/").concat(e)},getProductEditUrl:function(e){var t=p();return"https://world".concat("en"===t?"":"-"+t,".openfoodfacts.org/cgi/product.pl?type=edit&code=").concat(e)},getImageUrl:function(e){return ee()(V,e)}},ne=/(...)(...)(...)(.*)$/,ae=function(e){var t=ne.exec(e);return null!==t?(t.shift(),t):[e]},oe=function(e){var t=ae(e);return null===t?null:te.getImageUrl(t.join("/"))},ie={name:"Product",props:["barcode"],data:function(){return{hideImage:h.fetch()["hideImage"]||!1,productName:"",brands:"",ingredientsText:"",countriesTags:[],images:{},loaded:!1,imageZoomOptions:{toolbar:{rotateLeft:1,rotateRight:1}}}},watch:{barcode:function(e){e?this.update():(this.productName="",this.brands="",this.ingredientsText="",this.countriesTags=[],this.images={},this.loaded=!1)},hideImage:function(e){h.update("hideImage",e)}},methods:{update:function(){var e=this;te.getProduct(this.barcode).then((function(t){var n=t.data.product;e.productName=n.product_name||"",e.brands=n.brands||"",e.ingredientsText=n.ingredients_text||"",e.countriesTags=n.countries_tags||[],e.images=n.images||{},e.loaded=!0}))}},computed:{productUrl:function(){return null===this.barcode?"":te.getProductUrl(this.barcode)},productEditUrl:function(){return null===this.barcode?"":te.getProductEditUrl(this.barcode)},countries:function(){return this.countriesTags.map((function(e){return Y[e]})).join(", ")},imagesPreview:function(){for(var e=[],t=0,n=Object.keys(this.images);t<n.length;t++){var a=n[t];if(!isNaN(a)){var o="".concat(oe(this.barcode),"/").concat(a,".jpg");e.push(o)}}return e}},mounted:function(){this.barcode&&this.update()}},se=ie,re=(n("ef44"),Object(w["a"])(se,J,W,!1,null,"592dbe0e",null)),le=re.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{centered:e.centered}},[e.show?n("div",{staticClass:"ui active inline loader",class:[e.size]}):e._e()])},ce=[],de={name:"LoadingSpinner",props:{show:{type:Boolean,required:!0},centered:{type:Boolean,required:!1,default:!0},size:{type:String,required:!1,default:"huge"}}},ge=de,he=(n("8d2d"),Object(w["a"])(ge,ue,ce,!1,null,"66aae622",null)),pe=he.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-column"},[n("h3",[e._v(e._s(e.$t("questions.annotations")))]),n("p",[e._v(" "+e._s(e.$t("questions.remaining_annotations"))+" "),n("strong",[e._v(e._s(e.remainingCount))])]),n("p",[e._v(" "+e._s(e.$t("questions.annotated_annotations"))+": "),n("strong",[e._v(e._s(e.annotatedCount))])]),n("div",{staticClass:"ui divider"}),n("h3",[e._v(e._s(e.$t("questions.last_annotations")))]),e._l(e.sortedLastAnnotations,(function(t){return n("div",{key:t.question.insight_id},[n("a",{attrs:{target:"_blank",href:e.getProductUrl(t.question.barcode)}},[e._v(e._s(t.question.insight_type)+": "+e._s(t.question.value))]),1==t.annotation?n("i",{staticClass:"check green icon"}):-1==t.annotation?n("i",{staticClass:"question icon"}):0==t.annotation?n("i",{staticClass:"times red icon"}):e._e()])}))],2)},be=[],fe=(n("a9e3"),{name:"AnnotationCounter",props:{remainingCount:{type:Number,required:!0},lastAnnotations:{type:Array,required:!0},sessionAnnotatedCount:{type:Number,required:!0}},data:function(){return{username:te.getUsername(),historyAnnotatedCount:0}},methods:{getProductUrl:function(e){return te.getProductUrl(e)}},computed:{sortedLastAnnotations:function(){var e=this.lastAnnotations.slice();return e.reverse()},annotatedCount:function(){return this.historyAnnotatedCount+this.sessionAnnotatedCount}},mounted:function(){var e=this;this.username.length&&H.getUserStatistics(this.username).then((function(t){e.historyAnnotatedCount=t.data.count.annotations})).catch((function(e){return window.console.log(e)}))}}),ve=fe,Ce=(n("4a93"),Object(w["a"])(ve,me,be,!1,null,"11ffedee",null)),ye=Ce.exports,_e=function(e,t){var n=new URLSearchParams(window.location.search);n.set(e,t);var a=window.location.pathname+"?"+n.toString();history.pushState(null,"",a)},ke=function(e){var t=new URLSearchParams(window.location.search);if(t.has(e)){t.delete(e);var n=window.location.pathname+(t.toString().length?"?".concat(t.toString()):"");history.pushState(null,"",n)}},xe=function(e){var t=new URLSearchParams(window.location.search);return t.has(e)?t.get(e):""},Ie="NO_QUESTION_LEFT",we={label:"label",category:"category",brand:"brand",product_weight:"product weight"},Se=["label","category","brand"],Le=function(){return Se[Math.floor(Se.length*Math.random())]},Pe=function(){var e=xe("type");return e.length?e:Le()},Oe={" ":"-","'":"-","&":"","à":"a","â":"a","ä":"a","é":"e","è":"e","ê":"e","ë":"e","î":"i","ï":"i","ô":"o","ö":"o","û":"u","ù":"u","ü":"u"},Ae=function(e){for(var t=e.trim().toLowerCase(),n=0,a=Object.entries(Oe);n<a.length;n++){var o=Object(B["a"])(a[n],2),i=o[0],s=o[1];t=t.replace(new RegExp(i,"g"),s)}return t=t.replace(/-{2,}/g,"-"),t},je={name:"QuestionView",components:{Product:le,AnnotationCounter:ye,LoadingSpinner:pe},data:function(){return{valueTag:xe("value_tag"),valueTagInput:xe("value_tag"),valueTagTimeout:null,currentQuestion:null,questionBuffer:[],remainingQuestionCount:0,lastAnnotations:[],sessionAnnotatedCount:0,insightTypesNames:we,selectedInsightType:Pe(),imageRotation:0,seenInsightIds:new Set,sortByPopularity:!1,brandFilter:xe("brand"),countryFilter:xe("country"),imageZoomOptions:{toolbar:{rotateLeft:1,rotateRight:1}}}},watch:{valueTagInput:function(){var e=this;if(clearTimeout(this.valueTagTimeout),0==this.valueTagInput.length)return this.valueTag="",void ke("value_tag");var t=this.valueTagInput.toLowerCase();this.valueTagTimeout=setTimeout((function(){e.valueTag=Ae(t),_e("value_tag",e.valueTag)}),1e3)},valueTag:function(){this.currentQuestion=null,this.questionBuffer=[],this.loadQuestions()},sortByPopularity:function(){this.currentQuestion=null,this.questionBuffer=[],this.loadQuestions()},selectedInsightType:function(){this.updateInsightTypeUrlParam()}},methods:{clearValueTagInput:function(){this.valueTagInput=""},rotateImage:function(){window.console.log(this.imageRotation),0===this.imageRotation?this.imageRotation=90:90===this.imageRotation?this.imageRotation=180:180===this.imageRotation?this.imageRotation=270:270===this.imageRotation&&(this.imageRotation=0)},updateInsightTypeUrlParam:function(){_e("type",this.selectedInsightType)},updateLastAnnotations:function(e,t){this.lastAnnotations.push({question:e,annotation:t}),this.lastAnnotations.length>10&&this.lastAnnotations.shift()},selectInsightType:function(e){this.selectedInsightType=e,this.currentQuestion=null,this.questionBuffer=[],this.loadQuestions()},annotate:function(e){-1!==e&&(H.annotate(this.currentQuestion.insight_id,e),this.updateLastAnnotations(this.currentQuestion,e),this.remainingQuestionCount-=1,this.sessionAnnotatedCount+=1),this.updateCurrentQuestion(),!this.noRemainingQuestion&&this.questionBuffer.length<=2&&this.loadQuestions()},updateCurrentQuestion:function(){this.currentQuestion=null,this.questionBuffer.length>0?this.currentQuestion=this.questionBuffer.shift():window.console.error("question buffer is empty, cannot update current question!")},loadQuestions:function(){var e=this,t=this.sortByPopularity?"popular":"random",n=10;H.questions(t,this.selectedInsightType,this.valueTag,this.brandFilter,"en:world"!==this.countryFilter?this.countryFilter:null,n).then((function(t){e.remainingQuestionCount=t.data.count,0!=t.data.questions.length?(t.data.questions.forEach((function(t){e.seenInsightIds.has(t.insight_id)||(e.questionBuffer.push(t),e.seenInsightIds.add(t.insight_id))})),t.data.questions.length<n&&(e.questionBuffer.includes(Ie)||e.questionBuffer.push(Ie)),null===e.currentQuestion&&e.updateCurrentQuestion()):e.questionBuffer.includes(Ie)||e.questionBuffer.push(Ie)}))}},computed:{availableInsightTypes:function(){return Object.keys(we)},currentQuestionImageUrl:function(){return this.currentQuestion.source_image_url?this.currentQuestion.source_image_url:"https://static.openfoodfacts.org/images/image-placeholder.png"},imageRotationClassName:function(){return 90===this.imageRotation?"rotate-90":180===this.imageRotation?"rotate-180":270===this.imageRotation?"rotate-270":"rotation-0"},loading:function(){return!this.noRemainingQuestion&&null==this.currentQuestion},noRemainingQuestion:function(){return 1==this.questionBuffer.length&&this.questionBuffer[0]===Ie},currentQuestionBarcode:function(){return null!==this.currentQuestion&&this.currentQuestion!==Ie?this.currentQuestion.barcode:null},valueTagQuestionsURL:function(){if(null!==this.currentQuestion&&this.currentQuestion!==Ie&&"brand"===this.selectedInsightType){var e=new URLSearchParams;return e.append("type",this.selectedInsightType),e.append("value_tag",Ae(this.currentQuestion.value)),"/questions?".concat(e.toString())}return""}},mounted:function(){this.updateInsightTypeUrlParam(),this.loadQuestions();var e=this;window.addEventListener("keyup",(function(t){"BODY"==t.target.nodeName&&("k"===t.key&&e.annotate(-1),"n"===t.key&&e.annotate(0),"o"===t.key&&e.annotate(1),"p"===t.key&&e.rotateImage())}))}},$e=je,Te=(n("e686"),Object(w["a"])($e,E,D,!1,null,"e6c84cb0",null)),Re=Te.exports,Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui grid stackable"},[n("div",{staticClass:"four wide column centered"},[e.bufferIsEmpty?n("div",[e.loading?n("p",[e._v("Loading ...")]):n("p",[e._v("No remaining images")])]):n("div",{staticClass:"insight-column"},[n("h3",[e._v(e._s(e.productName))]),n("a",{staticClass:"ui button primary",attrs:{target:"_blank",href:e.productUrl}},[e._v(e._s(e.$t("questions.view")))]),n("a",{staticClass:"ui button",attrs:{target:"_blank",href:e.productEditUrl}},[e._v(e._s(e.$t("questions.edit")))]),n("div",{staticClass:"ui divider"}),n("viewer",{staticStyle:{height:"300px"},attrs:{options:e.imageZoomOptions}},[n("img",{class:[e.imageRotationClass],staticStyle:{"max-height":"300px","max-width":"300px"},attrs:{src:e.productBuffer[0]["image_nutrition_url"]}})])],1)]),n("div",{staticClass:"ten wide column centered"},[n("sui-table",{attrs:{celled:"",definition:""}},[n("sui-table-header",[n("sui-table-header-cell"),n("sui-table-header-cell",[e._v(e._s(e.$t("nutrition.table.value")))]),n("sui-table-header-cell",[e._v(e._s(e.$t("nutrition.table.ispresent")))])],1),e._l(e.currentProductData,(function(t){return n("sui-table-row",{key:t.id},[n("sui-table-cell",[e._v(e._s(e.$t("nutrition.nutriments."+t.id)))]),n("sui-table-cell",{staticStyle:{display:"flex"}},[n("sui-input",{staticStyle:{"flex-grow":"1"},attrs:{disabled:!t.visible,error:e.isInvalid(e.currentProductData[t.id]["data"])},model:{value:e.currentProductData[t.id]["data"],callback:function(n){e.$set(e.currentProductData[t.id],"data",n)},expression:"currentProductData[nutritiveValue.id]['data']"}}),e.getNutrimentUnits(t.id).length>1?n("sui-dropdown",{staticClass:"unit",staticStyle:{"min-width":"3rem"},attrs:{disabled:!t.visible,selection:"",placeholder:e.$t("nutrition.table.unit"),options:e.getNutrimentUnits(t.id)},model:{value:e.currentProductData[t.id]["unit"],callback:function(n){e.$set(e.currentProductData[t.id],"unit",n)},expression:"currentProductData[nutritiveValue.id]['unit']"}}):n("span",{staticClass:"unit"},[e._v(e._s(e.getNutrimentUnits(t.id)[0]))])],1),n("sui-table-cell",[n("sui-checkbox",{attrs:{name:"public",label:t.visible?e.$t("nutrition.present"):e.$t("nutrition.absent")},model:{value:e.currentProductData[t.id]["visible"],callback:function(n){e.$set(e.currentProductData[t.id],"visible",n)},expression:"currentProductData[nutritiveValue.id]['visible']"}})],1)],1)}))],2),n("div",[n("button",{staticClass:"ui button red annotate",attrs:{"data-tooltip":"Shortcut: d"},on:{click:function(t){return e.deleteProduct()}}},[e._v(" "+e._s(e.$t("nutrition.delete"))+" ")]),n("button",{staticClass:"ui button annotate",attrs:{"data-tooltip":"Shortcut: k"},on:{click:function(t){return e.skipProduct()}}},[e._v(" "+e._s(e.$t("nutrition.skip"))+" ")]),n("button",{staticClass:"ui button green annotate",attrs:{"data-tooltip":"Shortcut: v"},on:{click:function(t){return e.validate()}}},[e._v(" "+e._s(e.$t("nutrition.validate"))+" ")])])],1)])},qe=[],Ee=n("1da1"),De=(n("96cf"),n("466d"),n("b0c0"),n("d31f")),Be=function(){var e=Object(Ee["a"])(regeneratorRuntime.mark((function e(t){var n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Math.floor(Math.random()*t),e.next=3,M()("".concat(U,"/state/photos-validated/state/nutrition-facts-to-be-completed/").concat(n,".json?fields=code,lang,image_nutrition_url,product_name"));case 3:return a=e.sent,o=a.data.products,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze={name:"NutritionView",components:{},data:function(){return{valueTagInput:"",imageZoomOptions:{toolbar:{rotateLeft:1,rotateRight:1}},loading:!1,productBuffer:[],currentProductData:{}}},computed:{productName:function(){return 0===this.productBuffer.length||null===this.productBuffer[0].product_name?"":this.productBuffer[0].product_name},productUrl:function(){return 0===this.productBuffer.length||null===this.productBuffer[0].code?"":te.getProductUrl(this.productBuffer[0].code)},productEditUrl:function(){return 0===this.productBuffer.length||null===this.productBuffer[0].code?"":te.getProductEditUrl(this.productBuffer[0].code)},bufferIsEmpty:function(){return 0===this.productBuffer.length}},methods:{isInvalid:function(e){return!e.match("^((<|>|<=|>=|~|.)*[0-9]+| *)$")},clearValueTagInput:function(){this.valueTagInput=""},addProducts:function(){var e=Object(Ee["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,Be(20);case 3:t=e.sent,this.productBuffer=this.productBuffer.concat(t),this.loading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),skipProduct:function(){this.productBuffer.shift()},deleteProduct:function(){var e=this.productBuffer[0]["image_nutrition_url"],t=e.split("/").pop().split(".")[0];M.a.post("".concat(U,"/cgi/product_image_unselect.pl?"),new URLSearchParams("code=".concat(this.productBuffer[0].code,"&id=").concat(t)))},validate:function(){var e=this,t=Object.keys(this.currentProductData).filter((function(t){return!e.currentProductData[t].visible})),n=Object.keys(this.currentProductData).filter((function(t){return e.currentProductData[t]&&e.currentProductData[t].visible&&e.currentProductData[t].data&&e.isInvalid(e.currentProductData[t].data)&&e.currentProductData[t].data.length>0})).map((function(t){return{name:t,value:"".concat(e.currentProductData[t].data).concat(e.currentProductData[t].unit||""),quantity:e.currentProductData[t].data,unit:e.currentProductData[t].unit}}));M.a.post("".concat(U,"/cgi/product_jqm2.pl?"),new URLSearchParams("".concat(n.map((function(e){return"".concat(e.name,"=").concat(e.quantity,"&")})).join("")).concat(n.map((function(e){return e.unit?"".concat(e.name,"_unit=").concat(e.unit,"&"):""})).join("")).concat(t.map((function(e){return"".concat(e,'=""&')})).join(""),"code=").concat(this.productBuffer[0]["code"])))},resetProductData:function(){for(var e={},t=0,n=Object.keys(De);t<n.length;t++){var a=n[t];e[a]={id:a,data:"",unit:De[a],visible:!0}}this.currentProductData=e},getNutrimentUnits:function(e){switch(e){case"nutriment_energy-kcal":return["kcal"];case"nutriment_energy-kj":return["kJ"];default:return[{text:"g",value:"g"},{text:"mg",value:"mg"}]}}},watch:{productBuffer:function(e,t){e.length<=5&&!this.loading&&this.addProducts(),!e[0]||t[0]&&e[0].code===t[0].code||this.resetProductData()}},mounted:function(){this.addProducts();var e=this;window.addEventListener("keyup",(function(t){"BODY"==t.target.nodeName&&("k"===t.key&&e.skipProduct(),"v"===t.key&&e.validate())}))}},Me=ze,Ge=(n("1f91"),Object(w["a"])(Me,Ne,qe,!1,null,"5dbd3b68",null)),Ue=Ge.exports,Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app"},[n("div",{staticClass:"scollable"},[n("p",{staticClass:"explanations"},[e._v(e._s(this.messages[this.currentState]))]),n("div",{staticClass:"imageContainer",on:{click:function(t){return e.click("")}}},[n("img",{attrs:{src:e.urlImg}}),n("svg",{class:{desactivateListenersInside:e.isDraggingCropRectangle},attrs:{width:e.imageWidth,height:e.imageHeight},on:{mousemove:e.moveAt,mouseleave:function(t){return t.stopPropagation(),e.stopDragging.apply(null,arguments)},mouseup:function(t){return t.stopPropagation(),e.stopDragging.apply(null,arguments)}}},[e._l(e.visibleBoxes,(function(t){return n("path",{key:"box-"+t.id,staticClass:"box",class:{toDelete:t.toDelete,selectable:e.currentState>=0},attrs:{d:t.path},on:{click:function(n){n.stopPropagation(),e.currentState>=0&&e.click(t.id,n)},mouseover:function(n){e.currentState>=0&&e.mouseover(t.id)}}})})),e.currentLinks?n("path",{staticClass:"currentLink",attrs:{d:e.currentLinks}}):e._e(),e._l(e.annotations.currentPath,(function(t){return n("circle",{key:"creationCenter-"+t,staticClass:"currentBoxesCenter",attrs:{cx:e.getCenter(e.boxes[t].points).x,cy:e.getCenter(e.boxes[t].points).y,r:"5"}})})),e._l(e.annotations.memorizedGraph,(function(t,a){return n("g",{key:"node-group-"+a},[e._l(t,(function(t){return n("g",{key:"savedLink-"+a+" - "+t},[n("line",{staticClass:"helpLink",class:{noPointerEvent:e.keyIsDown,youWantToDelete:!e.keyIsDown},attrs:{x1:e.getCenter(e.boxes[a].points).x,y1:e.getCenter(e.boxes[a].points).y,x2:e.getCenter(e.boxes[t].points).x,y2:e.getCenter(e.boxes[t].points).y},on:{click:function(n){return n.stopPropagation(),e.clickLink(a,t)}}}),n("line",{staticClass:"savedLink",attrs:{x1:e.getCenter(e.boxes[a].points).x,y1:e.getCenter(e.boxes[a].points).y,x2:e.getCenter(e.boxes[t].points).x,y2:e.getCenter(e.boxes[t].points).y}})])})),n("circle",{class:{youWantToDeleteBoxCenter:!e.keyIsDown,noPointerEvent:e.keyIsDown},attrs:{cx:e.getCenter(e.boxes[a].points).x,cy:e.getCenter(e.boxes[a].points).y,r:"15"},on:{click:function(t){return t.stopPropagation(),e.clickNode(a)}}}),n("circle",{staticClass:"savedBoxesCenter",attrs:{cx:e.getCenter(e.boxes[a].points).x,cy:e.getCenter(e.boxes[a].points).y,r:"5"}})],2)})),e.showSavedLines?n("g",{class:{unfill:e.canValidate}},e._l(e.savedLines,(function(t,a){return n("g",{key:"saved-line-"+a,staticClass:"validatedGroup validatedLine"},[n("path",{attrs:{d:t.path}}),e.canNotValidate?n("text",{attrs:{x:t.center.x,y:t.center.y,"dominant-baseline":"middle","text-anchor":"middle"}},[e._v(" "+e._s("line : "+a)+" ")]):e._e()])})),0):e._e(),e.showSavedColumns?n("g",{class:{unfill:e.canValidate}},e._l(e.savedColumns,(function(t,a){return n("g",{key:"saved-column-"+a,staticClass:"validatedGroup validatedColumn"},[n("path",{attrs:{d:t.path}}),e.canNotValidate?n("text",{attrs:{x:t.center.x,y:t.center.y,"dominant-baseline":"middle","text-anchor":"middle"}},[e._v(" "+e._s("column : "+a)+" ")]):e._e()])})),0):e._e(),e.annotations.keyIsDown?n("line",{staticClass:"currentLink",attrs:{x1:""+e.cursor.x,y1:""+e.cursor.y,x2:""+e.annotations.lastElement.x,y2:""+e.annotations.lastElement.y}}):e._e(),e._l(e.convexHalls,(function(e,t){return n("path",{key:"convexHalls-"+t,staticClass:"convexhall",attrs:{d:e.path}})})),e.showCorppingRectangle?n("g",{staticClass:"croppingRectangle"},[n("path",{attrs:{d:"M "+e.cropRectangle.start.x+" "+e.cropRectangle.start.y+" L\n        "+e.cropRectangle.start.x+" "+e.cropRectangle.end.y+" L\n        "+e.cropRectangle.end.x+" "+e.cropRectangle.end.y+" L "+e.cropRectangle.end.x+"\n        "+e.cropRectangle.start.y+" Z"}}),n("circle",{attrs:{cx:e.cropRectangle.start.x,cy:e.cropRectangle.start.y,r:"10"},on:{mousedown:function(t){return t.stopPropagation(),e.startDraggingStart.apply(null,arguments)}}}),n("circle",{attrs:{cx:e.cropRectangle.end.x,cy:e.cropRectangle.end.y,r:"10"},on:{mousedown:function(t){return t.stopPropagation(),e.startDraggingEnd.apply(null,arguments)}}})]):e._e()],2),n("div",{staticClass:"subActions"},[n("button",{on:{click:e.previousStep}},[e._v("Prev (p)")]),n("button",{on:{click:e.nextStep}},[e._v("Next (n)")])]),n("div",{staticClass:"checkboxContainer"},[n("div",{staticClass:"ui checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.dataQuality,expression:"dataQuality"}],attrs:{type:"checkbox",name:"perfect-data",id:"perfect-data",value:"perfect-data"},domProps:{checked:Array.isArray(e.dataQuality)?e._i(e.dataQuality,"perfect-data")>-1:e.dataQuality},on:{change:function(t){var n=e.dataQuality,a=t.target,o=!!a.checked;if(Array.isArray(n)){var i="perfect-data",s=e._i(n,i);a.checked?s<0&&(e.dataQuality=n.concat([i])):s>-1&&(e.dataQuality=n.slice(0,s).concat(n.slice(s+1)))}else e.dataQuality=o}}}),n("label",{attrs:{for:"perfect-data"}},[e._v("The text recognition is perfect")])]),n("div",{staticClass:"ui checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.dataQuality,expression:"dataQuality"}],attrs:{type:"checkbox",name:"bad-data",id:"bad-data",value:"bad-data"},domProps:{checked:Array.isArray(e.dataQuality)?e._i(e.dataQuality,"bad-data")>-1:e.dataQuality},on:{change:function(t){var n=e.dataQuality,a=t.target,o=!!a.checked;if(Array.isArray(n)){var i="bad-data",s=e._i(n,i);a.checked?s<0&&(e.dataQuality=n.concat([i])):s>-1&&(e.dataQuality=n.slice(0,s).concat(n.slice(s+1)))}else e.dataQuality=o}}}),n("label",{attrs:{for:"bad-data"}},[e._v("Some words are missing")])])]),n("div",{staticClass:"actions"},[n("button",{on:{click:e.skip}},[e._v("skip (k)")]),n("button",{class:{canValidate:e.canValidate,disabled:!e.canValidate},on:{click:e.validate}},[e._v(" validate (v) ")])])])])])},Ve=[],Fe=n("ade3"),Ke=n("2909"),He=(n("c740"),n("7db0"),n("a4d3"),n("e01a"),function(e,t){return"M "+e.map((function(e){return"".concat(e.x," ").concat(e.y)})).join(" L ")+(t?" Z":"")}),Je=function(e){return Object(Ke["a"])(e).sort((function(e,t){return e.x==t.x?e.y-t.y:e.x-t.x})).map((function(e){return"(".concat(e.x,",").concat(e.y,")")})).join("")},We=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)>0},Ze=function(e){var t=Object(Ke["a"])(e).sort((function(e,t){return e.x-t.x})),n=[0];while(n[n.length-1]!==n[0]||1===n.length)for(var a=n[n.length-1],o=0;o<t.length;o++)if(a!==o){var i=!0,s=0;while(s<t.length&&i)s!==a&&s!==o&&We(t[a],t[o],t[s])&&(i=!1),s++;i&&n.push(o)}return n.slice(0,n.length).map((function(e){return t[e]}))},Ye=function(e){var t=e.reduce((function(e,t){return{x:e.x+t.x,y:e.y+t.y}}),{x:0,y:0});return{x:t.x/e.length,y:t.y/e.length}},Xe=function(e){var t={};return e.forEach((function(e,n){n>0&&(t[Je(e.boundingPoly.vertices)]={id:Je(e.boundingPoly.vertices),boxIndex:n,points:e.boundingPoly.vertices,path:He(e.boundingPoly.vertices,!0),text:e.description,visible:!0,toDelete:!1})})),t},et=function(e){var t={};return Object.keys(e).forEach((function(e,n){t[e]=n})),Object.keys(e).forEach((function(n){var a=[].concat(Object(Ke["a"])(e[n]),[n]),o=a.map((function(e){return t[e]})),i=o.reduce((function(e,t){return Math.min(e,t)}),Object.keys(e).length);Object.keys(e).forEach((function(e){o.includes(t[e])&&(t[e]=i)}))})),t},tt=function(e,t){var n=et(e);0===t&&(t+=1);var a={};Object.keys(n).forEach((function(e){var t=n[e];void 0===a[t]?a[t]=[e]:a[t].push(e)}));var o={};return Object.keys(a).forEach((function(e){var n=a[e].reduce((function(e,n){return[].concat(Object(Ke["a"])(e),Object(Ke["a"])(t[n].points))}),[]),i=Object(Ke["a"])(a[e]).sort((function(e,t){return e<t?1:-1})).join("-");o[i]={path:He(Ze(n),!0),points:n,text:"",visible:!0,id:i}})),o},nt=function(e,t){var n=t>e?t:e,a=t<=e?t:e;return[n,a]},at=function(e,t,n,a,o){for(var i=Math.min(e,n),s=Math.min(t,a),r=Math.max(e,n),l=Math.max(t,a),u=0;u<o.length;u++)if(o[u].x>r||o[u].x<i||o[u].y>l||o[u].y<s)return!1;return!0},ot={"-1":"Déplacer le rectangle pour le faire contenir le tableau",0:"Merci de regrouper entre elles les boîtes faisant partie d'une même case du tableau",1:"Si des boites rouges font partie du tableau, merci de les ajouter (vous pouvez sélectionner une case seule)",2:"Reliez entre elles les cellules d'une même ligne",3:"Reliez entre elles les cellules d'une même colonne"},it={name:"TableAnnotationView",components:{},data:function(){return{urlImg:null,dataQuality:[],messages:ot,loading:!1,currentState:-1,boxes:[],imageHeight:0,imageWidth:0,insightId:null,batchOfInsights:[],annotations:{annnotated:!1,keyIsDown:!1,currentPath:[],memorizedGraph:{},lastElement:{x:0,y:0}},cropRectangle:{start:{x:10,y:10},end:{x:100,y:100},currentlyDragged:null},convexHalls:{},cursor:{x:0,y:0},lineIterator:0,savedLines:{},columnIterator:0,savedColumns:{},savedCellsGraph:{}}},computed:{currentLinks:function(){var e=this;return this.annotations.currentPath.length<1?"":He(this.annotations.currentPath.map((function(t){return Ye(e.boxes[t].points)})),!1)},keyIsDown:function(){return this.annotations.keyIsDown},visibleBoxes:function(){var e=this;return Object.keys(this.boxes).filter((function(t){return e.boxes[t].visible})).map((function(t){return e.boxes[t]}))},showSavedLines:function(){return 2===this.currentState||4===this.currentState},showSavedColumns:function(){return 3===this.currentState||4===this.currentState},canValidate:function(){return 4===this.currentState},canNotValidate:function(){return 4!==this.currentState},showCorppingRectangle:function(){return-1===this.currentState},isDraggingCropRectangle:function(){return!!this.cropRectangle.currentlyDragged}},methods:{isSaved:function(e,t){for(var n=0,a=Object.keys(t);n<a.length;n++){var o=a[n];if(t[o].keys.findIndex((function(t){return t===e}))>=0)return!0}return!1},reset:function(){this.dataQuality=[],this.currentState=-1,this.boxes=[],this.annotations={annnotated:!1,keyIsDown:!1,currentPath:[],memorizedGraph:{},lastElement:{x:0,y:0}},this.cropRectangle={start:{x:10,y:10},end:{x:50,y:50},currentlyDragged:null},this.convexHalls={},this.cursor={x:0,y:0},this.lineIterator=0,this.savedLines={},this.columnIterator=0,this.savedColumns={},this.savedCellsGraph={}},validate:function(){var e=this;if(!this.canValidate)return null;if(0===this.dataQuality.length)return alert("Please give us your opinion on the text recognition"),null;if(this.dataQuality.length>1)return alert("Please select only one box for giving your opinion on text recognition"),null;var t={},n={},a={};Object.keys(this.savedLines).map((function(n){e.savedLines[n].keys.forEach((function(e){e.split("-").forEach((function(o){void 0===t[o]?t[o]=[n]:t[o]=[].concat(Object(Ke["a"])(t[o]),[n]),void 0===a[o]&&(a[o]=e)}))}))})),Object.keys(this.savedColumns).map((function(t){e.savedColumns[t].keys.forEach((function(e){e.split("-").forEach((function(o){void 0===n[o]?n[o]=[t]:n[o]=[].concat(Object(Ke["a"])(n[o]),[t]),void 0===a[o]&&(a[o]=e)}))}))}));var o={};this.textAnnotations.forEach((function(e){var i,s,r=Je(e.boundingPoly.vertices);i=void 0===t[r]?[]:t[r],s=void 0===n[r]?[]:n[r],o[r]=Object(f["a"])(Object(f["a"])({},e),{},{row_index:i,column_index:s,cell_id:a[r]||null})})),M.a.post("https://robotoff.openfoodfacts.org/api/v1/insights/annotate",new URLSearchParams("insight_id=".concat(this.insightId,"&annotation=1&data=").concat(JSON.stringify({textAnnotations:o,crop:this.cropRectangle,dataQuality:this.dataQuality[0]})))),this.skip()},getCenter:function(e){return Ye(e)},skip:function(){var e=Object(Ee["a"])(regeneratorRuntime.mark((function e(){var t,n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.batchOfInsights=this.batchOfInsights.slice(1),!(this.batchOfInsights.length>0&&this.batchOfInsights.length<5)){e.next=5;break}this.loadOCR(),e.next=8;break;case 5:if(0!==this.batchOfInsights.length){e.next=8;break}return e.next=8,this.loadOCR();case 8:return t=this,this.urlImg=this.batchOfInsights[0].urlImg,this.insightId=this.batchOfInsights[0].insightId,e.next=13,M.a.get(this.batchOfInsights[0].textAnnotationsUrl);case 13:return n=e.sent,a=n.data.responses,this.textAnnotations=a[0].textAnnotations,o=new Image,o.onload=function(){t.imageHeight=o.height,t.imageWidth=o.width},o.src=this.urlImg,this.reset(),this.boxes=Xe(this.textAnnotations),e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),loadOCR:function(){var e=Object(Ee["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,M.a.get("https://robotoff.openfoodfacts.org/api/v1/insights/random?type=nutrition_table_structure");case 3:t=e.sent,n=t.data.insights,this.batchOfInsights=[].concat(Object(Ke["a"])(this.batchOfInsights),Object(Ke["a"])(n.map((function(e){var t=e.source_image,n=e.id;return{urlImg:"https://static.openfoodfacts.org/images/products".concat(t),textAnnotationsUrl:"https://static.openfoodfacts.org/images/products".concat(t.split(".").slice(0,-1).join("."),".json"),insightId:n}})))),this.loading=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),clickLink:function(e,t){if(!this.annotations.keyIsDown){var n=nt(e,t),a=Object(B["a"])(n,2),o=a[0],i=a[1];this.annotations.memorizedGraph=Object(f["a"])(Object(f["a"])({},this.annotations.memorizedGraph),{},Object(Fe["a"])({},o,Object(Ke["a"])(this.annotations.memorizedGraph[o].filter((function(e){return e!==i})))))}},clickNode:function(e){var t=this;this.annotations.keyIsDown||(delete this.annotations.memorizedGraph[e],this.annotations.memorizedGraph=Object(f["a"])({},this.annotations.memorizedGraph),Object.keys(this.annotations.memorizedGraph).forEach((function(n){var a=t.annotations.memorizedGraph[n].findIndex((function(t){return t===e}));a>=0&&(t.annotations.memorizedGraph=Object(f["a"])(Object(f["a"])({},t.annotations.memorizedGraph),{},Object(Fe["a"])({},n,[].concat(Object(Ke["a"])(t.annotations.memorizedGraph[n].slice(0,a)),Object(Ke["a"])(t.annotations.memorizedGraph[n].slice(a+1))))))})))},click:function(e,t){var n=this;!this.annotations.keyIsDown&&e?(this.annotations.keyIsDown=!0,this.annotations.currentPath=[e],this.annotations.lastElement=Ye(this.boxes[e].points),this.cursor.x=t.offsetX,this.cursor.y=t.offsetY):this.annotations.keyIsDown&&(this.annotations.annnotated=!0,this.annotations.keyIsDown=!1,this.annotations.currentPath.forEach((function(e){void 0===n.annotations.memorizedGraph[e]&&(n.annotations.memorizedGraph[e]=[])})),this.annotations.currentPath.forEach((function(e,t){if(t>0){var a=n.annotations.currentPath[t-1],o=nt(e,a),i=Object(B["a"])(o,2),s=i[0],r=i[1];n.annotations.memorizedGraph[s].find((function(e){return e===r}))||n.annotations.memorizedGraph[s].push(r)}})),this.annotations.currentPath=[])},moveAt:function(e){this.annotations.keyIsDown&&(this.cursor.x=e.offsetX,this.cursor.y=e.offsetY),-1===this.currentState&&"end"===this.cropRectangle.currentlyDragged&&(this.cropRectangle.end.x=e.offsetX,this.cropRectangle.end.y=e.offsetY),-1===this.currentState&&"start"===this.cropRectangle.currentlyDragged&&(this.cropRectangle.start.x=e.offsetX,this.cropRectangle.start.y=e.offsetY)},stopDragging:function(){var e=this;this.cropRectangle.currentlyDragged=null,Object.keys(this.boxes).forEach((function(t){e.boxes[t].toDelete=!at(e.cropRectangle.start.x,e.cropRectangle.start.y,e.cropRectangle.end.x,e.cropRectangle.end.y,e.boxes[t].points)}))},startDraggingStart:function(){this.cropRectangle.currentlyDragged="start"},startDraggingEnd:function(){this.cropRectangle.currentlyDragged="end"},mouseover:function(e){if(!this.annotations.keyIsDown)return null;if(this.annotations.currentPath[this.annotations.currentPath.length-1]===e){if(this.annotations.currentPath.length>1){this.annotations.currentPath.pop();var t=this.annotations.currentPath[this.annotations.currentPath.length-1];this.annotations.lastElement=Ye(this.boxes[t].points)}}else this.annotations.currentPath.find((function(t){return t===e}))||(this.annotations.currentPath.push(e),this.annotations.lastElement=Ye(this.boxes[e].points))},nextStep:function(){var e=this;if(this.click(),-1===this.currentState&&(Object.keys(this.boxes).forEach((function(t){e.boxes[t].visible=!e.boxes[t].toDelete})),this.currentState=0),0===this.currentState||this.annotations.annnotated&&1===this.currentState)this.convexHalls=tt(this.annotations.memorizedGraph,this.boxes),0!==Object.keys(this.convexHalls).length&&(Object.keys(this.boxes).forEach((function(t){e.boxes[t].toDelete=!Object.keys(e.annotations.memorizedGraph).includes(t)})),this.annotations.keyIsDown=!1,this.annotations.currentPath=[],this.annotations.lastElement={x:0,y:0},this.annotations.annnotated=!1,this.currentState=1);else if(1===this.currentState)this.savedCellsGraph=Object(f["a"])({},this.annotations.memorizedGraph),this.boxes=Object(f["a"])({},this.convexHalls),this.convexHalls={},this.annotations.memorizedGraph={},this.savedLines={},this.lineIterator=0,this.currentState=2;else if(2===this.currentState)if(0===Object.keys(this.annotations.memorizedGraph).length)Object.keys(this.boxes).findIndex((function(t){return!e.isSaved(t,e.savedLines)}))<0?(this.currentState=3,this.columnIterator=0,this.savedColumns={},Object.keys(this.savedLines).forEach((function(t){return e.savedLines[t].keys.forEach((function(t){e.boxes[t].visible=!0}))}))):alert("Tu n'as rien sélectionné, je ne peux donc pas ajouter de nouvelle ligne");else{var t=Object.keys(this.annotations.memorizedGraph).reduce((function(t,n){return[].concat(Object(Ke["a"])(t),Object(Ke["a"])(e.boxes[n].points))}),[]),n=Object.keys(this.annotations.memorizedGraph);this.savedLines[this.lineIterator]={keys:Object(Ke["a"])(n),path:He(Ze(t),!0),center:Ye(t)},this.lineIterator+=1,this.annotations.memorizedGraph={}}else if(3===this.currentState)if(0===Object.keys(this.annotations.memorizedGraph).length)Object.keys(this.boxes).findIndex((function(t){return!e.isSaved(t,e.savedColumns)}))<0?this.currentState=4:alert("Tu n'as rien sélectionné, je ne peux donc pas ajouter de nouvelle colonne");else{var a=Object.keys(this.annotations.memorizedGraph).reduce((function(t,n){return[].concat(Object(Ke["a"])(t),Object(Ke["a"])(e.boxes[n].points))}),[]);this.savedColumns[this.columnIterator]={keys:Object(Ke["a"])(Object.keys(this.annotations.memorizedGraph)),path:He(Ze(a),!0),center:Ye(a)},this.columnIterator+=1,this.annotations.memorizedGraph={}}},previousStep:function(){var e=this;this.click(),0===this.currentState?(Object.keys(this.boxes).forEach((function(t){e.boxes[t].visible=!0})),this.stopDragging(),this.annotations.memorizedGraph={},this.annotations.keyIsDown=!1,this.annotations.currentPath=[],this.annotations.lastElement={x:0,y:0},this.annotations.annnotated=!1,this.currentState=-1):1===this.currentState?(this.currentState=0,this.annotations.memorizedGraph={},this.annotations.keyIsDown=!1,this.annotations.currentPath=[],this.annotations.lastElement={x:0,y:0},this.annotations.annnotated=!1,this.convexHalls={},Object.keys(this.boxes).forEach((function(t){e.boxes[t].toDelete=!1}))):2===this.currentState?Object.keys(this.annotations.memorizedGraph).length>0?this.annotations.memorizedGraph={}:this.lineIterator>0?(this.lineIterator-=1,delete this.savedLines[this.lineIterator]):(this.savedLines={},this.lineIterator=0,this.currentState=1,this.annotations.memorizedGraph=Object(f["a"])({},this.savedCellsGraph),this.boxes=Xe(this.textAnnotations),Object.keys(this.boxes).forEach((function(t){e.boxes[t].visible=at(e.cropRectangle.start.x,e.cropRectangle.start.y,e.cropRectangle.end.x,e.cropRectangle.end.y,e.boxes[t].points)})),Object.keys(this.boxes).forEach((function(t){e.boxes[t].toDelete=!Object.keys(e.annotations.memorizedGraph).includes(t)})),this.convexHalls=tt(this.annotations.memorizedGraph,this.boxes),this.annotations.keyIsDown=!1,this.annotations.currentPath=[],this.annotations.lastElement={x:0,y:0},this.annotations.annnotated=!1):3===this.currentState?Object.keys(this.annotations.memorizedGraph).length>0?this.annotations.memorizedGraph={}:this.columnIterator>0?(this.columnIterator-=1,delete this.savedColumns[this.columnIterator]):(this.savedColumns={},this.columnIterator=0,this.currentState=2,this.annotations.memorizedGraph={},this.annotations.keyIsDown=!1,this.annotations.currentPath=[],this.annotations.lastElement={x:0,y:0},this.annotations.annnotated=!1):4===this.currentState&&(this.currentState=3)}},watch:{textAnnotations:function(e){this.boxes=Xe(e)}},mounted:function(){var e=Object(Ee["a"])(regeneratorRuntime.mark((function e(){var t,n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,this.loadOCR();case 3:return this.urlImg=this.batchOfInsights[0].urlImg,this.insightId=this.batchOfInsights[0].insightId,e.next=7,M.a.get(this.batchOfInsights[0].textAnnotationsUrl);case 7:n=e.sent,a=n.data.responses,this.textAnnotations=a[0].textAnnotations,o=new Image,o.onload=function(){t.imageHeight=o.height,t.imageWidth=o.width},o.src=this.urlImg,this.boxes=Xe(this.textAnnotations),window.addEventListener("keyup",(function(e){"BODY"==e.target.nodeName&&("k"===e.key&&t.skip(),"n"===e.key&&t.nextStep(),"v"===e.key&&t.validate(),"p"===e.key&&t.previousStep())}));case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},st=it,rt=(n("9bd0"),Object(w["a"])(st,Qe,Ve,!1,null,"6d01ef04",null)),lt=rt.exports,ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui stackable grid container"},[n("div",{staticClass:"five wide column"},[n("h2",[e._v(e._s(e.$t("settings.settings")))]),n("form",{staticClass:"ui form",on:{submit:function(t){return t.preventDefault(),e.saveLang.apply(null,arguments)}}},[n("div",{staticClass:"field"},[n("div",{staticClass:"ui action input labeled"},[n("div",{staticClass:"ui label"},[e._v(e._s(e.$t("settings.language")))]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedLang,expression:"selectedLang"}],staticClass:"ui fluid dropdown",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedLang=t.target.multiple?n:n[0]}}},e._l(e.langs,(function(t,a){return n("option",{key:"Lang"+a,domProps:{value:t}},[e._v(" "+e._s(t.toUpperCase())+" ")])})),0)])]),n("button",{staticClass:"ui button primary"},[e._v(e._s(e.$t("settings.save")))])])])])},ct=[],dt=n("06b7"),gt=n("e088"),ht=n("2394"),pt=n("2508"),mt=n("d90a"),bt={en:gt,it:dt,fr:ht,de:pt,es:mt},ft={name:"SettingsView",props:[],data:function(){return{selectedLang:this.$i18n.locale,langs:Object.keys(bt)}},methods:{saveLang:function(){this.$i18n.locale=this.selectedLang,h.update("lang",this.$i18n.locale)}}},vt=ft,Ct=Object(w["a"])(vt,ut,ct,!1,null,null,null),yt=Ct.exports,_t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui container"},[n("div",[n("h2",[e._v(e._s(e.$t("insights.insights")))]),n("form",{staticClass:"ui stackable form"},[n("div",{staticClass:"two fields"},[n("div",{staticClass:"field"},[n("label",[e._v(e._s(e.$t("insights.barcode")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.barcodeFilter,expression:"barcodeFilter"}],attrs:{placeholder:e.$t("insights.barcode_placeholder")},domProps:{value:e.barcodeFilter},on:{input:function(t){t.target.composing||(e.barcodeFilter=t.target.value)}}})]),n("div",{staticClass:"field"},[n("label",[e._v(e._s(e.$t("insights.value_tag")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.valueTagFilter,expression:"valueTagFilter"}],attrs:{type:"text",placeholder:e.$t("insights.value_placeholder")},domProps:{value:e.valueTagFilter},on:{input:function(t){t.target.composing||(e.valueTagFilter=t.target.value)}}})])]),n("div",{staticClass:"two fields"},[n("div",{staticClass:"field"},[n("label",[e._v(e._s(e.$t("insights.type")))]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.insightTypeFilter,expression:"insightTypeFilter"}],staticClass:"ui search dropdown",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.insightTypeFilter=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[e._v(e._s(e.$t("insights.all")))]),n("option",{attrs:{value:"label"}},[e._v(e._s(e.$t("insights.label")))]),n("option",{attrs:{value:"product_weight"}},[e._v(e._s(e.$t("insights.product_weight")))]),n("option",{attrs:{value:"category"}},[e._v(e._s(e.$t("insights.category")))]),n("option",{attrs:{value:"expiration_date"}},[e._v(e._s(e.$t("insights.expiration_date")))]),n("option",{attrs:{value:"packager_code"}},[e._v(e._s(e.$t("insights.packager_code")))])])]),n("div",{staticClass:"field"},[n("label",[e._v(e._s(e.$t("insights.annotated")))]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.annotationFilter,expression:"annotationFilter"}],staticClass:"ui search dropdown",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.annotationFilter=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[e._v(e._s(e.$t("insights.all")))]),n("option",{attrs:{value:"-1"}},[e._v(e._s(e.$t("insights.skipped")))]),n("option",{attrs:{value:"0"}},[e._v(e._s(e.$t("insights.rejected")))]),n("option",{attrs:{value:"1"}},[e._v(e._s(e.$t("insights.accepted")))]),n("option",{attrs:{value:"not_annotated"}},[e._v(e._s(e.$t("insights.not_annotated")))])])])]),n("input",{staticClass:"ui submit button primary",attrs:{type:"submit"},domProps:{value:e.$t("insights.search")},on:{click:function(t){return t.preventDefault(),e.loadInsights.apply(null,arguments)}}})]),n("div",{staticClass:"ui divider"}),e.loading?e._e():n("p",[n("strong",[e._v(e._s(e.$t("insights.count")))]),e._v(" "+e._s(e.resultCount)+" ")])]),n("LoadingSpinner",{attrs:{show:e.loading}}),e.loading?e._e():n("table",{staticClass:"ui celled table"},[n("thead",{staticClass:"mobile hidden"},[n("tr",[n("th",[e._v(e._s(e.$t("insights.barcode")))]),n("th",[e._v(e._s(e.$t("insights.id")))]),n("th",[e._v(e._s(e.$t("insights.type")))]),n("th",[e._v(e._s(e.$t("insights.value")))]),n("th",[e._v(e._s(e.$t("insights.created_at")))]),n("th",[e._v(e._s(e.$t("insights.completed_at")))]),n("th",[e._v(e._s(e.$t("insights.annotation")))]),n("th",[e._v(e._s(e.$t("insights.automatic")))])])]),n("tbody",e._l(e.insights,(function(t){return n("tr",{key:t.id},[n("td",{attrs:{"data-label":"Barcode"}},[n("span",{staticClass:"mobile only list__label"},[e._v(e._s(e.$t("insights.barcode"))+" ")]),e._v(e._s(t.barcode))]),n("td",{attrs:{"data-label":"Id"}},[n("span",{staticClass:"mobile only list__label"},[e._v(e._s(e.$t("insights.id"))+" ")]),e._v(e._s(t.id))]),n("td",{attrs:{"data-label":"Type"}},[n("span",{staticClass:"mobile only list__label"},[e._v(e._s(e.$t("insights.type"))+" ")]),e._v(e._s(t.type))]),n("td",{attrs:{"data-label":"Value"}},[n("span",{staticClass:"mobile only list__label"},[e._v(e._s(e.$t("insights.value"))+" ")]),e._v(e._s(t.value||t.value_tag))]),n("td",{attrs:{"data-label":"Created at"}},[n("span",{staticClass:"mobile only list__label"},[e._v(e._s(e.$t("insights.created_at"))+" ")]),e._v(e._s(e.formatDatetime(t.timestamp)))]),n("td",{attrs:{"data-label":"Completed at"}},[n("span",{staticClass:"mobile only list__label"},[e._v(e._s(e.$t("insights.completed_at"))+" ")]),e._v(e._s(e.formatDatetime(t.completed_at)))]),n("td",{attrs:{"data-label":"Annotation"}},[n("span",{staticClass:"mobile only list__label"},[e._v(e._s(e.$t("insights.annotation"))+" ")]),1==t.annotation?n("i",{staticClass:"large green checkmark icon"}):0==t.annotation?n("i",{staticClass:"large red times icon"}):-1==t.annotation?n("i",{staticClass:"large grey question icon"}):e._e()]),n("td",{attrs:{"data-label":"Automatic"}},[n("span",{staticClass:"mobile only list__label"},[e._v(e._s(e.$t("insights.automatic"))+" ")]),t.automatic_processing?n("i",{staticClass:"large green checkmark icon"}):e._e()])])})),0)]),e.resultCount?n("div",[n("pagination",{attrs:{"page-count":e.pageCount},on:{change:e.updatedPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1):e._e()],1)},kt=[],xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"pagination"},[e.paginationLabels.first?n("li",{staticClass:"pagination-item mobile hidden"},[n("button",{staticClass:"compact ui button",attrs:{disabled:e.hasFirst},domProps:{innerHTML:e._s(e.paginationLabels.first)},on:{click:e.first}})]):e._e(),e.paginationLabels.prev?n("li",{staticClass:"pagination-item mobile hidden"},[n("button",{staticClass:"compact ui button",attrs:{disabled:e.hasFirst},domProps:{innerHTML:e._s(e.paginationLabels.prev)},on:{click:e.prev}})]):e._e(),e._l(e.items,(function(t){return n("li",{key:t.label,staticClass:"pagination-item"},[t.disable?n("span",[e._v("...")]):n("button",{staticClass:"compact ui button",class:t.active?"primary":"",on:{click:function(n){return e.goto(t.label)}}},[e._v(e._s(t.label))])])})),e.paginationLabels.next?n("li",{staticClass:"pagination-item mobile hidden"},[n("button",{staticClass:"compact ui button",attrs:{disabled:e.hasLast},domProps:{innerHTML:e._s(e.paginationLabels.next)},on:{click:e.next}})]):e._e(),e.paginationLabels.last?n("li",{staticClass:"pagination-item mobile hidden"},[n("button",{staticClass:"compact ui button",attrs:{disabled:e.hasLast},domProps:{innerHTML:e._s(e.paginationLabels.last)},on:{click:e.last}})]):e._e()],2)},It=[],wt={props:{value:{type:Number,required:!0},pageCount:{type:Number,required:!0},labels:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{paginationLabels:{first:"&laquo;",prev:"&lsaquo;",next:"&rsaquo;",last:"&raquo;"}}},mounted:function(){this.value>this.pageCount&&this.$emit("input",this.pageCount)},computed:{items:function(){for(var e=this.value>1?this.value-1:1,t=this.value<this.pageCount?this.value+1:this.pageCount,n=3===e?2:null,a=t===this.pageCount-2?this.pageCount-1:null,o=e>3?2:null,i=t<this.pageCount-2?this.pageCount-1:null,s=[],r=1;r<=this.pageCount;r+=1)[1,this.pageCount,this.value,e,t,n,a,o,i].includes(r)&&s.push({label:r,active:this.value===r,disable:[o,i].includes(r)});return s},hasFirst:function(){return 1===this.value},hasLast:function(){return this.value===this.pageCount}},watch:{value:function(){this.$emit("change")}},methods:{first:function(){this.hasFirst||this.$emit("input",1)},prev:function(){this.hasFirst||this.$emit("input",this.value-1)},goto:function(e){this.$emit("input",e)},next:function(){this.hasLast||this.$emit("input",this.value+1)},last:function(){this.hasLast||this.$emit("input",this.pageCount)}}},St=wt,Lt=(n("9de6"),Object(w["a"])(St,xt,It,!1,null,"4e54b946",null)),Pt=Lt.exports,Ot={name:"InsightListView",components:{Pagination:Pt,LoadingSpinner:pe},data:function(){return{currentPage:1,insights:[],pageSize:25,resultCount:0,barcodeFilter:"",insightTypeFilter:"",annotationFilter:"",valueTagFilter:"",loading:!1}},computed:{pageCount:function(){if(0==this.resultCount)return 0;var e=Math.floor(this.resultCount/this.pageSize);return this.resultCount%this.pageSize!==0&&(e+=1),e}},methods:{formatDatetime:function(e){return e?e.split(".")[0]:null},updatedPage:function(){this.loadInsights()},loadInsights:function(){var e=this;this.loading=!0,H.getInsights(this.barcodeFilter,this.insightTypeFilter,this.valueTagFilter,this.annotationFilter,this.currentPage,this.pageSize).then((function(t){e.insights=t.data.insights,e.resultCount=t.data.count,e.loading=!1})).catch((function(){e.loading=!1}))}},mounted:function(){this.loadInsights()}},At=Ot,jt=(n("acd6"),Object(w["a"])(At,_t,kt,!1,null,null,null)),$t=jt.exports,Tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui container"},[n("div",[n("h2",[e._v(e._s(e.$t("logos.search")))]),n("div",{staticClass:"ui divider hidden"}),n("form",{staticClass:"ui form",on:{submit:function(t){return t.preventDefault(),e.search.apply(null,arguments)}}},[n("div",{staticClass:"three fields"},[n("div",{staticClass:"field"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.value,expression:"value",modifiers:{trim:!0}}],attrs:{type:"text",name:"value",placeholder:e.$t("logos.value")},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),n("div",{staticClass:"field"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.barcode,expression:"barcode",modifiers:{trim:!0}}],attrs:{type:"text",name:"barcode",placeholder:e.$t("logos.barcode")},domProps:{value:e.barcode},on:{input:function(t){t.target.composing||(e.barcode=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),n("div",{staticClass:"field"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],staticClass:"ui fluid dropdown",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.type=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[e._v(e._s(e.$t("logos.type")))]),n("option",{attrs:{value:"label"}},[e._v(e._s(e.$t("logos.label")))]),n("option",{attrs:{value:"brand"}},[e._v(e._s(e.$t("logos.brand")))]),n("option",{attrs:{value:"packager_code"}},[e._v(e._s(e.$t("logos.packager_code")))]),n("option",{attrs:{value:"packaging"}},[e._v(e._s(e.$t("logos.packaging")))]),n("option",{attrs:{value:"qr_code"}},[e._v(e._s(e.$t("logos.qr_code")))]),n("option",{attrs:{value:"category"}},[e._v(e._s(e.$t("logos.category")))]),n("option",{attrs:{value:"nutrition_label"}},[e._v(e._s(e.$t("logos.nutrition_label")))]),n("option",{attrs:{value:"store"}},[e._v(e._s(e.$t("logos.store")))])])]),n("div",{staticClass:"field"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.count,expression:"count",modifiers:{trim:!0}}],attrs:{type:"number",name:"count"},domProps:{value:e.count},on:{input:function(t){t.target.composing||(e.count=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),n("div",{staticClass:"field"},[n("button",{staticClass:"ui button primary",attrs:{type:"submit"}},[e._v(e._s(e.$t("logos.search")))])])])]),n("div",{staticClass:"ui divider hidden"}),n("LoadingSpinner",{attrs:{show:e.loading}}),!e.loading&&e.logos.length>0?n("div",[n("p",[e._v(e._s(e.$t("logos.number_of_results"))+" "+e._s(e.resultCount))]),n("LogoCardGrid",{attrs:{logos:e.logos,selectable:!1}})],1):e._e(),e.loading||0!=e.logos.length?e._e():n("div",[n("p",[n("strong",[e._v(e._s(e.$t("logos.no_found")))])])])],1)])},Rt=[],Nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"ui grid"},e._l(e.logos,(function(t){return n("div",{key:t.id,staticClass:"four wide mobile-landscape eight wide mobile four wide tablet three wide computer column"},[n("div",{staticClass:"ui fluid card ann-logo",class:{selected:t.selected,annotated:t.annotation_type},on:{click:function(n){return e.toggleSelectLogo(t)}}},[n("div",{staticClass:"content actions"},[n("div",{staticClass:"left floated meta"},[n("router-link",{attrs:{to:e.editLogoURL(t),target:"_blank"}},[n("i",{staticClass:"edit icon"})])],1),n("div",{staticClass:"right floated meta"},[n("router-link",{attrs:{to:e.externalLogoURL(t),target:"_blank"}},[n("i",{staticClass:"external alternate icon blue"})])],1)]),n("div",{staticClass:"content logo-image"},[n("img",{attrs:{loading:"lazy",src:t.image.url}})]),n("div",{staticClass:"content distance"},[t.distance?n("p",[e._v(e._s(e.$t("logos.distance"))+" "+e._s(t.distance.toFixed(1)))]):e._e(),t.annotation_value?n("p",[e._v(e._s(e.$t("logos.annotation"))+e._s(t.annotation_value)+" ("+e._s(t.annotation_type)+")")]):e._e()])])])})),0)])},qt=[],Et={name:"LogoCardGrid",props:{logos:{type:Array,required:!0},selectable:{type:Boolean,default:!0}},data:function(){return{}},methods:{externalLogoURL:function(e){return"/logos?logo_id=".concat(e.id)},editLogoURL:function(e){return"/logos/".concat(e.id)},toggleSelectLogo:function(e){this.selectable&&!e.annotation_value&&this.$emit("toggle-select-logo",e)}},computed:{},mounted:function(){}},Dt=Et,Bt=(n("dcc2"),Object(w["a"])(Dt,Nt,qt,!1,null,"7a63dea9",null)),zt=Bt.exports,Mt=function(e){return e.image.url=H.getCroppedImageUrl(te.getImageUrl(e.image.source_image),e.bounding_box),e},Gt={name:"InsightListView",components:{LogoCardGrid:zt,LoadingSpinner:pe},data:function(){return{logos:[],value:"",barcode:"",type:"",resultCount:0,count:25,loading:!1}},computed:{},methods:{search:function(){var e=this;this.loading=!0,H.searchLogos(this.barcode,this.value,this.type,this.count).then((function(t){var n=t.data;e.logos=n.logos.map(Mt),e.resultCount=n.count,e.loading=!1})).catch((function(){e.loading=!1}))}},mounted:function(){this.search()}},Ut=Gt,Qt=(n("9c43"),Object(w["a"])(Ut,Tt,Rt,!1,null,"ade22f58",null)),Vt=Qt.exports,Ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui container"},[n("h2",[e._v(e._s(e.$t("logos.annotations")))]),n("LoadingSpinner",{attrs:{show:0==e.logos.length&&e.loading}}),e.logos.length>0?n("div",[n("form",{staticClass:"ui form",on:{submit:function(t){return t.preventDefault(),e.sendAnnotations.apply(null,arguments)}}},[n("div",{staticClass:"three fields"},[n("div",{staticClass:"field"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.valueInput,expression:"valueInput",modifiers:{trim:!0}}],attrs:{type:"text",name:"value",placeholder:e.$t("logos.value")},domProps:{value:e.valueInput},on:{input:function(t){t.target.composing||(e.valueInput=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),n("div",{staticClass:"field"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.typeInput,expression:"typeInput"}],staticClass:"ui fluid dropdown",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.typeInput=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[e._v(e._s(e.$t("logos.type")))]),n("option",{attrs:{value:"label"}},[e._v(e._s(e.$t("logos.label")))]),n("option",{attrs:{value:"brand"}},[e._v(e._s(e.$t("logos.brand")))]),n("option",{attrs:{value:"packager_code"}},[e._v(e._s(e.$t("logos.packager_code")))]),n("option",{attrs:{value:"packaging"}},[e._v(e._s(e.$t("logos.packaging")))]),n("option",{attrs:{value:"qr_code"}},[e._v(e._s(e.$t("logos.qr_code")))]),n("option",{attrs:{value:"category"}},[e._v(e._s(e.$t("logos.category")))]),n("option",{attrs:{value:"nutrition_label"}},[e._v(e._s(e.$t("logos.nutrition_label")))]),n("option",{attrs:{value:"store"}},[e._v(e._s(e.$t("logos.store")))])])]),n("div",{staticClass:"field"},[n("LoadingSpinner",{attrs:{size:"medium",centered:!1,show:e.logos.length>0&&e.loading}}),e.loading?e._e():n("button",{staticClass:"ui button primary",class:{disabled:!e.isValidAnnotation},attrs:{type:"submit",tabindex:"0"}},[e._v(e._s(e.$t("logos.submit")))])],1)])]),n("div",{staticClass:"ui divider hidden"}),e.logos.length>0?n("div",[n("div",[n("p",[n("span",{staticClass:"borderless-button",on:{click:function(t){return e.selectLogos(!0)}}},[e._v(e._s(e.$t("logos.select_all")))]),e._v(" / "),n("span",{staticClass:"borderless-button",on:{click:function(t){return e.selectLogos(!1)}}},[e._v(e._s(e.$t("logos.unselect_all")))])])]),n("div",{staticClass:"ui divider hidden"}),e.selectedLogos.length>0?n("LogoCardGrid",{attrs:{logos:e.selectedLogos},on:{"toggle-select-logo":e.toggleSelectLogo}}):e._e(),e.unselectedLogos.length>0?n("LogoCardGrid",{attrs:{logos:e.unselectedLogos},on:{"toggle-select-logo":e.toggleSelectLogo}}):e._e()],1):e._e()]):e._e()],1)},Kt=[],Ht=function(e){return e.image.url=H.getCroppedImageUrl(te.getImageUrl(e.image.source_image),e.bounding_box),e.selected=!1,e},Jt=function(e){var t=F("count");return 0==t.length?e:parseInt(t,10)||e},Wt={name:"InsightListView",components:{LogoCardGrid:zt,LoadingSpinner:pe},data:function(){return{logos:[],noLogoAvailable:!1,valueInput:"",typeInput:"",targetLogoId:F("logo_id"),annCount:Jt(100),loading:!1}},computed:{isValidAnnotation:function(){return 0!==this.logos.length&&(0!==this.typeInput.length&&(0!==this.selectedLogos.length&&(0!==this.valueInput.length||!["label","brand","category","store"].includes(this.typeInput))))},selectedLogos:function(){return this.logos.filter((function(e){return!0===e.selected}))},unselectedLogos:function(){return this.logos.filter((function(e){return!1===e.selected}))}},methods:{loadLogos:function(){var e=this;this.loading=!0,H.getLogoAnnotations(this.targetLogoId,F("index"),this.annCount).then((function(t){var n=t.data,a=n.results;H.getLogosImages(a.map((function(e){return e.logo_id}))).then((function(t){e.loading=!1;var n=t.data.logos;e.logos=a.map((function(e){return Object(f["a"])({distance:e.distance},n.filter((function(t){return t.id==e.logo_id}))[0])})).map(Ht)})).catch((function(){e.loading=!1}))})).catch((function(){e.loading=!1}))},toggleSelectLogo:function(e){var t=e.id,n=this.logos.filter((function(e){return e.id===t}))[0];n.selected=!n.selected},sendAnnotations:function(){var e=this,t=this.valueInput.toLowerCase();"packager_code"!==this.typeInput&&"qr_code"!==this.typeInput||(t="");var n=this.selectedLogos.map((function(n){return{logo_id:n.id,value:t,type:e.typeInput}}));this.loading=!0,H.annotateLogos(n).then((function(){e.loading=!1,e.targetLogoId="",e.loadLogos()})).catch((function(){e.loading=!1})),this.valueInput="",this.typeInput=""},selectLogos:function(e){this.logos.forEach((function(t){t.annotation_value||(t.selected=e)}))}},mounted:function(){this.loadLogos()}},Zt=Wt,Yt=(n("3992"),Object(w["a"])(Zt,Ft,Kt,!1,null,"2b92e4f2",null)),Xt=Yt.exports,en=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui container"},[n("div",[n("h2",[e._v(e._s(e.$t("logos.detail")))]),n("p",[e._v(e._s(e.$t("logos.id"))+" "+e._s(e.logoId))]),n("p",[e._v(e._s(e.$t("logos.barcode"))+" "+e._s(e.barcode))]),n("p",[n("a",{attrs:{href:e.imageURL}},[e._v(e._s(e.$t("logos.full_image")))])]),n("img",{attrs:{width:"300px",src:e.cropURL}}),n("div",{staticClass:"ui divider"}),n("form",{staticClass:"ui form",on:{submit:function(t){return t.preventDefault(),e.updateLogo.apply(null,arguments)}}},[n("div",{staticClass:"three fields"},[n("div",{staticClass:"field"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.annotationValue,expression:"annotationValue",modifiers:{trim:!0}}],attrs:{type:"text",name:"value",placeholder:e.$t("logos.value")},domProps:{value:e.annotationValue},on:{input:function(t){t.target.composing||(e.annotationValue=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),n("div",{staticClass:"field"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.annotationType,expression:"annotationType"}],staticClass:"ui fluid dropdown",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.annotationType=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[e._v(e._s(e.$t("logos.type")))]),n("option",{attrs:{value:"label"}},[e._v(e._s(e.$t("logos.label")))]),n("option",{attrs:{value:"brand"}},[e._v(e._s(e.$t("logos.brand")))]),n("option",{attrs:{value:"packager_code"}},[e._v(e._s(e.$t("logos.packager_code")))]),n("option",{attrs:{value:"packaging"}},[e._v(e._s(e.$t("logos.packaging")))]),n("option",{attrs:{value:"qr_code"}},[e._v(e._s(e.$t("logos.qr_code")))]),n("option",{attrs:{value:"category"}},[e._v(e._s(e.$t("logos.category")))]),n("option",{attrs:{value:"nutrition_label"}},[e._v(e._s(e.$t("logos.nutrition_label")))]),n("option",{attrs:{value:"store"}},[e._v(e._s(e.$t("logos.store")))])])]),n("div",{staticClass:"field"},[n("LoadingSpinner",{attrs:{size:"medium",centered:!1,show:e.loading}}),e.loading?e._e():n("button",{staticClass:"ui button primary",attrs:{type:"submit",tabindex:"0"}},[e._v(e._s(e.$t("logos.update")))])],1)])])])])},tn=[],nn=function(e){return te.getImageUrl(e.image.source_image)},an=function(e){return H.getCroppedImageUrl(nn(e),e.bounding_box)},on={name:"InsightListView",components:{LoadingSpinner:pe},data:function(){return{annotationValue:"",annotationType:"",imageURL:"",cropURL:"",barcode:"",loading:!1}},computed:{logoId:function(){return this.$route.params.id}},methods:{loadLogo:function(){var e=this;this.loading=!0,H.loadLogo(this.logoId).then((function(t){var n=t.data;e.imageURL=nn(n),e.cropURL=an(n),e.annotationValue=n.annotation_value,e.annotationType=n.annotation_type,e.barcode=n.image.barcode,e.loading=!1})).catch((function(){e.loading=!1}))},updateLogo:function(){var e=this;if(0!=this.annotationType.length){var t=this.annotationValue.toLowerCase();"packager_code"!==this.annotationType&&"qr_code"!==this.annotationType||(t=""),this.loading=!0,H.updateLogo(this.logoId,t,this.annotationType).then((function(){e.loading=!1,window.console.log("Updated!")})).catch((function(){e.loading=!1}))}}},mounted:function(){this.loadLogo()}},sn=on,rn=Object(w["a"])(sn,en,tn,!1,null,null,null),ln=rn.exports,un=(n("0808"),n("080a")),cn=n.n(un);a["default"].use(cn.a),a["default"].use(o["a"]),a["default"].use(r.a),a["default"].use(i["a"]),a["default"].config.productionTip=!1;var dn=[{path:"/",redirect:"/questions"},{path:"/insights",component:$t},{path:"/questions",component:Re},{path:"/nutritions",component:Ue},{path:"/table",component:lt},{path:"/settings",component:yt},{path:"/logos",component:Xt},{path:"/logos/search",component:Vt},{path:"/logos/:id",component:ln}],gn=new o["a"]({mode:"history",routes:dn}),hn=new i["a"]({locale:p(),messages:bt,fallbackLocale:"en"});new a["default"]({router:gn,i18n:hn,render:function(e){return e(q)}}).$mount("#app")},"5bc1":function(e,t,n){},6192:function(e,t,n){e.exports=n.p+"img/questionsScreenshot.6522c541.png"},"830b":function(e,t,n){e.exports=n.p+"img/logoNameLabel.b6c61dca.png"},"8d2d":function(e,t,n){"use strict";n("1e1a")},9142:function(e,t,n){var a={"./logo.png":"cf05","./logoGeneral.png":"9228","./logoNameLabel.png":"830b","./memLogo.png":"9d5d","./questionsScreenshot.png":"6192"};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=i,e.exports=o,o.id="9142"},"914a":function(e,t,n){},9228:function(e,t,n){e.exports=n.p+"img/logoGeneral.6d043eae.png"},"9bd0":function(e,t,n){"use strict";n("49e4")},"9c43":function(e,t,n){"use strict";n("1d5a")},"9d5d":function(e,t,n){e.exports=n.p+"img/memLogo.7d2de489.png"},"9de6":function(e,t,n){"use strict";n("a85b")},a563:function(e,t,n){"use strict";n("5bc1")},a85b:function(e,t,n){},acd6:function(e,t,n){"use strict";n("914a")},b0b0:function(e,t,n){},b329:function(e,t,n){"use strict";n("10ef")},cf05:function(e,t,n){e.exports=n.p+"img/logo.6c31b90b.png"},d31f:function(e){e.exports=JSON.parse('{"nutriment_energy-kj":null,"nutriment_energy-kcal":null,"nutriment_fat":"g","nutriment_saturated-fat":"g","nutriment_carbohydrates":"g","nutriment_sugars":"g","nutriment_proteins":"g","nutriment_fiber":"g","nutriment_salt":"g","nutriment_sodium":null}')},d90a:function(e){e.exports=JSON.parse('{"questions":{"category":"categoría","label":"etiqueta","brand":"marca","brands":"Marcas","ingredients":"Ingredientes","product_weight":"peso del producto","popularity_sort":"Ordenar por popularidad","no":"No","skip":"Omitir","yes":"Sí","no_questions_remaining":"No quedan preguntas","countries":"Países","view":"Ver","edit":"Editar","value_search":"Valor (fanta, en:organic,...)","hide_images":"Ocultar imágenes (carga más rápida)","display_images":"Mostrar imagen","annotations":"Anotaciones","last_annotations":"Últimas notas","remaining_annotations":"Restante:","annotated_annotations":"Anotado"},"menu":{"games":"Juegos","questions":"Preguntas","logos":"Logotipo","manage":"Administrar","insights":"Percepciones","nutritions":"Información nutricional","settings":"@:settings.settings"},"insights":{"insights":"Percepciones","barcode":"Código de barras","barcode_placeholder":"código de barras","value_tag":"Etiqueta valor","value_placeholder":"ej: en:mueslis, bjorg,...","type":"Tipo","annotated":"Anotado","annotation":"Notas","not_annotated":"No anotado","all":"Todo","label":"Etiqueta","product_weight":"Peso del producto","category":"Categoría","expiration_date":"Fecha de vencimiento","packager_code":"Código de envasador","skipped":"Omitido (-1)","rejected":"Rechazado (0)","accepted":"Aceptado (1)","search":"Buscar","count":"Cantidad","id":"Id","value":"Valor","created_at":"Creado en","completed_at":"Completado en","automatic":"Automático"},"logos":{"annotation":"Anotación: ","annotations":"Anotaciones de logotipo","select_all":"Seleccionar todo","unselect_all":"Deseleccionar todo","distance":"Distancia:","value":"Valor","submit":"Enviar","type":"Tipo","label":"Etiqueta","brand":"Marca","packager_code":"Código de envasador","packaging":"Envases","qr_code":"Código QR","category":"Categoría","nutrition_label":"Tabla Nutricional","store":"Tienda","detail":"Detalle del logotipo","id":"ID del logotipo:","barcode":"Código de barras:","full_image":"Imagen completa","update":"Actualizar","no_found":"Ningún logo encontrado","search":"Buscar","number_of_results":"Número de resultados:"},"settings":{"settings":"Configuración","language":"Idioma","save":"Guardar"}}')},dcc2:function(e,t,n){"use strict";n("19ff")},e088:function(e){e.exports=JSON.parse('{"questions":{"category":"category","label":"label","brand":"brand","brands":"Brands","ingredients":"Ingredients","product_weight":"product weight","popularity_sort":"Sort by popularity","no":"No","skip":"Skip","yes":"Yes","no_questions_remaining":"No questions remaining","countries":"Countries","view":"View","edit":"Edit","value_search":"Value (fanta, en:organic,...)","hide_images":"Hide images (faster loading)","display_images":"Display images","annotations":"Annotations","last_annotations":"Last annotations","remaining_annotations":"Remaining:","annotated_annotations":"Annotated"},"menu":{"games":"Games","questions":"Questions","logos":"Logos","manage":"Manage","insights":"Insights","nutritions":"Nutrition facts","settings":"@:settings.settings"},"insights":{"insights":"Insights","barcode":"Barcode","barcode_placeholder":"barcode","value_tag":"Value tag","value_placeholder":"ex: en:mueslis, bjorg,...","type":"Type","annotated":"Annotated","annotation":"Annotation","not_annotated":"Not annotated","all":"All","label":"Label","product_weight":"Product weight","category":"Category","expiration_date":"Expiration date","packager_code":"Packager code","skipped":"Skipped (-1)","rejected":"Rejected (0)","accepted":"Accepted (1)","search":"Search","count":"Count","id":"Id","value":"Value","created_at":"Created at","completed_at":"Completed at","automatic":"Automatic"},"logos":{"annotation":"Annotation: ","annotations":"Logo annotations","select_all":"Select all","unselect_all":"Unselect all","distance":"Distance:","value":"Value","submit":"Submit","type":"Type","label":"Label","brand":"Brand","packager_code":"Packager code","packaging":"Packaging","qr_code":"QR code","category":"Category","nutrition_label":"Nutrition label","store":"Store","detail":"Logo detail","id":"Logo ID:","barcode":"Barcode:","full_image":"Full image","update":"Update","no_found":"No logo found","search":"Search","number_of_results":"Number of results:"},"settings":{"settings":"Settings","language":"Languages","save":"Save"},"helper":{"title":"Help page","next":"Next","previous":"Previous","close":"Close","welcome":{"page1":["TODO"]}}}')},e363:function(e,t,n){"use strict";n("ee37")},e686:function(e,t,n){"use strict";n("45ff")},ee37:function(e,t,n){},ef44:function(e,t,n){"use strict";n("2ee5")},ff16:function(e){e.exports=JSON.parse('[{"id":"en:afghanistan","label":"Afghanistan","languageCode":"ps","countryCode":"AF"},{"id":"en:aland-islands","label":"Åland Islands","languageCode":"sv","countryCode":"AX"},{"id":"en:albania","label":"Albania","languageCode":"sq","countryCode":"AL"},{"id":"en:alderney","label":"Alderney","languageCode":"en"},{"id":"en:algeria","label":"Algeria","languageCode":"ar","countryCode":"DZ"},{"id":"en:american-samoa","label":"American Samoa","languageCode":"en","countryCode":"AS"},{"id":"en:andorra","label":"Andorra","languageCode":"ca","countryCode":"AD"},{"id":"en:angola","label":"Angola","languageCode":"pt","countryCode":"AO"},{"id":"en:anguilla","label":"Anguilla","languageCode":"en","countryCode":"AI"},{"id":"en:antarctic","label":"Antarctic","languageCode":"","countryCode":"AQ"},{"id":"en:antarctica","label":"Antarctica","languageCode":""},{"id":"en:antigua-and-barbuda","label":"Antigua and Barbuda","languageCode":"en","countryCode":"AG"},{"id":"en:argentina","label":"Argentina","languageCode":"es","countryCode":"AR"},{"id":"en:armenia","label":"Armenia","languageCode":"hy","countryCode":"AM"},{"id":"en:aruba","label":"Aruba","languageCode":"nl","countryCode":"AW"},{"id":"en:ascension-island","label":"Ascension Island","languageCode":""},{"id":"en:australia","label":"Australia","languageCode":"en","countryCode":"AU"},{"id":"en:austria","label":"Austria","languageCode":"de","countryCode":"AT"},{"id":"en:azerbaijan","label":"Azerbaijan","languageCode":"az","countryCode":"AZ"},{"id":"en:bahrain","label":"Bahrain","languageCode":"ar","countryCode":"BH"},{"id":"en:bangladesh","label":"Bangladesh","languageCode":"bn","countryCode":"BD"},{"id":"en:barbados","label":"Barbados","languageCode":"en","countryCode":"BB"},{"id":"en:belarus","label":"Belarus","languageCode":"ru","countryCode":"BY"},{"id":"en:belgium","label":"Belgium","languageCode":"nl","countryCode":"BE"},{"id":"en:belize","label":"Belize","languageCode":"en","countryCode":"BZ"},{"id":"en:benin","label":"Benin","languageCode":"fr","countryCode":"BJ"},{"id":"en:bermuda","label":"Bermuda","languageCode":"en","countryCode":"BM"},{"id":"en:bhutan","label":"Bhutan","languageCode":"dz","countryCode":"BT"},{"id":"en:bolivia","label":"Bolivia","languageCode":"es","countryCode":"BO"},{"id":"en:bonaire","label":"Bonaire","languageCode":"nl"},{"id":"en:bosnia-and-herzegovina","label":"Bosnia and Herzegovina","languageCode":"hr","countryCode":"BA"},{"id":"en:botswana","label":"Botswana","languageCode":"en","countryCode":"BW"},{"id":"en:bouvet-island","label":"Bouvet Island","languageCode":"","countryCode":"BV"},{"id":"en:brazil","label":"Brazil","languageCode":"pt","countryCode":"BR"},{"id":"en:british-indian-ocean-territory","label":"British Indian Ocean Territory","languageCode":"","countryCode":"IO"},{"id":"en:british-virgin-islands","label":"British Virgin Islands","languageCode":"en","countryCode":"VG"},{"id":"en:brunei","label":"Brunei","languageCode":"ms","countryCode":"BN"},{"id":"en:bulgaria","label":"Bulgaria","languageCode":"bg","countryCode":"BG"},{"id":"en:burkina-faso","label":"Burkina Faso","languageCode":"fr","countryCode":"BF"},{"id":"en:burundi","label":"Burundi","languageCode":"fr","countryCode":"BI"},{"id":"en:cambodia","label":"Cambodia","languageCode":"km","countryCode":"KH"},{"id":"en:cameroon","label":"Cameroon","languageCode":"fr","countryCode":"CM"},{"id":"en:canada","label":"Canada","languageCode":"en","countryCode":"CA"},{"id":"en:cape-verde","label":"Cape Verde","languageCode":"pt","countryCode":"CV"},{"id":"en:caribbean-netherlands","label":"Caribbean Netherlands","languageCode":"","countryCode":"BQ"},{"id":"en:cayman-islands","label":"Cayman Islands","languageCode":"","countryCode":"KY"},{"id":"en:central-african-republic","label":"Central African Republic","languageCode":"fr","countryCode":"CF"},{"id":"en:chad","label":"Chad","languageCode":"ar","countryCode":"TD"},{"id":"en:chile","label":"Chile","languageCode":"es","countryCode":"CL"},{"id":"en:china","label":"China","languageCode":"zh","countryCode":"CN"},{"id":"en:christmas-island","label":"Christmas Island","languageCode":"","countryCode":"CX"},{"id":"en:cocos-keeling-islands","label":"Cocos (Keeling) Islands","languageCode":"","countryCode":"CC"},{"id":"en:colombia","label":"Colombia","languageCode":"es","countryCode":"CO"},{"id":"en:comoros","label":"Comoros","languageCode":"ar","countryCode":"KM"},{"id":"en:cook-islands","label":"Cook Islands","languageCode":"","countryCode":"CK"},{"id":"en:costa-rica","label":"Costa Rica","languageCode":"es","countryCode":"CR"},{"id":"en:cote-d-ivoire","label":"Côte d\'Ivoire","languageCode":"fr","countryCode":"CI"},{"id":"en:croatia","label":"Croatia","languageCode":"hr","countryCode":"HR"},{"id":"en:cuba","label":"Cuba","languageCode":"es","countryCode":"CU"},{"id":"en:curacao","label":"Curaçao","languageCode":"en","countryCode":"CW"},{"id":"en:cyprus","label":"Cyprus","languageCode":"el","countryCode":"CY"},{"id":"en:czech-republic","label":"Czech Republic","languageCode":"cs","countryCode":"CZ"},{"id":"en:democratic-republic-of-the-congo","label":"Democratic Republic of the Congo","languageCode":"fr","countryCode":"CD"},{"id":"en:denmark","label":"Denmark","languageCode":"da","countryCode":"DK"},{"id":"en:djibouti","label":"Djibouti","languageCode":"ar","countryCode":"DJ"},{"id":"en:dominica","label":"Dominica","languageCode":"en","countryCode":"DM"},{"id":"en:dominican-republic","label":"Dominican Republic","languageCode":"es","countryCode":"DO"},{"id":"en:east-germany","label":"East Germany","languageCode":""},{"id":"en:ecuador","label":"Ecuador","languageCode":"es","countryCode":"EC"},{"id":"en:egypt","label":"Egypt","languageCode":"ar","countryCode":"EG"},{"id":"en:el-salvador","label":"El Salvador","languageCode":"es","countryCode":"SV"},{"id":"en:equatorial-guinea","label":"Equatorial Guinea","languageCode":"es","countryCode":"GQ"},{"id":"en:eritrea","label":"Eritrea","languageCode":"ar","countryCode":"ER"},{"id":"en:estonia","label":"Estonia","languageCode":"et","countryCode":"EE"},{"id":"en:ethiopia","label":"Ethiopia","languageCode":"am","countryCode":"ET"},{"id":"en:european-union","label":"European Union","languageCode":"en"},{"id":"en:falkland-islands","label":"Falkland Islands","languageCode":"en","countryCode":"FK"},{"id":"en:faroe-islands","label":"Faroe Islands","languageCode":"","countryCode":"FO"},{"id":"en:federated-states-of-micronesia","label":"Federated States of Micronesia","languageCode":"","countryCode":"FM"},{"id":"en:fiji","label":"Fiji","languageCode":"en","countryCode":"FJ"},{"id":"en:finland","label":"Finland","languageCode":"fi","countryCode":"FI"},{"id":"en:france","label":"France","languageCode":"fr","countryCode":"FR"},{"id":"en:french-guiana","label":"French Guiana","languageCode":"fr","countryCode":"GF"},{"id":"en:french-polynesia","label":"French Polynesia","languageCode":"fr","countryCode":"PF"},{"id":"en:french-southern-and-antarctic-lands","label":"French Southern and Antarctic Lands","languageCode":"fr","countryCode":"TF"},{"id":"en:gabon","label":"Gabon","languageCode":"fr","countryCode":"GA"},{"id":"en:galmudug","label":"Galmudug","languageCode":""},{"id":"en:gambia","label":"Gambia","languageCode":"en","countryCode":"GM"},{"id":"en:georgia","label":"Georgia","languageCode":"ka","countryCode":"GE"},{"id":"en:germany","label":"Germany","languageCode":"de","countryCode":"DE"},{"id":"en:ghana","label":"Ghana","languageCode":"en","countryCode":"GH"},{"id":"en:gibraltar","label":"Gibraltar","languageCode":"en","countryCode":"GI"},{"id":"en:greece","label":"Greece","languageCode":"el","countryCode":"GR"},{"id":"en:greenland","label":"Greenland","languageCode":"kl","countryCode":"GL"},{"id":"en:grenada","label":"Grenada","languageCode":"en","countryCode":"GD"},{"id":"en:guadeloupe","label":"Guadeloupe","languageCode":"fr","countryCode":"GP"},{"id":"en:guam","label":"Guam","languageCode":"en","countryCode":"GU"},{"id":"en:guatemala","label":"Guatemala","languageCode":"es","countryCode":"GT"},{"id":"en:guernsey","label":"Guernsey","languageCode":"","countryCode":"GG"},{"id":"en:guinea","label":"Guinea","languageCode":"fr","countryCode":"GN"},{"id":"en:guinea-bissau","label":"Guinea-Bissau","languageCode":"pt","countryCode":"GW"},{"id":"en:guyana","label":"Guyana","languageCode":"en","countryCode":"GY"},{"id":"en:haiti","label":"Haiti","languageCode":"fr","countryCode":"HT"},{"id":"en:heard-island-and-mcdonald-islands","label":"Heard Island and McDonald Islands","languageCode":"","countryCode":"HM"},{"id":"en:honduras","label":"Honduras","languageCode":"es","countryCode":"HN"},{"id":"en:hong-kong","label":"Hong Kong","languageCode":"zh","countryCode":"HK"},{"id":"en:hungary","label":"Hungary","languageCode":"hu","countryCode":"HU"},{"id":"en:iceland","label":"Iceland","languageCode":"is","countryCode":"IS"},{"id":"en:india","label":"India","languageCode":"hi","countryCode":"IN"},{"id":"en:indonesia","label":"Indonesia","languageCode":"id","countryCode":"ID"},{"id":"en:iran","label":"Iran","languageCode":"fa","countryCode":"IR"},{"id":"en:iraq","label":"Iraq","languageCode":"ar","countryCode":"IQ"},{"id":"en:iraqi-kurdistan","label":"Iraqi Kurdistan","languageCode":""},{"id":"en:ireland","label":"Ireland","languageCode":"en","countryCode":"IE"},{"id":"en:isle-of-man","label":"Isle of Man","languageCode":"gv","countryCode":"IM"},{"id":"en:israel","label":"Israel","languageCode":"he","countryCode":"IL"},{"id":"en:italy","label":"Italy","languageCode":"it","countryCode":"IT"},{"id":"en:jamaica","label":"Jamaica","languageCode":"en","countryCode":"JM"},{"id":"en:jan-mayen","label":"Jan Mayen","languageCode":""},{"id":"en:japan","label":"Japan","languageCode":"ja","countryCode":"JP"},{"id":"en:jersey","label":"Jersey","languageCode":"en","countryCode":"JE"},{"id":"en:jordan","label":"Jordan","languageCode":"ar","countryCode":"JO"},{"id":"en:kazakhstan","label":"Kazakhstan","languageCode":"ru","countryCode":"KZ"},{"id":"en:kenya","label":"Kenya","languageCode":"en","countryCode":"KE"},{"id":"en:kiribati","label":"Kiribati","languageCode":"en","countryCode":"KI"},{"id":"en:kosovo","label":"Kosovo","languageCode":"sq","countryCode":"XK"},{"id":"en:kuwait","label":"Kuwait","languageCode":"ar","countryCode":"KW"},{"id":"en:kyrgyzstan","label":"Kyrgyzstan","languageCode":"ru","countryCode":"KG"},{"id":"en:laos","label":"Laos","languageCode":"lo","countryCode":"LA"},{"id":"en:latvia","label":"Latvia","languageCode":"lv","countryCode":"LV"},{"id":"en:lebanon","label":"Lebanon","languageCode":"ar","countryCode":"LB"},{"id":"en:lesotho","label":"Lesotho","languageCode":"en","countryCode":"LS"},{"id":"en:liberia","label":"Liberia","languageCode":"en","countryCode":"LR"},{"id":"en:libya","label":"Libya","languageCode":"ar","countryCode":"LY"},{"id":"en:liechtenstein","label":"Liechtenstein","languageCode":"de","countryCode":"LI"},{"id":"en:lithuania","label":"Lithuania","languageCode":"lt","countryCode":"LT"},{"id":"en:luxembourg","label":"Luxembourg","languageCode":"fr","countryCode":"LU"},{"id":"en:macau","label":"Macau","languageCode":"pt","countryCode":"MO"},{"id":"en:madagascar","label":"Madagascar","languageCode":"fr","countryCode":"MG"},{"id":"en:malawi","label":"Malawi","languageCode":"en","countryCode":"MW"},{"id":"en:malaysia","label":"Malaysia","languageCode":"ms","countryCode":"MY"},{"id":"en:maldives","label":"Maldives","languageCode":"dv","countryCode":"MV"},{"id":"en:mali","label":"Mali","languageCode":"fr","countryCode":"ML"},{"id":"en:malta","label":"Malta","languageCode":"en","countryCode":"MT"},{"id":"en:marshall-islands","label":"Marshall Islands","languageCode":"en","countryCode":"MH"},{"id":"en:martinique","label":"Martinique","languageCode":"fr","countryCode":"MQ"},{"id":"en:mauritania","label":"Mauritania","languageCode":"ar","countryCode":"MR"},{"id":"en:mauritius","label":"Mauritius","languageCode":"fr","countryCode":"MU"},{"id":"en:mayotte","label":"Mayotte","languageCode":"fr","countryCode":"YT"},{"id":"en:mexico","label":"Mexico","languageCode":"es","countryCode":"MX"},{"id":"en:moldova","label":"Moldova","languageCode":"ro","countryCode":"MD"},{"id":"en:monaco","label":"Monaco","languageCode":"fr","countryCode":"MC"},{"id":"en:mongolia","label":"Mongolia","languageCode":"mn","countryCode":"MN"},{"id":"en:montenegro","label":"Montenegro","languageCode":"sr","countryCode":"ME"},{"id":"en:montserrat","label":"Montserrat","languageCode":"en","countryCode":"MS"},{"id":"en:morocco","label":"Morocco","languageCode":"ar","countryCode":"MA"},{"id":"en:mozambique","label":"Mozambique","languageCode":"pt","countryCode":"MZ"},{"id":"en:myanmar","label":"Myanmar","languageCode":"my","countryCode":"MM"},{"id":"en:nakhchivan-autonomous-republic","label":"Nakhchivan Autonomous Republic","languageCode":""},{"id":"en:namibia","label":"Namibia","languageCode":"en","countryCode":"NA"},{"id":"en:nauru","label":"Nauru","languageCode":"na","countryCode":"NR"},{"id":"en:nepal","label":"Nepal","languageCode":"ne","countryCode":"NP"},{"id":"en:netherlands","label":"Netherlands","languageCode":"nl","countryCode":"NL"},{"id":"en:new-caledonia","label":"New Caledonia","languageCode":"fr","countryCode":"NC"},{"id":"en:new-zealand","label":"New Zealand","languageCode":"en","countryCode":"NZ"},{"id":"en:nicaragua","label":"Nicaragua","languageCode":"es","countryCode":"NI"},{"id":"en:niger","label":"Niger","languageCode":"fr","countryCode":"NE"},{"id":"en:nigeria","label":"Nigeria","languageCode":"en","countryCode":"NG"},{"id":"en:niue","label":"Niue","languageCode":"","countryCode":"NU"},{"id":"en:norfolk-island","label":"Norfolk Island","languageCode":"en","countryCode":"NF"},{"id":"en:north-korea","label":"North Korea","languageCode":"ko","countryCode":"KP"},{"id":"en:northern-mariana-islands","label":"Northern Mariana Islands","languageCode":"en","countryCode":"MP"},{"id":"en:northland-state","label":"Northland State","languageCode":""},{"id":"en:norway","label":"Norway","languageCode":"nb","countryCode":"NO"},{"id":"en:oman","label":"Oman","languageCode":"ar","countryCode":"OM"},{"id":"en:pakistan","label":"Pakistan","languageCode":"ur","countryCode":"PK"},{"id":"en:palau","label":"Palau","languageCode":"en","countryCode":"PW"},{"id":"en:palestinian-territories","label":"Palestinian territories","languageCode":"ar"},{"id":"en:panama","label":"Panama","languageCode":"","countryCode":"PA"},{"id":"en:papua-new-guinea","label":"Papua New Guinea","languageCode":"en","countryCode":"PG"},{"id":"en:paraguay","label":"Paraguay","languageCode":"es","countryCode":"PY"},{"id":"en:peru","label":"Peru","languageCode":"es","countryCode":"PE"},{"id":"en:philippines","label":"Philippines","languageCode":"en","countryCode":"PH"},{"id":"en:pitcairn","label":"Pitcairn","languageCode":"","countryCode":"PN"},{"id":"en:poland","label":"Poland","languageCode":"pl","countryCode":"PL"},{"id":"en:portugal","label":"Portugal","languageCode":"pt","countryCode":"PT"},{"id":"en:puerto-rico","label":"Puerto Rico","languageCode":"es","countryCode":"PR"},{"id":"en:qatar","label":"Qatar","languageCode":"ar","countryCode":"QA"},{"id":"en:republic-of-macedonia","label":"Republic of Macedonia","languageCode":"mk","countryCode":"MK"},{"id":"en:republic-of-the-congo","label":"Republic of the Congo","languageCode":"fr","countryCode":"CG"},{"id":"en:republika-srpska","label":"Republika Srpska","languageCode":""},{"id":"en:reunion","label":"Réunion","languageCode":"fr","countryCode":"RE"},{"id":"en:romania","label":"Romania","languageCode":"ro","countryCode":"RO"},{"id":"en:russia","label":"Russia","languageCode":"ru","countryCode":"RU"},{"id":"en:rwanda","label":"Rwanda","languageCode":"en","countryCode":"RW"},{"id":"en:saba","label":"Saba","languageCode":"en"},{"id":"en:saint-helena","label":"Saint Helena","languageCode":"","countryCode":"SH"},{"id":"en:saint-kitts-and-nevis","label":"Saint Kitts and Nevis","languageCode":"en","countryCode":"KN"},{"id":"en:saint-lucia","label":"Saint Lucia","languageCode":"en","countryCode":"LC"},{"id":"en:saint-martin","label":"Saint Martin","languageCode":"fr","countryCode":"MF"},{"id":"en:saint-pierre-and-miquelon","label":"Saint Pierre and Miquelon","languageCode":"fr","countryCode":"PM"},{"id":"en:saint-vincent-and-the-grenadines","label":"Saint Vincent and the Grenadines","languageCode":"en","countryCode":"VC"},{"id":"en:saint-barthelemy","label":"Saint-Barthélemy","languageCode":"fr","countryCode":"BL"},{"id":"en:samoa","label":"Samoa","languageCode":"en","countryCode":"WS"},{"id":"en:san-marino","label":"San Marino","languageCode":"it","countryCode":"SM"},{"id":"en:sao-tome-and-principe","label":"Sao Tomé and Príncipe","languageCode":"pt","countryCode":"ST"},{"id":"en:saudi-arabia","label":"Saudi Arabia","languageCode":"ar","countryCode":"SA"},{"id":"en:senegal","label":"Senegal","languageCode":"fr","countryCode":"SN"},{"id":"en:serbia","label":"Serbia","languageCode":"sr","countryCode":"RS"},{"id":"en:seychelles","label":"Seychelles","languageCode":"fr","countryCode":"SC"},{"id":"en:sierra-leone","label":"Sierra Leone","languageCode":"en","countryCode":"SL"},{"id":"en:singapore","label":"Singapore","languageCode":"en","countryCode":"SG"},{"id":"en:sint-eustatius","label":"Sint Eustatius","languageCode":"en"},{"id":"en:sint-maarten","label":"Sint Maarten","languageCode":"en","countryCode":"SX"},{"id":"en:slovakia","label":"Slovakia","languageCode":"sk","countryCode":"SK"},{"id":"en:slovenia","label":"Slovenia","languageCode":"sl","countryCode":"SI"},{"id":"en:solomon-islands","label":"Solomon Islands","languageCode":"en","countryCode":"SB"},{"id":"en:somalia","label":"Somalia","languageCode":"so","countryCode":"SO"},{"id":"en:south-africa","label":"South Africa","languageCode":"en","countryCode":"ZA"},{"id":"en:south-georgia-and-the-south-sandwich-islands","label":"South Georgia and the South Sandwich Islands","languageCode":"en","countryCode":"GS"},{"id":"en:south-korea","label":"South Korea","languageCode":"ko","countryCode":"KR"},{"id":"en:south-sudan","label":"South Sudan","languageCode":"en","countryCode":"SS"},{"id":"en:soviet-union","label":"Soviet Union","languageCode":"ru"},{"id":"en:spain","label":"Spain","languageCode":"es","countryCode":"ES"},{"id":"en:sri-lanka","label":"Sri Lanka","languageCode":"si","countryCode":"LK"},{"id":"en:state-of-palestine","label":"State of Palestine","languageCode":"ar","countryCode":"PS"},{"id":"en:sudan","label":"Sudan","languageCode":"ar","countryCode":"SD"},{"id":"en:suriname","label":"Suriname","languageCode":"nl","countryCode":"SR"},{"id":"en:svalbard-and-jan-mayen","label":"Svalbard and Jan Mayen","languageCode":"","countryCode":"SJ"},{"id":"en:swaziland","label":"Swaziland","languageCode":"en","countryCode":"SZ"},{"id":"en:sweden","label":"Sweden","languageCode":"sv","countryCode":"SE"},{"id":"en:switzerland","label":"Switzerland","languageCode":"de","countryCode":"CH"},{"id":"en:syria","label":"Syria","languageCode":"ar","countryCode":"SY"},{"id":"en:taiwan","label":"Taiwan","languageCode":"zh","countryCode":"TW"},{"id":"en:tajikistan","label":"Tajikistan","languageCode":"ru","countryCode":"TJ"},{"id":"en:tanzania","label":"Tanzania","languageCode":"en","countryCode":"TZ"},{"id":"en:thailand","label":"Thailand","languageCode":"th","countryCode":"TH"},{"id":"en:the-bahamas","label":"The Bahamas","languageCode":"en","countryCode":"BS"},{"id":"en:timor-leste","label":"Timor-Leste","languageCode":"pt","countryCode":"TL"},{"id":"en:togo","label":"Togo","languageCode":"fr","countryCode":"TG"},{"id":"en:tokelau","label":"Tokelau","languageCode":"","countryCode":"TK"},{"id":"en:tonga","label":"Tonga","languageCode":"en","countryCode":"TO"},{"id":"en:trinidad-and-tobago","label":"Trinidad and Tobago","languageCode":"en","countryCode":"TT"},{"id":"en:tunisia","label":"Tunisia","languageCode":"ar","countryCode":"TN"},{"id":"en:turkey","label":"Turkey","languageCode":"tr","countryCode":"TR"},{"id":"en:turkmenistan","label":"Turkmenistan","languageCode":"tk","countryCode":"TM"},{"id":"en:turks-and-caicos-islands","label":"Turks and Caicos Islands","languageCode":"","countryCode":"TC"},{"id":"en:tuvalu","label":"Tuvalu","languageCode":"en","countryCode":"TV"},{"id":"en:uganda","label":"Uganda","languageCode":"en","countryCode":"UG"},{"id":"en:ukraine","label":"Ukraine","languageCode":"uk","countryCode":"UA"},{"id":"en:united-arab-emirates","label":"United Arab Emirates","languageCode":"ar","countryCode":"AE"},{"id":"en:united-kingdom","label":"United Kingdom","languageCode":"en","countryCode":"UK"},{"id":"en:united-states","label":"United States","languageCode":"en","countryCode":"US"},{"id":"en:united-states-minor-outlying-islands","label":"United States Minor Outlying Islands","languageCode":"","countryCode":"UM"},{"id":"en:uruguay","label":"Uruguay","languageCode":"es","countryCode":"UY"},{"id":"en:uzbekistan","label":"Uzbekistan","languageCode":"uz","countryCode":"UZ"},{"id":"en:vanuatu","label":"Vanuatu","languageCode":"fr","countryCode":"VU"},{"id":"en:vatican-city","label":"Vatican City","languageCode":"it","countryCode":"VA"},{"id":"en:venezuela","label":"Venezuela","languageCode":"es","countryCode":"VE"},{"id":"en:vietnam","label":"Vietnam","languageCode":"vi","countryCode":"VN"},{"id":"en:virgin-islands-of-the-united-states","label":"Virgin Islands of the United States","languageCode":"en","countryCode":"VI"},{"id":"en:wallis-and-futuna","label":"Wallis and Futuna","languageCode":"","countryCode":"WF"},{"id":"en:western-sahara","label":"Western Sahara","languageCode":"","countryCode":"EH"},{"id":"en:world","label":"World","languageCode":"en","countryCode":"world"},{"id":"en:yemen","label":"Yemen","languageCode":"ar","countryCode":"YE"},{"id":"en:yugoslavia","label":"Yugoslavia","languageCode":"","countryCode":"YU"},{"id":"en:zambia","label":"Zambia","languageCode":"en","countryCode":"ZM"},{"id":"en:zimbabwe","label":"Zimbabwe","languageCode":"en","countryCode":"ZW"}]')}});
//# sourceMappingURL=app.acbc9219.js.map